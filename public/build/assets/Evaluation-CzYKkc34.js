import{o as C,R as S,j as e,H as E,b as u,c as j,a as v,d as m}from"./app-DLWZL5EI.js";import{s as h}from"./routeUtils-C6MiLID5.js";import{A as R}from"./App-CPiN04Y0.js";import{P}from"./PageHeader-CiRohPv4.js";import{s as g}from"./toastUtils-CQ8tPw7l.js";import{F as z}from"./ArrowLeftIcon-a6q7R3tQ.js";import{s as n}from"./chunk-4MPZBIMX-C-0XXrsR.js";import{a as A}from"./chunk-CV4BWJDJ-C645uC3W.js";import{d as c}from"./chunk-IHO36JMK-DYeauZfe.js";import{t as x}from"./chunk-WEIB4WXA-BkR_II6X.js";import{i as f}from"./chunk-SQIAVXJX-C5zDfxFa.js";import{s as D}from"./chunk-C3QHEOC2-Bmp2Jpe_.js";import{l as d}from"./chunk-Y5DMIIWQ-zhqLBGLU.js";import"./app-BI-xrU3s.js";import"./index-lAyyVki8.js";/* empty css                      */import"./UserIcon-DiPxEy9e.js";import"./PlusIcon-CgcHryUb.js";import"./Item-hnCJOaQ5.js";import"./SelectionManager-UhxaObWG.js";import"./keyboard-CSKkBtIV.js";import"./index-B5MKI_DQ.js";import"./index-Dz459_my.js";import"./useDialog-LKdJQ55I.js";import"./getScrollParent-B27hviGV.js";import"./useLabels-CKC_NELL.js";import"./VisuallyHidden-Dslt4DE9.js";import"./chunk-WQVQ7P2I-BXEU6rr0.js";import"./number-CB4zbwAz.js";import"./index-D3fxkw17.js";import"./useSelectableItem-Qild1lMf.js";import"./useTreeState-CsNDLaZy.js";import"./useMenuTriggerState-CpMESG3a.js";import"./chunk-LGMZDQT5-BbUrfslF.js";import"./Cog6ToothIcon-CI3NiAkm.js";import"./GlobeAltIcon-CFAl4tmE.js";import"./useBranding-C98uB2bk.js";import"./XMarkIcon-C9tv-sqJ.js";import"./MagnifyingGlassIcon-C9l2NPQE.js";import"./chunk-AUA5GDXN-DgHZKZnK.js";import"./useMediaQuery-CZ_V8brP.js";import"./ShieldCheckIcon-BxwQA0uM.js";import"./AcademicCapIcon-Bs9t2qow.js";import"./IdentificationIcon-6E2VOCK1.js";import"./ArrowRightIcon-BZNmx9ah.js";import"./UsersIcon-CpsA-xGl.js";import"./BoltIcon-BRTqiOqL.js";import"./BriefcaseIcon-CunjT5yU.js";import"./BuildingOfficeIcon-BJoAl2gF.js";import"./CalendarDaysIcon-BR4QgBq8.js";import"./CalendarIcon-BTj7Nn7B.js";import"./ChartBarIcon-CnSK0enl.js";import"./CheckCircleIcon-CaJShsm_.js";import"./CircleStackIcon-20fpj2M5.js";import"./ClipboardDocumentCheckIcon-Bwahsg1t.js";import"./CogIcon-CQIGGanJ.js";import"./DeviceTabletIcon-CR6eyvHQ.js";import"./CpuChipIcon-Dkmm6hKt.js";import"./CurrencyDollarIcon-DK6JNn4H.js";import"./DevicePhoneMobileIcon-DzKKUXAD.js";import"./DocumentArrowUpIcon-CdnT1l-_.js";import"./PencilIcon-Da-ZoIco.js";import"./TrashIcon-C6DesZfk.js";import"./DocumentIcon-YVJ_odhG.js";import"./EnvelopeIcon-BNQywoLu.js";import"./ExclamationCircleIcon-D-5waelr.js";import"./EyeSlashIcon-C7uJqcIF.js";import"./EyeIcon-Ds6DAjR7.js";import"./FunnelIcon-D8WHt0li.js";import"./InformationCircleIcon-2sIUPx4E.js";import"./KeyIcon-Dl6jmBIi.js";import"./LockClosedIcon-DWSbAAT6.js";import"./MapPinIcon-CoSq0ZKP.js";import"./PlusCircleIcon-borTRmVT.js";import"./PrinterIcon-jsVlFWpL.js";import"./RocketLaunchIcon-C1ofXZeY.js";import"./ShoppingCartIcon-DijpYrUE.js";import"./UserCircleIcon-D9Bl7hMN.js";import"./UserGroupIcon-DLyCB4U6.js";import"./chunk-TW2E3XVA-dNGvEz5r.js";import"./chunk-I3A4XRYQ-CbmreU5k.js";import"./useToggleState-C1tJJPv7.js";import"./chunk-ICU6NNET-BuoRM2Mj.js";import"./MaintenanceModeBanner-CpiCdC4n.js";import"./useLabel-BC4q2FsI.js";import"./useNumberFormatter-DOVyNCK1.js";import"./NumberFormatter-DNR9MAW-.js";import"./index-DD7PnbC4.js";import"./chunk-KQW2TNLT-BxZBj3py.js";import"./useField-CN4URFK6.js";import"./chunk-7F3ZLNJ6-BH294qJ7.js";import"./index-CGn2JJsk.js";function _s({auth:_,application:r,evaluation:i,criteria:F}){const p=!!i,{data:s,setData:a,post:b,put:N,errors:o,processing:y}=C({technical_skills:i?.technical_skills||0,communication_skills:i?.communication_skills||0,problem_solving:i?.problem_solving||0,cultural_fit:i?.cultural_fit||0,leadership:i?.leadership||0,overall_rating:i?.overall_rating||0,strengths:i?.strengths||"",weaknesses:i?.weaknesses||"",recommendation:i?.recommendation||"pending",comments:i?.comments||"",salary_expectation:i?.salary_expectation||"",notice_period:i?.notice_period||"",availability:i?.availability||""});S.useEffect(()=>{const t=(s.technical_skills+s.communication_skills+s.problem_solving+s.cultural_fit+s.leadership)/5;a("overall_rating",Math.round(t*10)/10)},[s.technical_skills,s.communication_skills,s.problem_solving,s.cultural_fit,s.leadership]);const w=t=>{t.preventDefault();const k=p?route("hr.recruitment.evaluations.update",i.id):route("hr.recruitment.evaluations.store",r.id);(p?N:b)(k,{onSuccess:()=>{g.success("Evaluation saved successfully"),h("hr.recruitment.applicants.show",r.id)},onError:()=>g.error("Failed to save evaluation")})},l=t=>t>=8?"success":t>=6?"warning":"danger";return e.jsxs(R,{user:_.user,children:[e.jsx(E,{title:`Evaluate ${r.first_name} ${r.last_name}`}),e.jsx(P,{title:"Candidate Evaluation",description:`Evaluate ${r.first_name} ${r.last_name} for ${r.job?.title}`,action:e.jsx(u,{variant:"flat",startContent:e.jsx(z,{className:"h-5 w-5"}),onPress:()=>h("hr.recruitment.applicants.show",r.id),children:"Back"})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx(j,{className:"lg:col-span-1",children:e.jsx(v,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(A,{src:r.photo_url,name:r.first_name,className:"mx-auto h-20 w-20"}),e.jsxs("h3",{className:"mt-3 font-bold",children:[r.first_name," ",r.last_name]}),e.jsx("p",{className:"text-sm text-default-500",children:r.job?.title}),e.jsx(c,{className:"my-4"}),e.jsxs("div",{className:"space-y-2 text-left text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-500",children:"Experience:"}),e.jsxs("span",{className:"font-medium",children:[r.years_of_experience||0," years"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-500",children:"Applied:"}),e.jsx("span",{className:"font-medium",children:new Date(r.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-500",children:"Status:"}),e.jsx(m,{size:"sm",variant:"flat",color:"primary",children:r.status})]})]}),s.overall_rating>0&&e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"my-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-sm text-default-500",children:"Overall Rating"}),e.jsxs("div",{className:"text-3xl font-bold",style:{color:"hsl(var(--heroui-success))"},children:[s.overall_rating,"/10"]})]})]})]})})}),e.jsx(j,{className:"lg:col-span-2",children:e.jsx(v,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-lg font-semibold",children:"Skills Assessment"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Technical Skills"}),e.jsxs(m,{size:"sm",color:l(s.technical_skills),variant:"flat",children:[s.technical_skills,"/10"]})]}),e.jsx(n,{value:s.technical_skills,onChange:t=>a("technical_skills",t),maxValue:10,step:1,color:l(s.technical_skills),showSteps:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Communication Skills"}),e.jsxs(m,{size:"sm",color:l(s.communication_skills),variant:"flat",children:[s.communication_skills,"/10"]})]}),e.jsx(n,{value:s.communication_skills,onChange:t=>a("communication_skills",t),maxValue:10,step:1,color:l(s.communication_skills),showSteps:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Problem Solving"}),e.jsxs(m,{size:"sm",color:l(s.problem_solving),variant:"flat",children:[s.problem_solving,"/10"]})]}),e.jsx(n,{value:s.problem_solving,onChange:t=>a("problem_solving",t),maxValue:10,step:1,color:l(s.problem_solving),showSteps:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Cultural Fit"}),e.jsxs(m,{size:"sm",color:l(s.cultural_fit),variant:"flat",children:[s.cultural_fit,"/10"]})]}),e.jsx(n,{value:s.cultural_fit,onChange:t=>a("cultural_fit",t),maxValue:10,step:1,color:l(s.cultural_fit),showSteps:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Leadership Potential"}),e.jsxs(m,{size:"sm",color:l(s.leadership),variant:"flat",children:[s.leadership,"/10"]})]}),e.jsx(n,{value:s.leadership,onChange:t=>a("leadership",t),maxValue:10,step:1,color:l(s.leadership),showSteps:!0})]})]})]}),e.jsx(c,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(x,{label:"Strengths",placeholder:"List candidate's key strengths...",value:s.strengths,onChange:t=>a("strengths",t.target.value),minRows:4,isInvalid:!!o.strengths,errorMessage:o.strengths}),e.jsx(x,{label:"Areas for Improvement",placeholder:"List areas where candidate can improve...",value:s.weaknesses,onChange:t=>a("weaknesses",t.target.value),minRows:4,isInvalid:!!o.weaknesses,errorMessage:o.weaknesses})]}),e.jsx(x,{label:"Overall Comments",placeholder:"Provide overall feedback and observations...",value:s.comments,onChange:t=>a("comments",t.target.value),minRows:6,isInvalid:!!o.comments,errorMessage:o.comments}),e.jsx(c,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(f,{label:"Salary Expectation",placeholder:"e.g., $80,000",value:s.salary_expectation,onChange:t=>a("salary_expectation",t.target.value)}),e.jsx(f,{label:"Notice Period",placeholder:"e.g., 2 weeks",value:s.notice_period,onChange:t=>a("notice_period",t.target.value)}),e.jsx(f,{label:"Availability",placeholder:"e.g., Immediate",value:s.availability,onChange:t=>a("availability",t.target.value)})]}),e.jsxs(D,{label:"Recommendation",placeholder:"Select recommendation",selectedKeys:[s.recommendation],onChange:t=>a("recommendation",t.target.value),isRequired:!0,children:[e.jsx(d,{value:"strongly_recommend",children:"Strongly Recommend"},"strongly_recommend"),e.jsx(d,{value:"recommend",children:"Recommend"},"recommend"),e.jsx(d,{value:"pending",children:"Pending Decision"},"pending"),e.jsx(d,{value:"not_recommend",children:"Do Not Recommend"},"not_recommend")]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(u,{variant:"flat",onPress:()=>h("hr.recruitment.applicants.show",r.id),children:"Cancel"}),e.jsx(u,{type:"submit",color:"primary",isLoading:y,children:p?"Update Evaluation":"Submit Evaluation"})]})]})})})]})]})}export{_s as default};
