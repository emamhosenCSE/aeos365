import{aO as b,r as o,ah as B,D as U,aV as k,aW as N,a2 as _,j as h}from"./app-BgLDHKD5.js";function te(t,a,e){let r=b(()=>{e&&e(a)});o.useEffect(()=>{var l;let i=t==null||(l=t.current)===null||l===void 0?void 0:l.form;return i?.addEventListener("reset",r),()=>{i?.removeEventListener("reset",r)}},[t,r])}var q=B({base:"flex flex-col gap-2 items-start"});const S={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},A={...S,customError:!0,valid:!1},$={isInvalid:!1,validationDetails:S,validationErrors:[]},O=o.createContext({}),L="__formValidationState"+Date.now();function ae(t){if(t[L]){let{realtimeValidation:a,displayValidation:e,updateValidation:r,resetValidation:l,commitValidation:i}=t[L];return{realtimeValidation:a,displayValidation:e,updateValidation:r,resetValidation:l,commitValidation:i}}return Q(t)}function Q(t){let{isInvalid:a,validationState:e,name:r,value:l,builtinValidation:i,validate:s,validationBehavior:d="aria"}=t;e&&(a||(a=e==="invalid"));let v=a!==void 0?{isInvalid:a,validationErrors:[],validationDetails:A}:null,u=o.useMemo(()=>{if(!s||l==null)return null;let c=K(s,l);return R(c)},[s,l]);i?.validationDetails.valid&&(i=void 0);let n=o.useContext(O),f=o.useMemo(()=>r?Array.isArray(r)?r.flatMap(c=>M(n[c])):M(n[r]):[],[n,r]),[m,F]=o.useState(n),[w,V]=o.useState(!1);n!==m&&(F(n),V(!1));let E=o.useMemo(()=>R(w?[]:f),[w,f]),C=o.useRef($),[g,p]=o.useState($),y=o.useRef($),P=()=>{if(!T)return;x(!1);let c=u||i||C.current;I(c,y.current)||(y.current=c,p(c))},[T,x]=o.useState(!1);return o.useEffect(P),{realtimeValidation:v||E||u||i||$,displayValidation:d==="native"?v||E||g:v||E||u||i||g,updateValidation(c){d==="aria"&&!I(g,c)?p(c):C.current=c},resetValidation(){let c=$;I(c,y.current)||(y.current=c,p(c)),d==="native"&&x(!1),V(!0)},commitValidation(){d==="native"&&x(!0),V(!0)}}}function M(t){return t?Array.isArray(t)?t:[t]:[]}function K(t,a){if(typeof t=="function"){let e=t(a);if(e&&typeof e!="boolean")return M(e)}return[]}function R(t){return t.length?{isInvalid:!0,validationErrors:t,validationDetails:A}:null}function I(t,a){return t===a?!0:!!t&&!!a&&t.isInvalid===a.isInvalid&&t.validationErrors.length===a.validationErrors.length&&t.validationErrors.every((e,r)=>e===a.validationErrors[r])&&Object.entries(t.validationDetails).every(([e,r])=>a.validationDetails[e]===r)}function ie(...t){let a=new Set,e=!1,r={...S};for(let s of t){var l,i;for(let d of s.validationErrors)a.add(d);e||(e=s.isInvalid);for(let d in r)(l=r)[i=d]||(l[i]=s.validationDetails[d])}return r.valid=!e,{isInvalid:e,validationErrors:[...a],validationDetails:r}}function re(t,a,e){let{validationBehavior:r,focus:l}=t;U(()=>{if(r==="native"&&e?.current&&!e.current.disabled){let u=a.realtimeValidation.isInvalid?a.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";e.current.setCustomValidity(u),e.current.hasAttribute("title")||(e.current.title=""),a.realtimeValidation.isInvalid||a.updateValidation(Y(e.current))}});let i=o.useRef(!1),s=b(()=>{i.current||a.resetValidation()}),d=b(u=>{var n;a.displayValidation.isInvalid||a.commitValidation();let f=e==null||(n=e.current)===null||n===void 0?void 0:n.form;if(!u.defaultPrevented&&e&&f&&z(f)===e.current){var m;l?l():(m=e.current)===null||m===void 0||m.focus(),k("keyboard")}u.preventDefault()}),v=b(()=>{a.commitValidation()});o.useEffect(()=>{let u=e?.current;if(!u)return;let n=u.form,f=n?.reset;return n&&(n.reset=()=>{i.current=!window.event||window.event.type==="message"&&window.event.target instanceof MessagePort,f?.call(n),i.current=!1}),u.addEventListener("invalid",d),u.addEventListener("change",v),n?.addEventListener("reset",s),()=>{u.removeEventListener("invalid",d),u.removeEventListener("change",v),n?.removeEventListener("reset",s),n&&(n.reset=f)}},[e,d,v,s,r])}function W(t){let a=t.validity;return{badInput:a.badInput,customError:a.customError,patternMismatch:a.patternMismatch,rangeOverflow:a.rangeOverflow,rangeUnderflow:a.rangeUnderflow,stepMismatch:a.stepMismatch,tooLong:a.tooLong,tooShort:a.tooShort,typeMismatch:a.typeMismatch,valueMissing:a.valueMissing,valid:a.valid}}function Y(t){return{isInvalid:!t.validity.valid,validationDetails:W(t),validationErrors:t.validationMessage?[t.validationMessage]:[]}}function z(t){for(let a=0;a<t.elements.length;a++){let e=t.elements[a];if(!e.validity.valid)return e}return null}var D=Symbol("default");function G(t){const a=o.useRef(null),e=o.useRef(void 0),r=o.useCallback(l=>{if(typeof t=="function"){const i=t,s=i(l);return()=>{typeof s=="function"?s():i(null)}}else if(t)return t.current=l,()=>{t.current=null}},[t]);return o.useMemo(()=>({get current(){return a.current},set current(l){a.current=l,e.current&&(e.current(),e.current=void 0),l!=null&&(e.current=r(l))}}),[r])}function H(t,a){let e=o.useContext(t);if(a===null)return null;if(e&&typeof e=="object"&&"slots"in e&&e.slots){let r=new Intl.ListFormat().format(Object.keys(e.slots).map(i=>`"${i}"`));if(!a&&!e.slots[D])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let l=a||D;if(!e.slots[l])throw new Error(`Invalid slot "${a}". Valid slot names are ${r}.`);return e.slots[l]}return e}function J(t,a,e){let r=H(e,t.slot)||{},{ref:l,...i}=r,s=G(o.useMemo(()=>N(a,l),[a,l])),d=_(i,t);return"style"in i&&i.style&&"style"in t&&t.style&&(typeof i.style=="function"||typeof t.style=="function"?d.style=v=>{let u=typeof i.style=="function"?i.style(v):i.style,n={...v.defaultStyle,...u},f=typeof t.style=="function"?t.style({...v,defaultStyle:n}):t.style;return{...n,...f}}:d.style={...i.style,...t.style}),[d,s]}var j=o.createContext(null);o.forwardRef(function(a,e){[a,e]=J(a,e,j);let{validationErrors:r,validationBehavior:l="native",children:i,className:s,...d}=a;const v=o.useMemo(()=>q({className:s}),[s]);return h.jsx("form",{noValidate:l!=="native",...d,ref:e,className:v,children:h.jsx(j.Provider,{value:{...a,validationBehavior:l},children:h.jsx(O.Provider,{value:r??{},children:i})})})});export{te as $,j as F,ae as a,re as b,ie as c,L as d,$ as e,S as f,H as u};
