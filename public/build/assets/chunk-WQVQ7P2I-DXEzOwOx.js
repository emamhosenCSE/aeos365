import{r as X,aK as dt,z as ut,B as W}from"./app-B6wsOsaS.js";import{$ as q}from"./number-CB4zbwAz.js";function pt(){return typeof window.ResizeObserver<"u"}function D(e){const{ref:t,box:l,onResize:r}=e;X.useEffect(()=>{let o=t?.current;if(o)if(pt()){const n=new window.ResizeObserver(s=>{s.length&&r()});return n.observe(o,{box:l}),()=>{o&&n.unobserve(o)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t,l])}const M={top:"top",bottom:"top",left:"left",right:"left"},Z={top:"bottom",bottom:"top",left:"right",right:"left"},gt={top:"left",left:"top"},J={top:"height",left:"width"},nt={width:"totalWidth",height:"totalHeight"},U={};let P=typeof document<"u"?window.visualViewport:null;function tt(e){let t=0,l=0,r=0,o=0,n=0,s=0,i={};var $;let d=(($=P?.scale)!==null&&$!==void 0?$:1)>1;if(e.tagName==="BODY"){let u=document.documentElement;r=u.clientWidth,o=u.clientHeight;var p;t=(p=P?.width)!==null&&p!==void 0?p:r;var m;l=(m=P?.height)!==null&&m!==void 0?m:o,i.top=u.scrollTop||e.scrollTop,i.left=u.scrollLeft||e.scrollLeft,P&&(n=P.offsetTop,s=P.offsetLeft)}else({width:t,height:l,top:n,left:s}=O(e,!1)),i.top=e.scrollTop,i.left=e.scrollLeft,r=t,o=l;if(dt()&&(e.tagName==="BODY"||e.tagName==="HTML")&&d){i.top=0,i.left=0;var g;n=(g=P?.pageTop)!==null&&g!==void 0?g:0;var c;s=(c=P?.pageLeft)!==null&&c!==void 0?c:0}return{width:t,height:l,totalWidth:r,totalHeight:o,scroll:i,top:n,left:s}}function mt(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function et(e,t,l,r,o,n,s){var i;let $=(i=o.scroll[e])!==null&&i!==void 0?i:0,d=r[J[e]],p=r.scroll[M[e]]+n,m=d+r.scroll[M[e]]-n,g=t-$+s[e]-r[M[e]],c=t-$+l+s[e]-r[M[e]];return g<p?p-g:c>m?Math.max(m-c,p-g):0}function vt(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function ot(e){if(U[e])return U[e];let[t,l]=e.split(" "),r=M[t]||"right",o=gt[r];M[l]||(l="center");let n=J[r],s=J[o];return U[e]={placement:t,crossPlacement:l,axis:r,crossAxis:o,size:n,crossSize:s},U[e]}function K(e,t,l,r,o,n,s,i,$,d){let{placement:p,crossPlacement:m,axis:g,crossAxis:c,size:u,crossSize:v}=r,f={};var T;f[c]=(T=e[c])!==null&&T!==void 0?T:0;var a,w,x,R;m==="center"?f[c]+=(((a=e[v])!==null&&a!==void 0?a:0)-((w=l[v])!==null&&w!==void 0?w:0))/2:m!==c&&(f[c]+=((x=e[v])!==null&&x!==void 0?x:0)-((R=l[v])!==null&&R!==void 0?R:0)),f[c]+=n;const h=e[c]-l[v]+$+d,C=e[c]+e[v]-$-d;if(f[c]=q(f[c],h,C),p===g){const Y=i?s[u]:t[nt[u]];f[Z[g]]=Math.floor(Y-e[g]+o)}else f[g]=Math.floor(e[g]+e[u]+o);return f}function ht(e,t,l,r,o,n,s,i){const $=r?l.height:t[nt.height];var d;let p=e.top!=null?l.top+e.top:l.top+($-((d=e.bottom)!==null&&d!==void 0?d:0)-s);var m,g,c,u,v,f;let T=i!=="top"?Math.max(0,t.height+t.top+((m=t.scroll.top)!==null&&m!==void 0?m:0)-p-(((g=o.top)!==null&&g!==void 0?g:0)+((c=o.bottom)!==null&&c!==void 0?c:0)+n)):Math.max(0,p+s-(t.top+((u=t.scroll.top)!==null&&u!==void 0?u:0))-(((v=o.top)!==null&&v!==void 0?v:0)+((f=o.bottom)!==null&&f!==void 0?f:0)+n));return Math.min(t.height-n*2,T)}function lt(e,t,l,r,o,n){let{placement:s,axis:i,size:$}=n;var d,p;if(s===i)return Math.max(0,l[i]-e[i]-((d=e.scroll[i])!==null&&d!==void 0?d:0)+t[i]-((p=r[i])!==null&&p!==void 0?p:0)-r[Z[i]]-o);var m;return Math.max(0,e[$]+e[i]+e.scroll[i]-t[i]-l[i]-l[$]-((m=r[i])!==null&&m!==void 0?m:0)-r[Z[i]]-o)}function $t(e,t,l,r,o,n,s,i,$,d,p,m,g,c,u,v){let f=ot(e),{size:T,crossAxis:a,crossSize:w,placement:x,crossPlacement:R}=f,h=K(t,i,l,f,p,m,d,g,u,v),C=p,Y=lt(i,d,t,o,n+p,f);if(s&&r[T]>Y){let G=ot(`${Z[x]} ${R}`),ft=K(t,i,l,G,p,m,d,g,u,v);lt(i,d,t,o,n+p,G)>Y&&(f=G,h=ft,C=p)}let z="bottom";f.axis==="top"?f.placement==="top"?z="top":f.placement==="bottom"&&(z="bottom"):f.crossAxis==="top"&&(f.crossPlacement==="top"?z="bottom":f.crossPlacement==="bottom"&&(z="top"));let A=et(a,h[a],l[w],i,$,n,d);h[a]+=A;let S=ht(h,i,d,g,o,n,l.height,z);c&&c<S&&(S=c),l.height=Math.min(l.height,S),h=K(t,i,l,f,C,m,d,g,u,v),A=et(a,h[a],l[w],i,$,n,d),h[a]+=A;let E={},L=t[a]-h[a]-o[M[a]],y=L+.5*t[w];const B=u/2+v;var H,k,N,I;const _=M[a]==="left"?((H=o.left)!==null&&H!==void 0?H:0)+((k=o.right)!==null&&k!==void 0?k:0):((N=o.top)!==null&&N!==void 0?N:0)+((I=o.bottom)!==null&&I!==void 0?I:0),F=l[w]-_-u/2-v,j=t[a]+u/2-(h[a]+o[M[a]]),at=t[a]+t[w]-u/2-(h[a]+o[M[a]]),st=q(y,j,at);E[a]=q(st,B,F),{placement:x,crossPlacement:R}=f,u?L=E[a]:R==="right"?L+=t[w]:R==="center"&&(L+=t[w]/2);let V=x==="left"||x==="top"?l[T]:0,ct={x:x==="top"||x==="bottom"?L:V,y:x==="left"||x==="right"?L:V};return{position:h,maxHeight:S,arrowOffsetLeft:E.left,arrowOffsetTop:E.top,placement:x,triggerAnchorPoint:ct}}function bt(e){let{placement:t,targetNode:l,overlayNode:r,scrollNode:o,padding:n,shouldFlip:s,boundaryElement:i,offset:$,crossOffset:d,maxHeight:p,arrowSize:m=0,arrowBoundaryOffset:g=0}=e,c=r instanceof HTMLElement?xt(r):document.documentElement,u=c===document.documentElement;const v=window.getComputedStyle(c).position;let f=!!v&&v!=="static",T=u?O(l,!1):rt(l,c,!1);if(!u){let{marginTop:E,marginLeft:L}=window.getComputedStyle(l);T.top+=parseInt(E,10)||0,T.left+=parseInt(L,10)||0}let a=O(r,!0),w=vt(r);var x,R;a.width+=((x=w.left)!==null&&x!==void 0?x:0)+((R=w.right)!==null&&R!==void 0?R:0);var h,C;a.height+=((h=w.top)!==null&&h!==void 0?h:0)+((C=w.bottom)!==null&&C!==void 0?C:0);let Y=mt(o),z=tt(i),A=tt(c),S=i.tagName==="BODY"?O(c,!1):rt(c,i,!1);return c.tagName==="HTML"&&i.tagName==="BODY"&&(A.scroll.top=0,A.scroll.left=0),$t(t,T,a,Y,w,n,s,z,A,S,$,d,f,p,m,g)}function Q(e,t){let{top:l,left:r,width:o,height:n}=e.getBoundingClientRect();return t&&e instanceof e.ownerDocument.defaultView.HTMLElement&&(o=e.offsetWidth,n=e.offsetHeight),{top:l,left:r,width:o,height:n}}function O(e,t){let{top:l,left:r,width:o,height:n}=Q(e,t),{scrollTop:s,scrollLeft:i,clientTop:$,clientLeft:d}=document.documentElement;return{top:l+s-$,left:r+i-d,width:o,height:n}}function rt(e,t,l){let r=window.getComputedStyle(e),o;if(r.position==="fixed")o=Q(e,l);else{o=O(e,l);let n=O(t,l),s=window.getComputedStyle(t);n.top+=(parseInt(s.borderTopWidth,10)||0)-t.scrollTop,n.left+=(parseInt(s.borderLeftWidth,10)||0)-t.scrollLeft,o.top-=n.top,o.left-=n.left}return o.top-=parseInt(r.marginTop,10)||0,o.left-=parseInt(r.marginLeft,10)||0,o}function xt(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!it(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!it(t);)t=t.parentElement;return t||document.documentElement}function it(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const wt=new WeakMap;function Et(e){let{triggerRef:t,isOpen:l,onClose:r}=e;X.useEffect(()=>{if(!l||r===null)return;let o=n=>{let s=n.target;if(!t.current||s instanceof Node&&!s.contains(t.current)||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let i=r||wt.get(t.current);i&&i()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[l,r,t])}let b=typeof document<"u"?window.visualViewport:null;function Ht(e){let{direction:t}=ut(),{arrowSize:l,targetRef:r,overlayRef:o,arrowRef:n,scrollRef:s=o,placement:i="bottom",containerPadding:$=12,shouldFlip:d=!0,boundaryElement:p=typeof document<"u"?document.body:null,offset:m=0,crossOffset:g=0,shouldUpdatePosition:c=!0,isOpen:u=!0,onClose:v,maxHeight:f,arrowBoundaryOffset:T=0}=e,[a,w]=X.useState(null),x=[c,i,o.current,r.current,n?.current,s.current,$,d,p,m,g,u,t,f,T,l],R=X.useRef(b?.scale);X.useEffect(()=>{u&&(R.current=b?.scale)},[u]);let h=X.useCallback(()=>{if(c===!1||!u||!o.current||!r.current||!p||b?.scale!==R.current)return;let E=null;if(s.current&&s.current.contains(document.activeElement)){var L;let _=(L=document.activeElement)===null||L===void 0?void 0:L.getBoundingClientRect(),F=s.current.getBoundingClientRect();var y;if(E={type:"top",offset:((y=_?.top)!==null&&y!==void 0?y:0)-F.top},E.offset>F.height/2){E.type="bottom";var B;E.offset=((B=_?.bottom)!==null&&B!==void 0?B:0)-F.bottom}}let H=o.current;if(!f&&o.current){var k;H.style.top="0px",H.style.bottom="";var N;H.style.maxHeight=((N=(k=window.visualViewport)===null||k===void 0?void 0:k.height)!==null&&N!==void 0?N:window.innerHeight)+"px"}let I=bt({placement:Lt(i,t),overlayNode:o.current,targetNode:r.current,scrollNode:s.current||o.current,padding:$,shouldFlip:d,boundaryElement:p,offset:m,crossOffset:g,maxHeight:f,arrowSize:l??(n?.current?Q(n.current,!0).width:0),arrowBoundaryOffset:T});if(I.position){if(H.style.top="",H.style.bottom="",H.style.left="",H.style.right="",Object.keys(I.position).forEach(_=>H.style[_]=I.position[_]+"px"),H.style.maxHeight=I.maxHeight!=null?I.maxHeight+"px":"",E&&document.activeElement&&s.current){let _=document.activeElement.getBoundingClientRect(),F=s.current.getBoundingClientRect(),j=_[E.type]-F[E.type];s.current.scrollTop+=j-E.offset}w(I)}},x);W(h,x),Pt(h),D({ref:o,onResize:h}),D({ref:r,onResize:h});let C=X.useRef(!1);W(()=>{let E,L=()=>{C.current=!0,clearTimeout(E),E=setTimeout(()=>{C.current=!1},500),h()},y=()=>{C.current&&L()};return b?.addEventListener("resize",L),b?.addEventListener("scroll",y),()=>{b?.removeEventListener("resize",L),b?.removeEventListener("scroll",y)}},[h]);let Y=X.useCallback(()=>{C.current||v?.()},[v,C]);Et({triggerRef:r,isOpen:u,onClose:v&&Y});var z,A,S;return{overlayProps:{style:{position:a?"absolute":"fixed",top:a?void 0:0,left:a?void 0:0,zIndex:1e5,...a?.position,maxHeight:(z=a?.maxHeight)!==null&&z!==void 0?z:"100vh"}},placement:(A=a?.placement)!==null&&A!==void 0?A:null,triggerAnchorPoint:(S=a?.triggerAnchorPoint)!==null&&S!==void 0?S:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:a?.arrowOffsetLeft,top:a?.arrowOffsetTop}},updatePosition:h}}function Pt(e){W(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function Lt(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}var _t=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return t?.[e]||{}},zt=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[e],At=(e,t)=>{if(t.includes("-")){const[l]=t.split("-");if(l.includes(e))return!1}return!0},St=(e,t)=>{if(t.includes("-")){const[,l]=t.split("-");return`${e}-${l}`}return e};export{Ht as $,_t as a,wt as b,At as c,St as g,zt as t};
