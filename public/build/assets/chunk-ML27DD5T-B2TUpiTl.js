import{W as J,ax as Q,U as X,V as j,z as Y,r as f,$ as ee,q as V,t as U,a5 as W,w as _,j as k,a3 as L,bi as te,ac as se,a4 as T,ad as le,a7 as B,Z as ae,a0 as ie,bj as z,a1 as ne}from"./app-C5lQX7UO.js";import{$ as H}from"./useLabels-BSPM8vAp.js";import{$ as oe}from"./useHasTabbableChild-B9fcPVL6.js";import{m as re}from"./chunk-LGMZDQT5-JOtjRivx.js";import{t as de}from"./index-CokAva9Y.js";import{$ as ce}from"./useSelectableItem-D9HgBYPJ.js";import{$ as ue}from"./chunk-Y5DMIIWQ-CcWrQJnK.js";import{$ as be}from"./index-BXRhekn9.js";import{f as fe}from"./SelectionManager-DOykb5Zn.js";import{a as ve}from"./Item-Cf2efc_s.js";const q=new WeakMap;function O(s,e,t){return s?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${q.get(s)}-${t}-${e}`):""}function me(s,e,t){let{key:a,isDisabled:l,shouldSelectOnPressUp:n}=s,{selectionManager:c,selectedKey:u}=e,o=a===u,d=l||e.isDisabled||e.selectionManager.isDisabled(a),{itemProps:r,isPressed:y}=ce({selectionManager:c,key:a,ref:t,isDisabled:d,shouldSelectOnPressUp:n,linkBehavior:"selection"}),D=O(e,a,"tab"),m=O(e,a,"tabpanel"),{tabIndex:$}=r,v=e.collection.getItem(a),h=J(v?.props,{labelable:!0});delete h.id;let N=Q(v?.props),{focusableProps:g}=X({isDisabled:d},t);return{tabProps:j(h,g,N,r,{id:D,"aria-selected":o,"aria-disabled":d||void 0,"aria-controls":o?m:void 0,tabIndex:d?void 0:$,role:"tab"}),isSelected:o,isDisabled:d,isPressed:y}}function he(s,e,t){let a=oe(t)?void 0:0;var l;const n=O(e,(l=s.id)!==null&&l!==void 0?l:e?.selectedKey,"tabpanel"),c=H({...s,id:n,"aria-labelledby":O(e,e?.selectedKey,"tab")});return{tabPanelProps:j(c,{tabIndex:a,role:"tabpanel","aria-describedby":s["aria-describedby"],"aria-details":s["aria-details"]})}}class ye{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var t,a;return this.disabledKeys.has(e)||!!(!((a=this.collection.getItem(e))===null||a===void 0||(t=a.props)===null||t===void 0)&&t.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let t=e;do t=this.collection.getKeyAfter(t),t==null&&(t=this.collection.getFirstKey());while(t!=null&&this.isDisabled(t));return t}getPreviousKey(e){let t=e;do t=this.collection.getKeyBefore(t),t==null&&(t=this.collection.getLastKey());while(t!=null&&this.isDisabled(t));return t}constructor(e,t,a,l=new Set){this.collection=e,this.flipDirection=t==="rtl"&&a==="horizontal",this.disabledKeys=l,this.tabDirection=a==="horizontal"}}function pe(s,e,t){let{orientation:a="horizontal",keyboardActivation:l="automatic"}=s,{collection:n,selectionManager:c,disabledKeys:u}=e,{direction:o}=Y(),d=f.useMemo(()=>new ye(n,o,a,u),[n,u,a,o]),{collectionProps:r}=fe({ref:t,selectionManager:c,keyboardDelegate:d,selectOnFocus:l==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),y=ee();q.set(e,y);let D=H({...s,id:y});return{tabListProps:{...j(r,D),role:"tablist","aria-orientation":a,tabIndex:void 0}}}var Z=V((s,e)=>{var t,a;const{as:l,tabKey:n,destroyInactiveTabPanel:c,state:u,className:o,slots:d,classNames:r,...y}=s,D=l||"div",m=U(e),{tabPanelProps:$}=he({...s,id:String(n)},u,m),{focusProps:v,isFocused:h,isFocusVisible:N}=W(),g=u.selectedItem,K=u.collection.getItem(n).props.children,b=_(r?.panel,o,(t=g?.props)==null?void 0:t.className),p=n===g?.key;return!K||!p&&c?null:k.jsx(D,{ref:m,"data-focus":h,"data-focus-visible":N,"data-inert":p?void 0:"true",inert:te(!p),...p&&L($,v,y),className:(a=d.panel)==null?void 0:a.call(d,{class:b}),"data-slot":"panel",children:K})});Z.displayName="HeroUI.TabPanel";var $e=Z,G=V((s,e)=>{var t;const{className:a,as:l,item:n,state:c,classNames:u,isDisabled:o,listRef:d,slots:r,shouldSelectOnPressUp:y,tabRef:D,...m}=s,{key:$}=n,v=U(e),h=l||(s.href?"a":"button"),N=typeof h=="string",{tabProps:g,isSelected:K,isDisabled:b,isPressed:p}=me({key:$,isDisabled:o,shouldSelectOnPressUp:y},c,v);s.children==null&&delete g["aria-controls"];const w=o||b,{focusProps:I,isFocused:M,isFocusVisible:P}=W(),{hoverProps:A,isHovered:R}=se({isDisabled:w}),i=_(u?.tab,a),x=()=>{!v?.current||!d?.current||de(v.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:d?.current})};return k.jsx(h,{ref:re(v,D),"data-disabled":T(b),"data-focus":T(M),"data-focus-visible":T(P),"data-hover":T(R),"data-hover-unselected":T((R||p)&&!K),"data-key":$,"data-pressed":T(p),"data-selected":T(K),"data-slot":"tab",...L(g,w?{}:{...I,...A},B(m,{enabled:N,omitPropNames:new Set(["title"]),omitEventNames:new Set(["onClick"])}),{onClick:le(x,g.onClick)}),className:(t=r.tab)==null?void 0:t.call(r,{class:i}),title:m?.titleValue,type:h==="button"?"button":void 0,children:k.jsx("div",{className:r.tabContent({class:u?.tabContent}),"data-slot":"tabContent",children:n.rendered})})});G.displayName="HeroUI.Tab";var ge=G;function Ke(s){var e;let[t,a]=be(s.selectedKey,(e=s.defaultSelectedKey)!==null&&e!==void 0?e:null,s.onSelectionChange),l=f.useMemo(()=>t!=null?[t]:[],[t]),{collection:n,disabledKeys:c,selectionManager:u}=ue({...s,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:l,onSelectionChange:d=>{if(d==="all")return;var r;let y=(r=d.values().next().value)!==null&&r!==void 0?r:null;y===t&&s.onSelectionChange&&s.onSelectionChange(y),a(y)}}),o=t!=null?n.getItem(t):null;return{collection:n,disabledKeys:c,selectionManager:u,selectedKey:t,setSelectedKey:a,selectedItem:o}}function Pe(s){var e,t;let a=Ke({...s,onSelectionChange:s.onSelectionChange?o=>{var d;o!=null&&((d=s.onSelectionChange)===null||d===void 0||d.call(s,o))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(t=(e=s.defaultSelectedKey)!==null&&e!==void 0?e:E(s.collection,s.disabledKeys?new Set(s.disabledKeys):new Set))!==null&&t!==void 0?t:void 0}),{selectionManager:l,collection:n,selectedKey:c}=a,u=f.useRef(c);return f.useEffect(()=>{let o=c;s.selectedKey==null&&(l.isEmpty||o==null||!n.getItem(o))&&(o=E(n,a.disabledKeys),o!=null&&l.setSelectedKeys([o])),(o!=null&&l.focusedKey==null||!l.isFocused&&o!==u.current)&&l.setFocusedKey(o),u.current=o}),{...a,isDisabled:s.isDisabled||!1}}function E(s,e){let t=null;if(s){var a,l,n,c;for(t=s.getFirstKey();t!=null&&(e.has(t)||!((l=s.getItem(t))===null||l===void 0||(a=l.props)===null||a===void 0)&&a.isDisabled)&&t!==s.getLastKey();)t=s.getKeyAfter(t);t!=null&&(e.has(t)||!((c=s.getItem(t))===null||c===void 0||(n=c.props)===null||n===void 0)&&n.isDisabled)&&t===s.getLastKey()&&(t=s.getFirstKey())}return t}function xe(s){var e,t,a;const l=ae(),[n,c]=ie(s,z.variantKeys),{ref:u,as:o,className:d,classNames:r,children:y,disableCursorAnimation:D,isVertical:m=!1,shouldSelectOnPressUp:$=!0,destroyInactiveTabPanel:v=!0,...h}=n,N=o||"div",g=typeof N=="string",K=U(u),b=(t=(e=s?.disableAnimation)!=null?e:l?.disableAnimation)!=null?t:!1,p=(a=c.placement)!=null?a:m?"start":"top",w=m||p==="start"||p==="end"?"vertical":"horizontal",I=Pe({children:y,...h}),{tabListProps:M}=pe({...h,orientation:w},I,K),P=f.useMemo(()=>z({...c,disableAnimation:b,...m?{placement:"start"}:{}}),[ne(c),b,m]),A=_(r?.base,d),R=f.useMemo(()=>({state:I,slots:P,classNames:r,disableAnimation:b,listRef:K,shouldSelectOnPressUp:$,disableCursorAnimation:D,isDisabled:s?.isDisabled}),[I,P,K,b,D,$,s?.isDisabled,r]),i=f.useCallback(S=>({"data-slot":"base",className:P.base({class:_(A,S?.className)}),...L(B(h,{enabled:g}),S)}),[A,h,P]),x=f.useCallback(S=>({"data-slot":"tabWrapper",className:P.tabWrapper({class:_(r?.tabWrapper,S?.className)}),"data-placement":p,"data-vertical":m||p==="start"||p==="end"?"vertical":"horizontal"}),[r,P,p,m]),C=f.useCallback(S=>({ref:K,"data-slot":"tabList",className:P.tabList({class:_(r?.tabList,S?.className)}),...L(M,S)}),[K,M,r,P]),F=f.useCallback(S=>({"data-slot":"cursor",className:P.cursor({class:_(r?.cursor,S?.className)})}),[r,P]);return{Component:N,domRef:K,state:I,values:R,destroyInactiveTabPanel:v,getBaseProps:i,getTabListProps:C,getWrapperProps:x,getTabCursorProps:F}}var Se=V(function(e,t){const{Component:a,values:l,state:n,domRef:c,destroyInactiveTabPanel:u,getBaseProps:o,getTabListProps:d,getWrapperProps:r,getTabCursorProps:y}=xe({...e,ref:t}),D={state:n,listRef:l.listRef,slots:l.slots,classNames:l.classNames,isDisabled:l.isDisabled,shouldSelectOnPressUp:l.shouldSelectOnPressUp},m=[...n.collection].map(i=>k.jsx(ge,{item:i,...D,...i.props},i.key)),$=e?.variant,v=f.useRef(void 0),h=e?.isVertical,N=f.useRef(void 0),g=e?.placement,K=f.useRef(void 0),b=f.useRef(null),p=n.selectedItem,w=p?.key,I=f.useCallback(i=>$==="underlined"?{left:`${i.left+i.width*.1}px`,top:`${i.top+i.height-2}px`,width:`${i.width*.8}px`,height:""}:{left:`${i.left}px`,top:`${i.top}px`,width:`${i.width}px`,height:`${i.height}px`},[$]),M=f.useCallback(i=>{var x;($!==v.current||h!==N.current||g!==K.current)&&((x=b.current)==null||x.removeAttribute("data-animated")),i(),v.current=$,N.current=h,K.current=g,requestAnimationFrame(()=>{var C,F;(C=b.current)==null||C.setAttribute("data-animated","true"),(F=b.current)==null||F.setAttribute("data-initialized","true")})},[h,$,g]),P=f.useCallback(i=>{if(!b.current)return;const x={width:i.offsetWidth,height:i.offsetHeight,left:i.offsetLeft,top:i.offsetTop},C=I(x);M(()=>{b.current.style.left=C.left,b.current.style.top=C.top,b.current.style.width=C.width,b.current.style.height=C.height})},[b.current,I,M]),A=f.useCallback(i=>{const x=i[0].contentRect;x.width===0&&x.height===0||P(i[0].target)},[P]);f.useEffect(()=>{var i;const x=(i=c.current)==null?void 0:i.querySelector(`[data-key="${w}"]`);if(!x)return;const C=new ResizeObserver(A);return C.observe(x),()=>C.disconnect()},[c.current,A,w]);const R=f.useMemo(()=>k.jsxs(k.Fragment,{children:[k.jsx("div",{...o(),children:k.jsxs(a,{...d(),children:[!l.disableAnimation&&!l.disableCursorAnimation&&w!=null&&k.jsx("span",{...y(),ref:b}),m]})}),[...n.collection].map(i=>k.jsx($e,{classNames:l.classNames,destroyInactiveTabPanel:u,slots:l.slots,state:l.state,tabKey:i.key},i.key))]}),[a,o,d,y,m,w,n.collection,l.disableAnimation,l.disableCursorAnimation,l.classNames,l.slots,l.state,u,c,b,$,h]);return"placement"in e||"isVertical"in e?k.jsx("div",{...r(),children:R}):R}),Fe=Se,De=ve,Le=De;export{Le as a,Fe as t};
