import{r,f as m,a as f,j as e,F as p,b as h}from"./app-Dl9IyCSr.js";import{u as x}from"./index-Xidjn7UE.js";import{m as b,a as y,b as g,c as v}from"./chunk-TW2E3XVA-DtgLl7Jw.js";import{m as j}from"./chunk-5LXTSPS7-DlGepOai.js";import"./app-Bq-q9uAS.js";import"./index-CUhURnVS.js";import"./index-BszNIda9.js";import"./index-Tq9ucszV.js";import"./useDialog-DuOQxqXI.js";import"./VisuallyHidden-Cr3of3YJ.js";import"./keyboard-BDXbbW6H.js";import"./useLabels-BHV0yBRh.js";function S(s=!0,o=6e4){const[c,i]=r.useState(!0),[t,n]=r.useState(!1),l=r.useCallback(async()=>{if(!(!s||t)){n(!0);try{(await m.get(route("platform.register.details"))).status===200&&i(!0)}catch(a){(a.response?.status===419||a.response?.status===302)&&i(!1)}finally{n(!1)}}},[s,t]);r.useEffect(()=>{if(!s)return;const a=setInterval(l,o),d=()=>{document.visibilityState==="visible"&&l()};return document.addEventListener("visibilitychange",d),()=>{clearInterval(a),document.removeEventListener("visibilitychange",d)}},[s,o,l]);const u=r.useCallback(()=>{f.visit(route("platform.register.index"))},[]);return{isSessionValid:c,isChecking:t,checkSession:l,restartRegistration:u}}function L(){const{isSessionValid:s,restartRegistration:o}=S(!0,6e4),{isOpen:c,onOpen:i,onClose:t}=x();r.useEffect(()=>{s||i()},[s,i]);const n=()=>{t(),o()};return e.jsx(b,{isOpen:c,onOpenChange:t,isDismissable:!1,hideCloseButton:!0,classNames:{base:"bg-content1",header:"border-b border-divider",body:"py-6",footer:"border-t border-divider"},children:e.jsxs(y,{children:[e.jsxs(g,{className:"flex gap-2 items-center",children:[e.jsx(p,{className:"w-5 h-5 text-warning"}),e.jsx("span",{children:"Session Expired"})]}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-default-600",children:"Your registration session has expired due to inactivity."}),e.jsx("p",{className:"text-sm text-default-500",children:"Don't worry! If you've already entered your details, we may be able to resume your registration. Click below to restart."})]})}),e.jsx(j,{children:e.jsx(h,{color:"primary",onPress:n,className:"w-full",children:"Restart Registration"})})]})})}export{L as default};
