import{r,j as t,H as z,m as P,b as g,d as y}from"./app-C5lQX7UO.js";import{A as U,u as I}from"./App-b0cSRXv4.js";import{e as V,d as H,a as O,b as W,m as o}from"./PlusIcon-hCCa9Avo.js";import{F as q}from"./MagnifyingGlassIcon-FD9b4416.js";import{a as G}from"./IdentificationIcon-DDN2LgD3.js";import{i as J}from"./chunk-SQIAVXJX-JCrnSLUk.js";import{s as f}from"./chunk-C3QHEOC2-C4U64fsk.js";import{l as n}from"./chunk-Y5DMIIWQ-CcWrQJnK.js";import{t as K,a as Q,b as X,c as Y}from"./chunk-F3UDT23P-CMYbTKRy.js";import{t as Z,a as ee}from"./chunk-YRZGWF2W-CHYoo8uo.js";import{p as te}from"./chunk-NL7EUJG2-DhVVxgtT.js";import"./app-Bq-q9uAS.js";import"./index-BeiV6kVn.js";/* empty css                      */import"./routeUtils-Dar4FrIb.js";import"./toastUtils-FOPlT_v5.js";import"./chunk-CV4BWJDJ-C2siGNsy.js";import"./index-DhmF-6Cs.js";import"./index-BXRhekn9.js";import"./UserIcon-Bny3-uxA.js";import"./Cog6ToothIcon-BxIVzCrx.js";import"./GlobeAltIcon-DSSOsrBF.js";import"./useBranding-BdLeVaZK.js";import"./useDialog-CPcCu8EE.js";import"./VisuallyHidden-BIYdY5qX.js";import"./keyboard-BROQwhc4.js";import"./useLabels-BSPM8vAp.js";import"./index-CZEthvtF.js";import"./XMarkIcon-67ql1OSv.js";import"./chunk-AUA5GDXN-BfGxDRDE.js";import"./chunk-WQVQ7P2I-Das5P9Cf.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-JOtjRivx.js";import"./useMediaQuery-DKZmmC24.js";import"./chunk-IHO36JMK-C2CY5vR0.js";import"./ShieldCheckIcon-Lr4RcW0o.js";import"./AcademicCapIcon-qLTocPBU.js";import"./ArrowLeftIcon-CEF9dMYC.js";import"./ArrowRightIcon-D5L4KbEU.js";import"./BriefcaseIcon-MCw9JH5Q.js";import"./BuildingOfficeIcon-DHDfq3Il.js";import"./CalendarDaysIcon-B0vwq9qL.js";import"./CalendarIcon-DLOXfZsM.js";import"./CheckCircleIcon-BDeABBju.js";import"./CircleStackIcon-Bn_usKCe.js";import"./ClipboardDocumentCheckIcon-DbCJJdKR.js";import"./CogIcon-Bp9coc2a.js";import"./DeviceTabletIcon-DzmMmOeR.js";import"./CpuChipIcon-Do_08dh9.js";import"./CurrencyDollarIcon-BeQq8PBJ.js";import"./DevicePhoneMobileIcon-CaXezoVt.js";import"./DocumentArrowUpIcon-CUP7Txvb.js";import"./DocumentIcon-BaxxzUaB.js";import"./EnvelopeIcon-BV7JE3W8.js";import"./ExclamationCircleIcon-FoF6j9gu.js";import"./EyeIcon-1Rngeclu.js";import"./InformationCircleIcon-CvrzIYvC.js";import"./KeyIcon-BkwPixaL.js";import"./LockClosedIcon-CBY3J_Eq.js";import"./MapPinIcon-C1ZKJRuX.js";import"./PlusCircleIcon-BOXDRGJR.js";import"./PrinterIcon-BkL3DXP0.js";import"./RocketLaunchIcon-oIcFgtS_.js";import"./ShoppingCartIcon-CTTedb3q.js";import"./UserCircleIcon-CGukKXVi.js";import"./UserGroupIcon-BUxfF95Y.js";import"./chunk-TW2E3XVA-BpqqyJRF.js";import"./chunk-I3A4XRYQ-DAco9gg9.js";import"./useToggleState-BJ_Q2hhA.js";import"./chunk-ICU6NNET-KTThvCTm.js";import"./MaintenanceModeBanner-WmsYYFVK.js";import"./Item-Cf2efc_s.js";import"./SelectionManager-DOykb5Zn.js";import"./index-DuvEf_dB.js";import"./useSelectableItem-D9HgBYPJ.js";import"./useTreeState-7-jX6Eit.js";import"./useMenuTriggerState-Bm6SXfn-.js";import"./chunk-KQW2TNLT-FgiaJ7J5.js";import"./useLabel-BcTiTZIt.js";import"./chunk-7F3ZLNJ6-DwE1PLMW.js";import"./index-DeaY2kDj.js";import"./chunk-PMMJMDBI-C-cH3j7I.js";import"./index-CI4LZYcs.js";import"./useHasTabbableChild-B9fcPVL6.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-CNd1Dliv.js";const Mt=({accounts:b=[],auth:j})=>{const[l,_]=r.useState(""),[c,C]=r.useState("all"),[m,S]=r.useState("all"),[u,k]=r.useState("all"),[d,v]=r.useState(1),p=10,[ae,A]=r.useState(!1);r.useEffect(()=>{const e=()=>A(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const i=()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",s=parseInt(a);return s===0?"none":s<=4?"sm":s<=8?"md":s<=12?"lg":"full"},N=e=>j?.user?.permissions?.includes(e)||j?.user?.is_super_admin,h=b.length>0?b:[{id:1,name:"Business Checking",bank:"Chase Bank",account_number:"****1234",type:"checking",currency:"USD",balance:125e3,status:"active"},{id:2,name:"Savings Account",bank:"Wells Fargo",account_number:"****5678",type:"savings",currency:"USD",balance:5e4,status:"active"},{id:3,name:"Business Credit Card",bank:"American Express",account_number:"****9012",type:"credit_card",currency:"USD",balance:-8500,status:"active"},{id:4,name:"Payroll Account",bank:"Bank of America",account_number:"****3456",type:"checking",currency:"USD",balance:75e3,status:"active"}],B={active:"success",inactive:"warning",closed:"default"},w={checking:"Checking",savings:"Savings",credit_card:"Credit Card",loan:"Loan",investment:"Investment"},x=r.useMemo(()=>h.filter(e=>{const a=e.name.toLowerCase().includes(l.toLowerCase())||e.account_number.toLowerCase().includes(l.toLowerCase()),s=c==="all"||e.bank===c,D=m==="all"||e.type===m,$=u==="all"||e.status===u;return a&&s&&D&&$}),[h,l,c,m,u]),F=Math.ceil(x.length/p),L=r.useMemo(()=>{const e=(d-1)*p,a=e+p;return x.slice(e,a)},[d,x]),R=(e,a="USD")=>`${e<0?"-":""}$${Math.abs(e).toLocaleString()}`,T=e=>{_(e),v(1)},E=(e,a)=>{switch(a){case"name":return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5 text-primary"}),t.jsx("span",{className:"font-medium",children:e.name})]});case"bank":return t.jsx("span",{children:e.bank});case"account_number":return t.jsx("span",{className:"font-mono text-sm",children:e.account_number});case"type":return t.jsx("span",{children:w[e.type]});case"currency":return t.jsx(y,{size:"sm",variant:"flat",children:e.currency});case"balance":const s=e.balance<0;return t.jsx("span",{className:`font-semibold ${s?"text-danger":"text-success"}`,children:R(e.balance,e.currency)});case"status":return t.jsx(y,{color:B[e.status],size:"sm",variant:"flat",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)});case"actions":return t.jsxs(H,{children:[t.jsx(O,{children:t.jsx(g,{isIconOnly:!0,size:"sm",variant:"light",children:t.jsx(I,{className:"w-5 h-5"})})}),t.jsxs(W,{"aria-label":"Account actions",children:[t.jsx(o,{children:"View Details"},"view"),t.jsx(o,{children:"View Transactions"},"transactions"),t.jsx(o,{children:"Reconcile"},"reconcile"),t.jsx(o,{children:"Edit"},"edit"),t.jsx(o,{className:"text-warning",color:"warning",children:"Deactivate"},"deactivate")]})]});default:return null}},M=[{uid:"name",name:"Account Name"},{uid:"bank",name:"Bank"},{uid:"account_number",name:"Account Number"},{uid:"type",name:"Type"},{uid:"currency",name:"Currency"},{uid:"balance",name:"Balance"},{uid:"status",name:"Status"},{uid:"actions",name:"Actions"}];return t.jsxs(U,{children:[t.jsx(z,{title:"Bank Accounts"}),t.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bank Accounts"}),t.jsx("p",{className:"text-default-500",children:"Manage your bank accounts and balances"})]}),N("finance.bank-accounts.create")&&t.jsx(g,{color:"primary",startContent:t.jsx(V,{className:"w-5 h-5"}),radius:i(),children:"Add Account"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsx(J,{placeholder:"Search accounts...",value:l,onValueChange:T,startContent:t.jsx(q,{className:"w-4 h-4 text-default-400"}),className:"w-full sm:w-64",radius:i()}),t.jsxs(f,{placeholder:"All Banks",className:"w-full sm:w-48",radius:i(),onChange:e=>C(e.target.value),children:[t.jsx(n,{value:"all",children:"All Banks"},"all"),[...new Set(h.map(e=>e.bank))].map(e=>t.jsx(n,{value:e,children:e},e))]}),t.jsxs(f,{placeholder:"All Types",className:"w-full sm:w-48",radius:i(),onChange:e=>S(e.target.value),children:[t.jsx(n,{value:"all",children:"All Types"},"all"),Object.entries(w).map(([e,a])=>t.jsx(n,{value:e,children:a},e))]}),t.jsxs(f,{placeholder:"All Status",className:"w-full sm:w-48",radius:i(),onChange:e=>k(e.target.value),children:[t.jsx(n,{value:"all",children:"All Status"},"all"),t.jsx(n,{value:"active",children:"Active"},"active"),t.jsx(n,{value:"inactive",children:"Inactive"},"inactive"),t.jsx(n,{value:"closed",children:"Closed"},"closed")]})]}),t.jsxs(K,{"aria-label":"Bank accounts table",bottomContent:t.jsx("div",{className:"flex w-full justify-center",children:t.jsx(te,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:d,total:F,onChange:e=>v(e)})}),children:[t.jsx(Z,{columns:M,children:e=>t.jsx(ee,{children:e.name},e.uid)}),t.jsx(Q,{items:L,emptyContent:"No bank accounts found",children:e=>t.jsx(X,{children:a=>t.jsx(Y,{children:E(e,a)})},e.id)})]})]})]})};export{Mt as default};
