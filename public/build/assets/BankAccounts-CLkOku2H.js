import{r,j as t,H as z,m as P,b as g,d as y}from"./app-DInl32dX.js";import{A as U,u as I}from"./App-WuTgSQpq.js";import{e as V,d as H,a as O,b as W,m as o}from"./PlusIcon-CsvijEwK.js";import{F as q}from"./MagnifyingGlassIcon-BHtwTbT7.js";import{a as G}from"./IdentificationIcon-CKrgedc9.js";import{i as J}from"./chunk-SQIAVXJX-D14i8yCn.js";import{s as f}from"./chunk-C3QHEOC2-D3HZRbzZ.js";import{l as n}from"./chunk-Y5DMIIWQ-Dpn2oOZz.js";import{t as K,a as Q,b as X,c as Y}from"./chunk-F3UDT23P-xcwvfsFh.js";import{t as Z,a as ee}from"./chunk-YRZGWF2W-kwLZuFgu.js";import{p as te}from"./chunk-NL7EUJG2-C-ztCjvq.js";import"./app-Bq-q9uAS.js";import"./index-DPMKIREV.js";/* empty css                      */import"./routeUtils-C1ntbTNy.js";import"./toastUtils-Dk6tac5H.js";import"./chunk-CV4BWJDJ-DcxL8QrL.js";import"./index-BCLbv8my.js";import"./index-CSng9BnJ.js";import"./UserIcon-BXV25mJ2.js";import"./Cog6ToothIcon-zHlKFwwi.js";import"./GlobeAltIcon-GWZbt4C2.js";import"./useBranding-dC6b8PrL.js";import"./useDialog-8HGvvybm.js";import"./VisuallyHidden-CS7DyqzD.js";import"./keyboard-DNevlDsW.js";import"./useLabels-DRQXF7iz.js";import"./index-C19oxd6b.js";import"./XMarkIcon-Bc5pdXLR.js";import"./chunk-AUA5GDXN-D3hqgLS_.js";import"./chunk-WQVQ7P2I-CFFCRwf1.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-AEtpri7C.js";import"./useMediaQuery-C-YwQMFM.js";import"./chunk-IHO36JMK-D4pDtZyX.js";import"./ShieldCheckIcon-DvFPoteO.js";import"./AcademicCapIcon-CC6YBlU6.js";import"./ArrowLeftIcon-CFp3Pghx.js";import"./ArrowRightIcon-B8tzotBf.js";import"./BriefcaseIcon-Djk_M_FX.js";import"./BuildingOfficeIcon-B3NavyzP.js";import"./CalendarDaysIcon-C0QniVM8.js";import"./CalendarIcon-BDoD0DmU.js";import"./CheckCircleIcon-CBemRlBB.js";import"./CircleStackIcon-BjngXmVM.js";import"./ClipboardDocumentCheckIcon-_A_HhLvf.js";import"./CogIcon-CzJ7j4DE.js";import"./DeviceTabletIcon-De9VuiFM.js";import"./CpuChipIcon-BrpEkwev.js";import"./CurrencyDollarIcon-B3zwuJ0N.js";import"./DevicePhoneMobileIcon-CLvqE2l7.js";import"./DocumentArrowUpIcon-shdZWIak.js";import"./DocumentIcon-CBf8GOfS.js";import"./EnvelopeIcon-DLtlA8EK.js";import"./ExclamationCircleIcon-DwrHwjxW.js";import"./EyeIcon-D4ng1SC5.js";import"./InformationCircleIcon-B9AJIWR0.js";import"./KeyIcon-B2Hwn88Z.js";import"./LockClosedIcon-D9VXsZXL.js";import"./MapPinIcon-DQuQoAYs.js";import"./PlusCircleIcon-BjCDE8zj.js";import"./PrinterIcon-_tOUuOIj.js";import"./RocketLaunchIcon-BNG_hBUS.js";import"./ShoppingCartIcon-uZ3xP94w.js";import"./UserCircleIcon--t-sGGtv.js";import"./UserGroupIcon-D3XNApS5.js";import"./chunk-TW2E3XVA-iMcMikRA.js";import"./chunk-I3A4XRYQ-C0-YSi_Z.js";import"./useToggleState-DazvJpvY.js";import"./chunk-ICU6NNET-DqkKT8ny.js";import"./MaintenanceModeBanner-DqK68c5B.js";import"./Item-DGSYw1SN.js";import"./SelectionManager-C4bZoYw_.js";import"./index-gV97IVYX.js";import"./useSelectableItem-BDDZlxQu.js";import"./useTreeState-wpFJCnLf.js";import"./useMenuTriggerState-CjU22Gti.js";import"./chunk-KQW2TNLT-BWWZAnNV.js";import"./useLabel-CkOStKP1.js";import"./chunk-7F3ZLNJ6-CouOzA8x.js";import"./index-CEAs1XR5.js";import"./chunk-PMMJMDBI-zfrzwnR9.js";import"./index-GuVMPMJG.js";import"./useHasTabbableChild-CYzrd8JV.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-Cg-ZWR_4.js";const Mt=({accounts:b=[],auth:j})=>{const[l,_]=r.useState(""),[c,C]=r.useState("all"),[m,S]=r.useState("all"),[u,k]=r.useState("all"),[d,v]=r.useState(1),p=10,[ae,A]=r.useState(!1);r.useEffect(()=>{const e=()=>A(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const i=()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",s=parseInt(a);return s===0?"none":s<=4?"sm":s<=8?"md":s<=12?"lg":"full"},N=e=>j?.user?.permissions?.includes(e)||j?.user?.is_super_admin,h=b.length>0?b:[{id:1,name:"Business Checking",bank:"Chase Bank",account_number:"****1234",type:"checking",currency:"USD",balance:125e3,status:"active"},{id:2,name:"Savings Account",bank:"Wells Fargo",account_number:"****5678",type:"savings",currency:"USD",balance:5e4,status:"active"},{id:3,name:"Business Credit Card",bank:"American Express",account_number:"****9012",type:"credit_card",currency:"USD",balance:-8500,status:"active"},{id:4,name:"Payroll Account",bank:"Bank of America",account_number:"****3456",type:"checking",currency:"USD",balance:75e3,status:"active"}],B={active:"success",inactive:"warning",closed:"default"},w={checking:"Checking",savings:"Savings",credit_card:"Credit Card",loan:"Loan",investment:"Investment"},x=r.useMemo(()=>h.filter(e=>{const a=e.name.toLowerCase().includes(l.toLowerCase())||e.account_number.toLowerCase().includes(l.toLowerCase()),s=c==="all"||e.bank===c,D=m==="all"||e.type===m,$=u==="all"||e.status===u;return a&&s&&D&&$}),[h,l,c,m,u]),F=Math.ceil(x.length/p),L=r.useMemo(()=>{const e=(d-1)*p,a=e+p;return x.slice(e,a)},[d,x]),R=(e,a="USD")=>`${e<0?"-":""}$${Math.abs(e).toLocaleString()}`,T=e=>{_(e),v(1)},E=(e,a)=>{switch(a){case"name":return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5 text-primary"}),t.jsx("span",{className:"font-medium",children:e.name})]});case"bank":return t.jsx("span",{children:e.bank});case"account_number":return t.jsx("span",{className:"font-mono text-sm",children:e.account_number});case"type":return t.jsx("span",{children:w[e.type]});case"currency":return t.jsx(y,{size:"sm",variant:"flat",children:e.currency});case"balance":const s=e.balance<0;return t.jsx("span",{className:`font-semibold ${s?"text-danger":"text-success"}`,children:R(e.balance,e.currency)});case"status":return t.jsx(y,{color:B[e.status],size:"sm",variant:"flat",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)});case"actions":return t.jsxs(H,{children:[t.jsx(O,{children:t.jsx(g,{isIconOnly:!0,size:"sm",variant:"light",children:t.jsx(I,{className:"w-5 h-5"})})}),t.jsxs(W,{"aria-label":"Account actions",children:[t.jsx(o,{children:"View Details"},"view"),t.jsx(o,{children:"View Transactions"},"transactions"),t.jsx(o,{children:"Reconcile"},"reconcile"),t.jsx(o,{children:"Edit"},"edit"),t.jsx(o,{className:"text-warning",color:"warning",children:"Deactivate"},"deactivate")]})]});default:return null}},M=[{uid:"name",name:"Account Name"},{uid:"bank",name:"Bank"},{uid:"account_number",name:"Account Number"},{uid:"type",name:"Type"},{uid:"currency",name:"Currency"},{uid:"balance",name:"Balance"},{uid:"status",name:"Status"},{uid:"actions",name:"Actions"}];return t.jsxs(U,{children:[t.jsx(z,{title:"Bank Accounts"}),t.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bank Accounts"}),t.jsx("p",{className:"text-default-500",children:"Manage your bank accounts and balances"})]}),N("finance.bank-accounts.create")&&t.jsx(g,{color:"primary",startContent:t.jsx(V,{className:"w-5 h-5"}),radius:i(),children:"Add Account"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsx(J,{placeholder:"Search accounts...",value:l,onValueChange:T,startContent:t.jsx(q,{className:"w-4 h-4 text-default-400"}),className:"w-full sm:w-64",radius:i()}),t.jsxs(f,{placeholder:"All Banks",className:"w-full sm:w-48",radius:i(),onChange:e=>C(e.target.value),children:[t.jsx(n,{value:"all",children:"All Banks"},"all"),[...new Set(h.map(e=>e.bank))].map(e=>t.jsx(n,{value:e,children:e},e))]}),t.jsxs(f,{placeholder:"All Types",className:"w-full sm:w-48",radius:i(),onChange:e=>S(e.target.value),children:[t.jsx(n,{value:"all",children:"All Types"},"all"),Object.entries(w).map(([e,a])=>t.jsx(n,{value:e,children:a},e))]}),t.jsxs(f,{placeholder:"All Status",className:"w-full sm:w-48",radius:i(),onChange:e=>k(e.target.value),children:[t.jsx(n,{value:"all",children:"All Status"},"all"),t.jsx(n,{value:"active",children:"Active"},"active"),t.jsx(n,{value:"inactive",children:"Inactive"},"inactive"),t.jsx(n,{value:"closed",children:"Closed"},"closed")]})]}),t.jsxs(K,{"aria-label":"Bank accounts table",bottomContent:t.jsx("div",{className:"flex w-full justify-center",children:t.jsx(te,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:d,total:F,onChange:e=>v(e)})}),children:[t.jsx(Z,{columns:M,children:e=>t.jsx(ee,{children:e.name},e.uid)}),t.jsx(Q,{items:L,emptyContent:"No bank accounts found",children:e=>t.jsx(X,{children:a=>t.jsx(Y,{children:E(e,a)})},e.id)})]})]})]})};export{Mt as default};
