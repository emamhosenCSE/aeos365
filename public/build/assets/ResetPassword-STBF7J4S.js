import{f as z,r as o,u as L,j as e,H as M,m as a,c as y,b as w,k as O,L as W}from"./app-CUKgmgkQ.js";import{u as T}from"./useBranding-pYw2Hzzv.js";import{a as j,F}from"./EyeIcon-BkMrBF9T.js";import{F as N}from"./LockClosedIcon-HF4CRMyG.js";import{F as E}from"./CheckCircleIcon-BtkCgu8m.js";import{F as V}from"./ArrowRightIcon-BJjTlz_O.js";import{i as C}from"./chunk-SQIAVXJX-BSDoHEaZ.js";import{p as B}from"./chunk-VFIJPDYX-B2KMTkmj.js";import"./app-C-p_Tn8z.js";import"./chunk-KQW2TNLT-BJ9m50sz.js";import"./index-NVAh7aiH.js";import"./chunk-ICU6NNET-7RZ9nPEr.js";import"./useLabel-BCvojCgc.js";import"./useLabels-BrQlrx-g.js";import"./useProgressBar-BqcTySXo.js";import"./number-CB4zbwAz.js";import"./useNumberFormatter-C5aclKXe.js";import"./NumberFormatter-DNR9MAW-.js";const H=()=>{const[t,l]=o.useState({isMobile:!1,isTablet:!1,isDesktop:!1}),i=o.useCallback(()=>{const c=window.innerWidth;l({isMobile:c<=768,isTablet:c>768&&c<=1024,isDesktop:c>1024})},[]);return o.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[i]),t},q=t=>{if(!t)return{score:0,label:"",color:"default"};let l=0;const i={length:t.length>=8,lowercase:/[a-z]/.test(t),uppercase:/[A-Z]/.test(t),numbers:/\d/.test(t),special:/[!@#$%^&*(),.?":{}|<>]/.test(t)};return l=Object.values(i).filter(Boolean).length,{score:l,...{0:{label:"",color:"default"},1:{label:"Very Weak",color:"danger"},2:{label:"Weak",color:"warning"},3:{label:"Fair",color:"warning"},4:{label:"Good",color:"primary"},5:{label:"Strong",color:"success"}}[l],checks:i}};function de({token:t,email:l}){const{themeSettings:i}=z(),{logo:c,siteName:x}=T(),{isMobile:d}=H(),[k,R]=o.useState(!1),[f,S]=o.useState(!1),[b,_]=o.useState(!1),[n,I]=o.useState({score:0,label:"",color:"default"}),{data:r,setData:v,post:P,processing:g,errors:m,reset:$}=L({token:t,email:l,password:"",password_confirmation:""});o.useEffect(()=>{R(!0)},[]),o.useEffect(()=>{I(q(r.password))},[r.password]),o.useEffect(()=>()=>{$("password","password_confirmation")},[]);const h=()=>{const s=i?.layout?.borderRadius;if(!s)return"lg";const u=parseInt(s);return u===0?"none":u<=4?"sm":u<=8?"md":u<=16?"lg":"full"},D=s=>{s.preventDefault(),P(route("password.store"))},A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.4,0,.2,1]}}};return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Reset Password"}),e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{fontFamily:"var(--fontFamily, 'Inter')",transform:"scale(var(--scale, 1))",transformOrigin:"center center"},children:[e.jsx(a.div,{className:"absolute top-20 left-20 w-20 h-20 rounded-full hidden lg:block",style:{background:`linear-gradient(135deg, 
                            color-mix(in srgb, var(--theme-primary, #006FEE) 15%, transparent),
                            color-mix(in srgb, var(--theme-secondary, #7C3AED) 12%, transparent)
                        )`,backdropFilter:"blur(20px)",border:"1px solid color-mix(in srgb, var(--theme-primary, #006FEE) 20%, transparent)",transform:"scale(var(--scale, 1))"},animate:{y:[-10,10,-10],rotate:[0,180,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),e.jsx(a.div,{className:"absolute bottom-20 right-20 w-16 h-16 rounded-full hidden lg:block",style:{background:`linear-gradient(135deg,
                            color-mix(in srgb, var(--theme-secondary, #7C3AED) 18%, transparent),
                            color-mix(in srgb, var(--theme-primary, #006FEE) 12%, transparent)
                        )`,backdropFilter:"blur(20px)",border:"1px solid color-mix(in srgb, var(--theme-secondary, #7C3AED) 20%, transparent)",transform:"scale(var(--scale, 1))"},animate:{x:[-8,8,-8],scale:[1,1.1,1],rotate:[0,-180,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:5}}),e.jsx(a.div,{className:"absolute top-1/3 right-32 w-12 h-12 rounded-full hidden lg:block",style:{background:`linear-gradient(135deg,
                            color-mix(in srgb, var(--theme-success, #22C55E) 15%, transparent),
                            color-mix(in srgb, var(--theme-primary, #006FEE) 10%, transparent)
                        )`,backdropFilter:"blur(20px)",border:"1px solid color-mix(in srgb, var(--theme-success, #22C55E) 20%, transparent)",transform:"scale(var(--scale, 1))"},animate:{y:[5,-5,5],x:[0,5,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:2}}),e.jsxs(a.div,{variants:A,initial:"hidden",animate:k?"visible":"hidden",className:`w-full ${d?"max-w-sm":"max-w-md"}`,children:[e.jsx(y,{className:"backdrop-blur-xl border-none shadow-2xl",style:{background:`linear-gradient(to bottom right, 
                                color-mix(in srgb, var(--theme-content1, #FAFAFA) 98%, transparent), 
                                color-mix(in srgb, var(--theme-content2, #F4F4F5) 95%, transparent)
                            )`,borderColor:"color-mix(in srgb, var(--theme-divider, #E4E4E7) 50%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderStyle:"solid",borderRadius:`var(--borderRadius, ${d?"20px":"24px"})`,fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",boxShadow:`
                                0 20px 40px color-mix(in srgb, var(--theme-shadow, #000000) 15%, transparent),
                                0 8px 16px color-mix(in srgb, var(--theme-shadow, #000000) 10%, transparent),
                                inset 0 1px 0 color-mix(in srgb, var(--theme-background, #FFFFFF) 50%, transparent)
                            `},children:e.jsxs("div",{className:`${d?"p-6":"p-8"}`,children:[e.jsxs(a.div,{variants:p,className:"text-center mb-8",children:[e.jsx(a.div,{className:"flex justify-center mb-6",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:30},children:c?e.jsx("img",{src:c,alt:x,className:`${d?"h-16":"h-20"} w-auto object-contain`}):e.jsx("div",{className:`${d?"w-16 h-16":"w-20 h-20"} bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center font-bold text-2xl text-white`,children:x?.charAt(0)||"A"})}),e.jsx("h1",{className:`${d?"text-2xl":"text-3xl"} font-bold mb-2`,style:{color:"var(--theme-foreground, #11181C)",background:`linear-gradient(135deg, 
                                            var(--theme-foreground, #11181C), 
                                            color-mix(in srgb, var(--theme-foreground, #11181C) 80%, var(--theme-primary, #006FEE))
                                        )`,backgroundClip:"text",WebkitBackgroundClip:"text"},children:"Reset Password"}),e.jsx("p",{className:"text-sm",style:{color:"var(--theme-foreground, #11181C)",opacity:.7},children:"Create a new secure password for your account"})]}),e.jsx(a.div,{variants:p,className:"mb-6",children:e.jsx(y,{className:"border-none",style:{background:"color-mix(in srgb, var(--theme-primary, #006FEE) 8%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary, #006FEE) 20%, transparent)",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-xs",style:{color:"var(--theme-foreground, #11181C)",opacity:.6},children:"Resetting password for:"}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-primary, #006FEE)"},children:l})]})})}),e.jsxs("form",{onSubmit:D,className:"space-y-5",noValidate:!0,children:[e.jsxs(a.div,{variants:p,children:[e.jsx(C,{type:f?"text":"password",label:"New Password",placeholder:"Enter new password",value:r.password,onChange:s=>v("password",s.target.value),isInvalid:!!m.password,errorMessage:m.password,autoComplete:"new-password",autoFocus:!0,isRequired:!0,size:"lg",radius:h(),variant:"bordered",color:m.password?"danger":"primary",startContent:e.jsx(N,{className:"w-4 h-4",style:{color:"var(--theme-foreground, #11181C)",opacity:.6}}),endContent:e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>S(!f),tabIndex:-1,children:f?e.jsx(j,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})})}),r.password&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--theme-foreground, #11181C)",opacity:.7},children:"Password Strength"}),e.jsx("span",{className:`text-xs font-medium text-${n.color}`,children:n.label})]}),e.jsx(B,{value:n.score/5*100,color:n.color,size:"sm",radius:h()}),n.checks&&e.jsx("div",{className:"grid grid-cols-2 gap-1 mt-2",children:[{key:"length",label:"8+ characters"},{key:"uppercase",label:"Uppercase"},{key:"lowercase",label:"Lowercase"},{key:"numbers",label:"Numbers"},{key:"special",label:"Special char"}].map(({key:s,label:u})=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[n.checks[s]?e.jsx(E,{className:"w-3.5 h-3.5 text-success"}):e.jsx(O,{className:"w-3.5 h-3.5 text-default-300"}),e.jsx("span",{className:"text-xs",style:{color:n.checks[s]?"var(--theme-success, #22C55E)":"var(--theme-foreground, #11181C)",opacity:n.checks[s]?1:.5},children:u})]},s))})]})]}),e.jsxs(a.div,{variants:p,children:[e.jsx(C,{type:b?"text":"password",label:"Confirm Password",placeholder:"Confirm new password",value:r.password_confirmation,onChange:s=>v("password_confirmation",s.target.value),isInvalid:!!m.password_confirmation,errorMessage:m.password_confirmation,autoComplete:"new-password",isRequired:!0,size:"lg",radius:h(),variant:"bordered",color:m.password_confirmation?"danger":r.password_confirmation&&r.password===r.password_confirmation?"success":"primary",startContent:e.jsx(N,{className:"w-4 h-4",style:{color:"var(--theme-foreground, #11181C)",opacity:.6}}),endContent:e.jsxs("div",{className:"flex items-center gap-1",children:[r.password_confirmation&&r.password===r.password_confirmation&&e.jsx(E,{className:"w-4 h-4 text-success"}),e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>_(!b),tabIndex:-1,children:b?e.jsx(j,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})})]})}),r.password_confirmation&&r.password!==r.password_confirmation&&e.jsx("p",{className:"text-xs text-danger mt-1",children:"Passwords do not match"})]}),e.jsx(a.div,{variants:p,children:e.jsx(w,{type:"submit",color:"primary",size:"lg",radius:h(),className:"w-full font-semibold",isLoading:g,isDisabled:n.score<3||r.password!==r.password_confirmation,endContent:!g&&e.jsx(V,{className:"w-4 h-4"}),style:{background:`linear-gradient(135deg, 
                                                var(--theme-primary, #006FEE),
                                                color-mix(in srgb, var(--theme-primary, #006FEE) 85%, var(--theme-secondary, #7C3AED))
                                            )`,boxShadow:`
                                                0 4px 14px color-mix(in srgb, var(--theme-primary, #006FEE) 40%, transparent),
                                                0 2px 6px color-mix(in srgb, var(--theme-primary, #006FEE) 20%, transparent)
                                            `},children:g?"Resetting...":"Reset Password"})}),e.jsx(a.div,{variants:p,className:"text-center",children:e.jsx(W,{href:route("login"),className:"inline-flex items-center gap-2 text-sm font-medium transition-colors duration-200",style:{color:"var(--theme-primary, #006FEE)"},children:"Remember your password? Sign In"})})]})]})}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1.2},className:"mt-6",children:e.jsxs("p",{className:"text-xs text-center",style:{color:"var(--theme-foreground, #11181C)",opacity:.5},children:["Â© 2025 ",x,". All rights reserved."]})})]})]})]})}export{de as default};
