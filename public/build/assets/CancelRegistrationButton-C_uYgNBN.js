import{R as f,j as e,b as o,F as h,e as x}from"./app-DLWZL5EI.js";import{h as j,c as y,s as b}from"./routeUtils-C6MiLID5.js";import{s as C}from"./toastUtils-CQ8tPw7l.js";import{u as w}from"./index-rgMU3Ab7.js";import{m as R,a as _,b as N,c as v}from"./chunk-TW2E3XVA-dNGvEz5r.js";import{m as F}from"./chunk-5LXTSPS7-CJuDP5FM.js";import"./app-BI-xrU3s.js";import"./index-lAyyVki8.js";import"./index-Dz459_my.js";import"./index-BJ8QHXMy.js";import"./index-B5MKI_DQ.js";import"./useDialog-LKdJQ55I.js";import"./getScrollParent-B27hviGV.js";import"./keyboard-CSKkBtIV.js";import"./useLabels-CKC_NELL.js";import"./VisuallyHidden-Dslt4DE9.js";function H({variant:n="light",size:l="sm",className:c=""}){const{isOpen:d,onOpen:m,onClose:r}=w(),[t,i]=f.useState(!1),p=async()=>{i(!0);const u=new Promise(async(s,g)=>{try{if(!j("platform.register.cancel"))throw new Error("Cancel route not available");const a=await x.delete(y("platform.register.cancel"));a.status===200&&(r(),setTimeout(()=>{b("landing",{},{replace:!0})},1e3),s([a.data.message||"Registration cancelled. You can start over anytime."]))}catch(a){console.error("Failed to cancel registration:",a),g([a.response?.data?.message||"Failed to cancel registration. Please try again."])}finally{i(!1)}});C.promise(u,{loading:"Canceling registration...",success:s=>s[0],error:s=>s[0]})};return e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:n,size:l,onPress:m,className:c,children:"Cancel Registration"}),e.jsx(R,{isOpen:d,onOpenChange:r,classNames:{base:"bg-content1",header:"border-b border-divider",body:"py-6",footer:"border-t border-divider"},children:e.jsxs(_,{children:[e.jsxs(N,{className:"flex gap-2 items-center",children:[e.jsx(h,{className:"w-5 h-5 text-danger"}),e.jsx("span",{children:"Cancel Registration?"})]}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-default-600",children:"Are you sure you want to cancel your registration? This will:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-default-500 ml-2",children:[e.jsx("li",{children:"Delete your pending workspace"}),e.jsx("li",{children:"Clear all registration progress"}),e.jsx("li",{children:"Free up your chosen subdomain"})]}),e.jsx("p",{className:"text-sm text-default-500",children:"You can start a new registration at any time."})]})}),e.jsxs(F,{children:[e.jsx(o,{variant:"flat",onPress:r,isDisabled:t,children:"Keep Registration"}),e.jsx(o,{color:"danger",onPress:p,isLoading:t,children:t?"Canceling...":"Yes, Cancel"})]})]})})]})}export{H as default};
