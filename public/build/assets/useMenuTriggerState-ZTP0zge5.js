import{b as lu,$ as iu,t as cu,g as se,c as pu}from"./chunk-WQVQ7P2I-BDe9YmDI.js";import{r as m,$ as ae,a2 as N,Y as du,Z as fu,aE as re,w as gu,a4 as bu,a0 as mu,y as I,a3 as k,aW as vu,ac as te}from"./app-B1idACz3.js";import{u as Pu}from"./index-BvevyAVm.js";import{u as xu,a as oe}from"./index-BvG5LGgQ.js";import{c as $u}from"./useDialog-Ch8oEuGx.js";import{a as Au}from"./useSelectableItem-2B3SBj_3.js";import{c as Du}from"./VisuallyHidden-8dXxwzFE.js";function ne(r,e,t){let{type:l}=r,{isOpen:n}=e;m.useEffect(()=>{t&&t.current&&lu.set(t.current,e.close)});let i;l==="menu"?i=!0:l==="listbox"&&(i="listbox");let c=ae();return{triggerProps:{"aria-haspopup":i,"aria-expanded":n,"aria-controls":n?c:void 0,onPress:e.toggle},overlayProps:{id:c}}}var S=new WeakMap,g=[];function Eu(r,e=document.body){let t=new Set(r),l=new Set,n=o=>{for(let p of o.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))t.add(p);let s=p=>{if(t.has(p)||p.parentElement&&l.has(p.parentElement)&&p.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let a of t)if(p.contains(a))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:s}),f=s(o);if(f===NodeFilter.FILTER_ACCEPT&&i(o),f!==NodeFilter.FILTER_REJECT){let p=u.nextNode();for(;p!=null;)i(p),p=u.nextNode()}},i=o=>{var s;let u=(s=S.get(o))!=null?s:0;o.getAttribute("aria-hidden")==="true"&&u===0||(u===0&&o.setAttribute("aria-hidden","true"),l.add(o),S.set(o,u+1))};g.length&&g[g.length-1].disconnect(),n(e);let c=new MutationObserver(o=>{for(let s of o)if(!(s.type!=="childList"||s.addedNodes.length===0)&&![...t,...l].some(u=>u.contains(s.target))){for(let u of s.removedNodes)u instanceof Element&&(t.delete(u),l.delete(u));for(let u of s.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?t.add(u):u instanceof Element&&n(u)}});c.observe(e,{childList:!0,subtree:!0});let v={visibleNodes:t,hiddenNodes:l,observe(){c.observe(e,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return g.push(v),()=>{c.disconnect();for(let o of l){let s=S.get(o);s!=null&&(s===1?(o.removeAttribute("aria-hidden"),S.delete(o)):S.set(o,s-1))}v===g[g.length-1]?(g.pop(),g.length&&g[g.length-1].observe()):g.splice(g.indexOf(v),1)}}function yu(r){let e=g[g.length-1];if(e&&!e.visibleNodes.has(r))return e.visibleNodes.add(r),()=>{e.visibleNodes.delete(r)}}function Cu(r,e){const{groupRef:t,triggerRef:l,popoverRef:n,showArrow:i,offset:c=7,crossOffset:v=0,scrollRef:o,shouldFlip:s,boundaryElement:u,isDismissable:f=!0,shouldCloseOnBlur:p=!0,shouldCloseOnScroll:a=!0,placement:T="top",containerPadding:K,shouldCloseOnInteractOutside:R,isNonModal:w,isKeyboardDismissDisabled:H,updatePositionDeps:M=[],...L}=r,D=w??!0,j=L.trigger==="SubmenuTrigger",{overlayProps:U,underlayProps:W}=xu({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:p,isDismissable:f||j,isKeyboardDismissDisabled:H,shouldCloseOnInteractOutside:R||(y=>{var A;return!((A=l.current)!=null&&A.contains(y))}),disableOutsideEvents:!D},n),{overlayProps:x,arrowProps:V,placement:E,updatePosition:G,triggerAnchorPoint:J}=iu({...L,shouldFlip:s,crossOffset:v,targetRef:l,overlayRef:n,isOpen:e.isOpen,scrollRef:o,boundaryElement:u,containerPadding:K,placement:cu(T),offset:i?c+3:c,onClose:D&&!j&&a?e.close:()=>{}});return Pu(()=>{M.length&&G()},M),m.useEffect(()=>{var y,A;if(e.isOpen&&n.current)return D?yu((y=t?.current)!=null?y:n.current):Eu([(A=t?.current)!=null?A:n.current])},[D,e.isOpen,n,t]),{popoverProps:N(U,x),arrowProps:V,underlayProps:W,placement:E,triggerAnchorPoint:J}}var Bu="top";function Ru(r){var e,t,l;const n=du(),[i,c]=fu(r,re.variantKeys),{as:v,ref:o,children:s,state:u,triggerRef:f,scrollRef:p,defaultOpen:a,onOpenChange:T,isOpen:K,isNonModal:R=!0,shouldFlip:w=!0,containerPadding:H=12,shouldBlockScroll:M=!1,isDismissable:L=!0,shouldCloseOnBlur:D,portalContainer:j,updatePositionDeps:U,dialogProps:W,placement:x=Bu,triggerType:V="dialog",showArrow:E=!1,offset:G=7,crossOffset:J=0,boundaryElement:y,isKeyboardDismissDisabled:A,shouldCloseOnInteractOutside:He,shouldCloseOnScroll:Ue,triggerAnchorPoint:z,motionProps:We,className:Ve,classNames:P,onClose:q,...Y}=i,Ge=v||"div",Z=gu(o),Je=m.useRef(null),_=m.useRef(!1),F=f||Je,Ze=(t=(e=r.disableAnimation)!=null?e:n?.disableAnimation)!=null?t:!1,qe=oe({isOpen:K,defaultOpen:a,onOpenChange:d=>{T?.(d),d||q?.()}}),b=u||qe,{popoverProps:Q,underlayProps:X,placement:$}=Cu({triggerRef:F,isNonModal:R,popoverRef:Z,placement:x,offset:G,scrollRef:p,isDismissable:L,shouldCloseOnBlur:D,boundaryElement:y,crossOffset:J,shouldFlip:w,containerPadding:H,updatePositionDeps:U,isKeyboardDismissDisabled:A,shouldCloseOnScroll:Ue,shouldCloseOnInteractOutside:He,triggerAnchorPoint:z},b),ee=m.useMemo(()=>$?pu($,x)?$:x:null,[$,x]),{triggerProps:C}=ne({type:V},b,F),{isFocusVisible:Ye,isFocused:Qe,focusProps:Xe}=bu(),B=m.useMemo(()=>re({...c}),[mu(c)]),eu=I(P?.base,Ve),uu={"--trigger-anchor-point":z?`${z.x}px ${z.y}px`:void 0};$u({isDisabled:!(M&&b.isOpen)});const su=(d={})=>({ref:Z,...N(Q,Y,d),style:N(Q.style,Y.style,d.style)}),ru=(d={})=>({"data-slot":"base","data-open":k(b.isOpen),"data-focus":k(Qe),"data-arrow":k(E),"data-focus-visible":k(Ye),"data-placement":$?se($,x):void 0,...N(Xe,W,d),className:B.base({class:I(eu)}),style:{outline:"none",...uu}}),tu=m.useCallback((d={})=>({"data-slot":"content","data-open":k(b.isOpen),"data-arrow":k(E),"data-placement":$?se($,x):void 0,className:B.content({class:I(P?.content,d.className)})}),[B,b.isOpen,E,ee,x,P,$]),ue=m.useCallback(d=>{var h;let O;return d.pointerType==="touch"&&(r?.backdrop==="blur"||r?.backdrop==="opaque")?O=setTimeout(()=>{_.current=!0},100):_.current=!0,(h=C.onPress)==null||h.call(C,d),()=>{clearTimeout(O)}},[C?.onPress]),au=m.useCallback((d={},h=null)=>{const{isDisabled:O,...nu}=d;return{"data-slot":"trigger",...N({"aria-haspopup":"dialog"},C,nu),onPress:ue,isDisabled:O,className:B.trigger({class:I(P?.trigger,d.className),isTriggerDisabled:O}),ref:vu(h,F)}},[b,C,ue,F]),ou=m.useCallback((d={})=>({"data-slot":"backdrop",className:B.backdrop({class:P?.backdrop}),onClick:h=>{if(!_.current){h.preventDefault();return}b.close(),_.current=!1},...X,...d}),[B,b.isOpen,P,X]);return{state:b,Component:Ge,children:s,classNames:P,showArrow:E,triggerRef:F,placement:ee,isNonModal:R,popoverRef:Z,portalContainer:j,isOpen:b.isOpen,onClose:b.close,disableAnimation:Ze,shouldBlockScroll:M,backdrop:(l=r.backdrop)!=null?l:"transparent",motionProps:We,getBackdropProps:ou,getPopoverProps:su,getTriggerProps:au,getDialogProps:ru,getContentProps:tu}}var le={};le={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var ie={};ie={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var ce={};ce={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var pe={};pe={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var de={};de={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var fe={};fe={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var ge={};ge={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var be={};be={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var me={};me={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var ve={};ve={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Pe={};Pe={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var xe={};xe={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var $e={};$e={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ae={};Ae={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var De={};De={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Ee={};Ee={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var ye={};ye={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Ce={};Ce={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Be={};Be={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var he={};he={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var ke={};ke={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Me={};Me={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Fe={};Fe={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Oe={};Oe={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Se={};Se={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Ne={};Ne={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Te={};Te={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Re={};Re={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var we={};we={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Le={};Le={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var je={};je={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ze={};ze={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var _e={};_e={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Ie={};Ie={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var Ke={};Ke={"ar-AE":le,"bg-BG":ie,"cs-CZ":ce,"da-DK":pe,"de-DE":de,"el-GR":fe,"en-US":ge,"es-ES":be,"et-EE":me,"fi-FI":ve,"fr-FR":Pe,"he-IL":xe,"hr-HR":$e,"hu-HU":Ae,"it-IT":De,"ja-JP":Ee,"ko-KR":ye,"lt-LT":Ce,"lv-LV":Be,"nb-NO":he,"nl-NL":ke,"pl-PL":Me,"pt-BR":Fe,"pt-PT":Oe,"ro-RO":Se,"ru-RU":Ne,"sk-SK":Te,"sl-SI":Re,"sr-SP":we,"sv-SE":Le,"tr-TR":je,"uk-UA":ze,"zh-CN":_e,"zh-TW":Ie};function hu(r){return r&&r.__esModule?r.default:r}function wu(r,e,t){let{type:l="menu",isDisabled:n,trigger:i="press"}=r,c=ae(),{triggerProps:v,overlayProps:o}=ne({type:l},e,t),s=a=>{if(!n&&!(i==="longPress"&&!a.altKey)&&t&&t.current)switch(a.key){case"Enter":case" ":if(i==="longPress"||a.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in a||a.stopPropagation(),a.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in a||a.stopPropagation(),a.preventDefault(),e.toggle("last");break;default:"continuePropagation"in a&&a.continuePropagation()}},u=Du(hu(Ke),"@react-aria/menu"),{longPressProps:f}=Au({isDisabled:n||i!=="longPress",accessibilityDescription:u.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),p={preventFocusOnPress:!0,onPressStart(a){a.pointerType!=="touch"&&a.pointerType!=="keyboard"&&!n&&(te(a.target),e.open(a.pointerType==="virtual"?"first":null))},onPress(a){a.pointerType==="touch"&&!n&&(te(a.target),e.toggle())}};return delete v.onPress,{menuTriggerProps:{...v,...i==="press"?p:f,id:c,onKeyDown:s},menuProps:{...o,"aria-labelledby":c,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function Lu(r){let e=oe(r),[t,l]=m.useState(null),[n,i]=m.useState([]),c=()=>{i([]),e.close()};return{focusStrategy:t,...e,open(s=null){l(s),e.open()},toggle(s=null){l(s),e.toggle()},close(){c()},expandedKeysStack:n,openSubmenu:(s,u)=>{i(f=>u>f.length?f:[...f.slice(0,u),s])},closeSubmenu:(s,u)=>{i(f=>f[u]===s?f.slice(0,u):f)}}}export{Lu as $,wu as a,Ru as u};
