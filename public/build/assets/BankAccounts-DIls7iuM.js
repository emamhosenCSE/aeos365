import{r,j as t,H as z,m as P,b as g,d as y}from"./app-D_-WVEdp.js";import{A as U,u as I}from"./App-BUqmM69P.js";import{e as V,d as H,a as O,b as W,m as o}from"./PlusIcon-Wgugrc1t.js";import{F as q}from"./MagnifyingGlassIcon-D7Etcgwr.js";import{a as G}from"./IdentificationIcon-Cu2MddKv.js";import{i as J}from"./chunk-SQIAVXJX-BbTP8Q49.js";import{s as f}from"./chunk-C3QHEOC2-DMWTZzTs.js";import{l as n}from"./chunk-Y5DMIIWQ-BglIhMCb.js";import{t as K,a as Q,b as X,c as Y}from"./chunk-F3UDT23P-Do6efwEh.js";import{t as Z,a as ee}from"./chunk-YRZGWF2W-BJdYbE6l.js";import{p as te}from"./chunk-NL7EUJG2-B61Hmqfn.js";import"./app-Bq-q9uAS.js";import"./index-C2EWbGBu.js";/* empty css                      */import"./routeUtils-Ck7DPZCW.js";import"./toastUtils-ycRu2wJH.js";import"./chunk-CV4BWJDJ-ubOVN7k0.js";import"./index-BMj_EV_H.js";import"./index-C-9Wnuxw.js";import"./UserIcon-DG_m3xOa.js";import"./Cog6ToothIcon-BzVYBKqR.js";import"./GlobeAltIcon-BVaR4Go0.js";import"./useBranding-FxIvTb8a.js";import"./useDialog-Bepqadre.js";import"./VisuallyHidden-CaSP2WVB.js";import"./keyboard-DoUdRS-l.js";import"./useLabels-CUZ0Yc-W.js";import"./index-D0ogoVNn.js";import"./XMarkIcon-BK1rKcmr.js";import"./chunk-AUA5GDXN-DN3ZdlyW.js";import"./chunk-WQVQ7P2I-CH5xj4JM.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-CaoNqm2A.js";import"./useMediaQuery-C9RChyNu.js";import"./chunk-IHO36JMK-YsOKRYLU.js";import"./ShieldCheckIcon-BLU0gJd0.js";import"./AcademicCapIcon-xgHPIwrg.js";import"./ArrowLeftIcon-CvMFTAF3.js";import"./ArrowRightIcon-kv-hNwLM.js";import"./BriefcaseIcon-CF6Ga2Jm.js";import"./BuildingOfficeIcon-BrPL7Obv.js";import"./CalendarDaysIcon-Bilw7IDH.js";import"./CalendarIcon-D76uPrFV.js";import"./CheckCircleIcon-BLFfNgko.js";import"./CircleStackIcon-sq1Godj6.js";import"./ClipboardDocumentCheckIcon-CsJTImGS.js";import"./CogIcon-BM4nqP1_.js";import"./DeviceTabletIcon-bWEFcPGg.js";import"./CpuChipIcon-C7Wik64O.js";import"./CurrencyDollarIcon-BBdTvttm.js";import"./DevicePhoneMobileIcon-B6WELNSk.js";import"./DocumentArrowUpIcon-CNWCHCFU.js";import"./DocumentIcon-DRP7gf4p.js";import"./EnvelopeIcon-B5LB3FMs.js";import"./ExclamationCircleIcon-CbzXbbTB.js";import"./EyeIcon-BZ3EeyCC.js";import"./InformationCircleIcon-BG0xleBU.js";import"./KeyIcon-D3_yGPtU.js";import"./LockClosedIcon-CZ2l7lkR.js";import"./MapPinIcon-DnmorOoN.js";import"./PlusCircleIcon-CkLCtasO.js";import"./PrinterIcon-BDYQGnJT.js";import"./RocketLaunchIcon-BjdNoNLN.js";import"./ShoppingCartIcon-u6hM1Mzd.js";import"./UserCircleIcon-Ht8vglkG.js";import"./UserGroupIcon-DqCPR-Xy.js";import"./chunk-TW2E3XVA-DRRpZ_vq.js";import"./chunk-I3A4XRYQ-CJNCN2D_.js";import"./useToggleState-Dg72h8QO.js";import"./chunk-ICU6NNET-CTByTmgN.js";import"./MaintenanceModeBanner-Ced2Il-8.js";import"./Item-Ch9OZUIQ.js";import"./SelectionManager-CzEWbMHf.js";import"./index-DuLqXBZP.js";import"./useSelectableItem-CAanJG1T.js";import"./useTreeState-Dj6IqKyS.js";import"./useMenuTriggerState-D2QDUooS.js";import"./chunk-KQW2TNLT-CWiQ5bkd.js";import"./useLabel-sAk_8DNM.js";import"./chunk-7F3ZLNJ6-DX5LVLf8.js";import"./index-BtQx179R.js";import"./chunk-PMMJMDBI-CP1xulY1.js";import"./index-DolG8St_.js";import"./useHasTabbableChild-DmA3zjBr.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-Bx3nxlg_.js";const Mt=({accounts:b=[],auth:j})=>{const[l,_]=r.useState(""),[c,C]=r.useState("all"),[m,S]=r.useState("all"),[u,k]=r.useState("all"),[d,v]=r.useState(1),p=10,[ae,A]=r.useState(!1);r.useEffect(()=>{const e=()=>A(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const i=()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",s=parseInt(a);return s===0?"none":s<=4?"sm":s<=8?"md":s<=12?"lg":"full"},N=e=>j?.user?.permissions?.includes(e)||j?.user?.is_super_admin,h=b.length>0?b:[{id:1,name:"Business Checking",bank:"Chase Bank",account_number:"****1234",type:"checking",currency:"USD",balance:125e3,status:"active"},{id:2,name:"Savings Account",bank:"Wells Fargo",account_number:"****5678",type:"savings",currency:"USD",balance:5e4,status:"active"},{id:3,name:"Business Credit Card",bank:"American Express",account_number:"****9012",type:"credit_card",currency:"USD",balance:-8500,status:"active"},{id:4,name:"Payroll Account",bank:"Bank of America",account_number:"****3456",type:"checking",currency:"USD",balance:75e3,status:"active"}],B={active:"success",inactive:"warning",closed:"default"},w={checking:"Checking",savings:"Savings",credit_card:"Credit Card",loan:"Loan",investment:"Investment"},x=r.useMemo(()=>h.filter(e=>{const a=e.name.toLowerCase().includes(l.toLowerCase())||e.account_number.toLowerCase().includes(l.toLowerCase()),s=c==="all"||e.bank===c,D=m==="all"||e.type===m,$=u==="all"||e.status===u;return a&&s&&D&&$}),[h,l,c,m,u]),F=Math.ceil(x.length/p),L=r.useMemo(()=>{const e=(d-1)*p,a=e+p;return x.slice(e,a)},[d,x]),R=(e,a="USD")=>`${e<0?"-":""}$${Math.abs(e).toLocaleString()}`,T=e=>{_(e),v(1)},E=(e,a)=>{switch(a){case"name":return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5 text-primary"}),t.jsx("span",{className:"font-medium",children:e.name})]});case"bank":return t.jsx("span",{children:e.bank});case"account_number":return t.jsx("span",{className:"font-mono text-sm",children:e.account_number});case"type":return t.jsx("span",{children:w[e.type]});case"currency":return t.jsx(y,{size:"sm",variant:"flat",children:e.currency});case"balance":const s=e.balance<0;return t.jsx("span",{className:`font-semibold ${s?"text-danger":"text-success"}`,children:R(e.balance,e.currency)});case"status":return t.jsx(y,{color:B[e.status],size:"sm",variant:"flat",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)});case"actions":return t.jsxs(H,{children:[t.jsx(O,{children:t.jsx(g,{isIconOnly:!0,size:"sm",variant:"light",children:t.jsx(I,{className:"w-5 h-5"})})}),t.jsxs(W,{"aria-label":"Account actions",children:[t.jsx(o,{children:"View Details"},"view"),t.jsx(o,{children:"View Transactions"},"transactions"),t.jsx(o,{children:"Reconcile"},"reconcile"),t.jsx(o,{children:"Edit"},"edit"),t.jsx(o,{className:"text-warning",color:"warning",children:"Deactivate"},"deactivate")]})]});default:return null}},M=[{uid:"name",name:"Account Name"},{uid:"bank",name:"Bank"},{uid:"account_number",name:"Account Number"},{uid:"type",name:"Type"},{uid:"currency",name:"Currency"},{uid:"balance",name:"Balance"},{uid:"status",name:"Status"},{uid:"actions",name:"Actions"}];return t.jsxs(U,{children:[t.jsx(z,{title:"Bank Accounts"}),t.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bank Accounts"}),t.jsx("p",{className:"text-default-500",children:"Manage your bank accounts and balances"})]}),N("finance.bank-accounts.create")&&t.jsx(g,{color:"primary",startContent:t.jsx(V,{className:"w-5 h-5"}),radius:i(),children:"Add Account"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsx(J,{placeholder:"Search accounts...",value:l,onValueChange:T,startContent:t.jsx(q,{className:"w-4 h-4 text-default-400"}),className:"w-full sm:w-64",radius:i()}),t.jsxs(f,{placeholder:"All Banks",className:"w-full sm:w-48",radius:i(),onChange:e=>C(e.target.value),children:[t.jsx(n,{value:"all",children:"All Banks"},"all"),[...new Set(h.map(e=>e.bank))].map(e=>t.jsx(n,{value:e,children:e},e))]}),t.jsxs(f,{placeholder:"All Types",className:"w-full sm:w-48",radius:i(),onChange:e=>S(e.target.value),children:[t.jsx(n,{value:"all",children:"All Types"},"all"),Object.entries(w).map(([e,a])=>t.jsx(n,{value:e,children:a},e))]}),t.jsxs(f,{placeholder:"All Status",className:"w-full sm:w-48",radius:i(),onChange:e=>k(e.target.value),children:[t.jsx(n,{value:"all",children:"All Status"},"all"),t.jsx(n,{value:"active",children:"Active"},"active"),t.jsx(n,{value:"inactive",children:"Inactive"},"inactive"),t.jsx(n,{value:"closed",children:"Closed"},"closed")]})]}),t.jsxs(K,{"aria-label":"Bank accounts table",bottomContent:t.jsx("div",{className:"flex w-full justify-center",children:t.jsx(te,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:d,total:F,onChange:e=>v(e)})}),children:[t.jsx(Z,{columns:M,children:e=>t.jsx(ee,{children:e.name},e.uid)}),t.jsx(Q,{items:L,emptyContent:"No bank accounts found",children:e=>t.jsx(X,{children:a=>t.jsx(Y,{children:E(e,a)})},e.id)})]})]})]})};export{Mt as default};
