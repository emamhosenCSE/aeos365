import{u as be,r as s,f as U,j as t,H as je,m as _e,c as L,d as S,b as we,g as Ne}from"./app-B6wsOsaS.js";import{d as G}from"./dayjs.min-3pOIRhRA.js";import{u as J}from"./useMediaQuery-DZUWRbmB.js";import{P as Ce,A as ke}from"./App-CK2S0NSv.js";import{L as X,D as Le,B as Se,a as Me,b as Pe}from"./BulkDeleteModal-CbuzVz6M.js";import{s as O}from"./toastUtils-DmQakeEH.js";import{F as B}from"./CalendarIcon-CypwPsvu.js";import{F as Z}from"./PlusIcon-C9FvSUYH.js";import{F as Fe}from"./XCircleIcon-DgUTWy8R.js";import{c as K}from"./chunk-C6WKGNND-_SL0ETSL.js";import{s as Re}from"./chunk-C3QHEOC2-CExZ-LMh.js";import{l as Ee}from"./chunk-Y5DMIIWQ-rOZjnGr-.js";import{d as Te}from"./chunk-IHO36JMK-CuHsjaEa.js";import"./app-BB4fUsfm.js";import"./index-CIwQtxcj.js";/* empty css                      */import"./chunk-CV4BWJDJ-sFKQZUA4.js";import"./index-C6MJzj-f.js";import"./index-773UVyf0.js";import"./UserIcon-zGrV1LXN.js";import"./Cog6ToothIcon-1p63ATJ9.js";import"./GlobeAltIcon-D9tP4Qv3.js";import"./useBranding-Cgbupwpf.js";import"./useDialog-rBwgFJmV.js";import"./VisuallyHidden-DEnSGsKL.js";import"./keyboard-d_Cx4XEU.js";import"./useLabels-DVIweNe1.js";import"./index-DMeZYFdq.js";import"./XMarkIcon-DSAMkR0J.js";import"./chunk-SQIAVXJX-BKfxTp82.js";import"./chunk-KQW2TNLT-BeNS3Aal.js";import"./chunk-ICU6NNET-CzjpQ7vS.js";import"./useLabel-DTEaCOH9.js";import"./MagnifyingGlassIcon-DmsBlCH7.js";import"./chunk-AUA5GDXN-D33GKj_3.js";import"./chunk-WQVQ7P2I-DXEzOwOx.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-DUzpVbXi.js";import"./ShieldCheckIcon-DF7lbYzR.js";import"./AcademicCapIcon-c76c8V93.js";import"./IdentificationIcon-BSUeSBTx.js";import"./ArrowLeftIcon-CjhLcjy7.js";import"./ArrowRightIcon-Q7iwOzQG.js";import"./BriefcaseIcon-CfrA7uZL.js";import"./BuildingOfficeIcon-DnIJIovL.js";import"./CalendarDaysIcon-CNGOJamk.js";import"./CheckCircleIcon-DEtAvStx.js";import"./CircleStackIcon-hc_OxvAS.js";import"./ClipboardDocumentCheckIcon-CEdkKJRr.js";import"./CogIcon-BdBOCRJh.js";import"./DeviceTabletIcon-BrLL8Uu0.js";import"./CpuChipIcon-Bfdnt9hm.js";import"./CurrencyDollarIcon-fSR_V4QE.js";import"./DevicePhoneMobileIcon-d0Zfm2Fn.js";import"./DocumentArrowUpIcon-BDLSt_mx.js";import"./DocumentIcon-Dyrjy08c.js";import"./EnvelopeIcon-BdlOEcSN.js";import"./ExclamationCircleIcon-CFmKLbEe.js";import"./EyeIcon-Bs5b_dRl.js";import"./InformationCircleIcon-5mmLyCUw.js";import"./KeyIcon-BtibGx6O.js";import"./LockClosedIcon-CrgI0ZvI.js";import"./MapPinIcon-DLvBLoQF.js";import"./PlusCircleIcon-eYEq8aLq.js";import"./PrinterIcon-B62kMcVA.js";import"./RocketLaunchIcon-CqcTuNxP.js";import"./ShoppingCartIcon-DMRwrhqY.js";import"./UserCircleIcon-CGWanMDr.js";import"./UserGroupIcon-BnTYq6Wz.js";import"./chunk-TW2E3XVA-BZhjrx-b.js";import"./chunk-I3A4XRYQ-Bvb62EOb.js";import"./useToggleState-C4IQRJez.js";import"./MaintenanceModeBanner-Bsokv2rf.js";import"./index-3SaTkLKc.js";import"./index-D74ZCTZO.js";import"./index-DRTMPV8J.js";import"./chunk-WEIB4WXA-Bz9qatlc.js";import"./chunk-5LXTSPS7-Sqo0SLte.js";import"./CheckCircleIcon-6Exxd0Z4.js";import"./ClockIcon-BUXQo1ym.js";import"./ExclamationTriangleIcon-D5R_E3-r.js";import"./chunk-3YGGVHYO-BS41h5tS.js";import"./createLucideIcon-Ce9k22lj.js";import"./chunk-F3UDT23P-BA6MA9xb.js";import"./useSelectableItem-DpOenvUT.js";import"./SelectionManager-eawIzC-w.js";import"./chunk-PMMJMDBI-9SYdMhDV.js";import"./useHasTabbableChild-9XeiQEfl.js";import"./chunk-7F3ZLNJ6-CVIW-qTW.js";import"./index-Dj1DxqL-.js";import"./chunk-NGIUTAK3-BsfK6VpZ.js";import"./chunk-NL7EUJG2-TrgaiFKZ.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-DYX-Z8Mk.js";import"./chunk-YRZGWF2W-HdxvFUui.js";import"./chunk-VFIJPDYX-BAUheveH.js";import"./useProgressBar-BC81c7lH.js";import"./useNumberFormatter-9Tnh8M-m.js";import"./NumberFormatter-DNR9MAW-.js";import"./calendar-gKhu3EJJ.js";import"./user-CRAXVpTB.js";import"./clock-BFRDfAJI.js";import"./Item-yM1k0-R2.js";import"./index-C_o7Bf_A.js";import"./useTreeState-BNMgu_i0.js";import"./useMenuTriggerState-Dvk1J6fz.js";const Ye=({title:D,allUsers:x})=>{const{auth:w}=be().props,M=J("(max-width: 640px)"),ee=J("(min-width: 641px) and (max-width: 1024px)"),[u,F]=s.useState(0),[I,R]=s.useState(0),[W,Be]=s.useState(!1),[v,p]=s.useState([]),[y,b]=s.useState({leaveTypes:[],leaveCountsByUser:{}}),[H,g]=s.useState(!1),[V,$]=s.useState(""),[o,A]=s.useState({page:1,perPage:30,total:0,lastPage:0}),[i,te]=s.useState({employee:"",selectedMonth:G().format("YYYY-MM"),year:new Date().getFullYear()}),[j,re]=s.useState(!1),[E,ae]=s.useState(!1);s.useEffect(()=>{const e=()=>{re(window.innerWidth>=1025),ae(window.innerWidth>=641&&window.innerWidth<=1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const m=s.useCallback(e=>{e&&(F(e.total||0),R(e.last_page||1),A(a=>({...a,total:e.total||0,lastPage:e.last_page||1})))},[]),N=()=>{if(typeof window>"u")return"lg";const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",r=parseInt(a);return r===0?"none":r<=4?"sm":r<=8?"md":r<=16?"lg":"full"},f=s.useCallback(async()=>{g(!0);try{const{page:e,perPage:a}=o,{year:r}=i,l=await U.get(route("leaves.paginate"),{params:{page:e,perPage:a,year:r,user_id:w.user.id},timeout:1e4});if(l.status===200){const{leaves:n,leavesData:d}=l.data;n.data&&Array.isArray(n.data)?(p(n.data),m({total:n.total||n.data.length,last_page:n.last_page||1,current_page:n.current_page||1,per_page:n.per_page||o.perPage})):Array.isArray(n)?(p(n),m({total:n.length,last_page:1,current_page:1,per_page:o.perPage})):(console.error("Unexpected leaves data format:",n),p([]),m({total:0,last_page:1,current_page:1,per_page:o.perPage})),b(d),$("")}}catch(e){if(console.error("Error fetching leaves:",e),e.response?.status===404){const{leavesData:a}=e.response.data;b(a),$(e.response?.data?.message||"No leaves found for the selected criteria.")}else{$("Error retrieving leaves data. Please try again.");const a=Promise.reject("Failed to load leave data. Please try again.");O.promise(a,{error:{render(){return t.jsx("div",{children:"Failed to load leave data. Please try again."})},icon:"❌"}})}p([]),m({total:0,last_page:1,current_page:1,per_page:o.perPage})}finally{g(!1)}},[o.page,o.perPage,i,w.user.id,m]),T=s.useCallback((e,a,r)=>{const{page:l,perPage:n}=o;e.length>=n||l<I||f()},[o,I,f]),se=s.useMemo(()=>{const e=new Date().getFullYear();return Array.from({length:e-1900+1},(a,r)=>{const l=1900+r;return{key:l.toString(),label:l.toString(),value:l}}).reverse()},[]),oe=s.useCallback((e,a)=>{if(e==="year"){const r=Number(a);if(r<1900||r>new Date().getFullYear()){console.warn("Invalid year selected. Must be between 1900 and current year.");return}}te(r=>({...r,[e]:a})),e==="year"&&A(r=>({...r,page:1}))},[]),[h,Y]=s.useState({add_leave:!1,edit_leave:!1,delete_leave:!1,bulk_leave:!1,bulk_delete:!1});s.useCallback((e,a=null)=>{Y(r=>({...r,[e]:!0}))},[]);const P=s.useCallback(()=>{Y({add_leave:!1,edit_leave:!1,delete_leave:!1,bulk_leave:!1,bulk_delete:!1})},[]),z=s.useCallback(e=>{Y(a=>({...a,[e]:!0}))},[]),le=s.useCallback((e,a)=>{Q({id:e}),Y(r=>({...r,[a]:!0}))},[]),[q,Q]=s.useState(null),[ne,ie]=s.useState([]),ce=s.useCallback(e=>{Q(e)},[]),de=s.useCallback(e=>{ie(e),z("bulk_delete")},[z]),c=s.useCallback(async()=>{try{const e=await U.get(route("leaves.stats"),{params:{year:i.year}});if(e.status===200){const{stats:a,leaveCounts:r}=e.data;r&&b(l=>({...l,leaveCountsByUser:{...l.leaveCountsByUser,[w.user.id]:r}}))}}catch(e){console.error("Error fetching leaves stats:",e.response)}},[i.year,w.user.id]),me=s.useCallback(e=>{e!==o.page&&A(a=>({...a,page:e}))},[o.page]);s.useEffect(()=>{f()},[f]),s.useEffect(()=>{c()},[c]);const pe=s.useMemo(()=>y.leaveCountsByUser[w.user.id]||[],[y.leaveCountsByUser,w.user.id]),C=s.useCallback(e=>[...e].sort((a,r)=>new Date(a.from_date)-new Date(r.from_date)),[]),_=s.useCallback(e=>{const a=new Date(e.from_date).getFullYear();if(i.year&&a!==i.year)return!1;if(i.employee){const r=x?.find(n=>String(n.id)===String(e.user_id)),l=i.employee.trim().toLowerCase();if(r){if(String(r.id)!==l&&!(r.name&&r.name.trim().toLowerCase().includes(l)))return!1}else if(String(i.employee)!==String(e.user_id))return!1}if(i.selectedMonth&&G(e.from_date).format("YYYY-MM")!==i.selectedMonth||i.status&&i.status!=="all"&&String(e.status).toLowerCase()!==String(i.status).toLowerCase()||i.leaveType&&i.leaveType!=="all"&&String(e.leave_type).toLowerCase()!==String(i.leaveType).toLowerCase())return!1;if(i.department&&i.department!=="all"){const r=x?.find(l=>String(l.id)===String(e.user_id));if(!r||String(r.department).toLowerCase()!==String(i.department).toLowerCase())return!1}return!0},[i,x]);s.useMemo(()=>v||[],[v]);const ue=s.useCallback(e=>{_(e)&&(g(!0),p(a=>{const r=[...a,e];return C(r).slice(0,o.perPage)}),m({total:u+1,last_page:Math.ceil((u+1)/o.perPage),current_page:o.page,per_page:o.perPage}),g(!1),o.page!==1&&f(),c())},[_,C,o,u,m,f,c]),ge=s.useCallback(e=>{if(!e||!e.success){console.error("Invalid bulk response data:",e);return}e.leavesData&&b(e.leavesData);const a=e.created_leaves||[];if(a.length===0){c();return}const r=a.filter(n=>_(n));if(r.length===0){c();return}g(!0),p(n=>{const d=[...n,...r];return C(d).slice(0,o.perPage)});const l=e.summary?.successful||a.length;m({total:u+l,last_page:Math.ceil((u+l)/o.perPage),current_page:o.page,per_page:o.perPage}),g(!1),o.page!==1&&f(),c()},[_,C,o,u,m,f,c]),fe=s.useCallback(e=>{const a=v.some(l=>l.id===e.id);if(g(!0),!_(e)&&a){p(n=>n.filter(d=>d.id!==e.id));const l=Promise.resolve();O.promise(l,{success:{render(){return t.jsx("div",{children:"Leave removed from filtered view."})},icon:"ℹ️"}}),g(!1);return}if(!a&&!_(e)){g(!1);return}p(l=>{const n=l.some(k=>k.id===e.id);let d;return n?d=l.map(k=>k.id===e.id?e:k):d=[...l,e],C(d).slice(0,o.perPage)});const r=Promise.resolve();O.promise(r,{success:{render(){return t.jsx("div",{children:"Leave updated!"})},icon:"✅"}}),g(!1),o.page!==1&&f(),c()},[_,C,v,o,f,c]),he=s.useCallback(e=>{p(r=>{const l=r.filter(d=>d.id!==e),n=Math.max(0,u-1);return T(l,n,"delete"),l});const a=Math.max(0,u-1);m({total:a,last_page:Math.max(1,Math.ceil(a/o.perPage)),current_page:o.page,per_page:o.perPage}),c()},[c,u,o,m,T]),ve=s.useCallback(e=>{if(!e||!e.success){console.error("Invalid bulk delete response data:",e);return}e.leavesData&&b(e.leavesData);const a=e.deleted_leaves||[],r=a.map(d=>d.id);if(r.length===0){c();return}g(!0),p(d=>d.filter(k=>!r.includes(k.id)));const l=e.deleted_count||a.length,n=Math.max(0,u-l);m({total:n,last_page:Math.max(1,Math.ceil(n/o.perPage)),current_page:o.page,per_page:o.perPage}),g(!1),T(v.filter(d=>!r.includes(d.id)),n,"delete"),c()},[m,o,u,v,T,c]),xe=()=>y.leaveTypes.length?t.jsx("div",{className:`grid gap-4 ${M?"grid-cols-1":ee?"grid-cols-2":"grid-cols-4"}`,children:y.leaveTypes.map(({type:e})=>{const a=pe.find(d=>d.leave_type===e)||{},r=a.days_used||0,l=a.remaining_days||0,n=r+l;return t.jsxs(L,{className:"transition-all duration-200 hover:scale-[1.02]",style:{background:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:N()},children:[t.jsx(K,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(B,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),t.jsx("h3",{className:`font-semibold truncate ${M?"text-base":"text-lg"}`,style:{color:"var(--theme-foreground)"},children:e})]})}),t.jsx(S,{className:"pt-0",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs opacity-70 mb-1",style:{color:"var(--theme-foreground)"},children:"Used"}),t.jsx("p",{className:`font-bold ${M?"text-lg":"text-xl"}`,style:{color:"var(--theme-danger)"},children:r})]}),t.jsx(Te,{orientation:"vertical",className:"h-8",style:{backgroundColor:"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs opacity-70 mb-1",style:{color:"var(--theme-foreground)"},children:"Remaining"}),t.jsx("p",{className:`font-bold ${M?"text-lg":"text-xl"}`,style:{color:"var(--theme-success)"},children:l})]})]}),n>0&&t.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden",style:{backgroundColor:"color-mix(in srgb, var(--theme-content3) 40%, transparent)"},children:t.jsx("div",{className:"h-full transition-all duration-300 rounded-full",style:{width:`${r/n*100}%`,background:"linear-gradient(90deg, var(--theme-danger), color-mix(in srgb, var(--theme-danger) 80%, var(--theme-warning)))"}})})]})})]},e)})}):t.jsx(L,{className:"text-center py-8",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:N()},children:t.jsxs(S,{children:[t.jsx(Z,{className:"w-12 h-12 mx-auto mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),t.jsx("p",{className:"opacity-70",style:{color:"var(--theme-foreground)"},children:"No leave types available"})]})}),ye=s.useRef(null);return t.jsxs(t.Fragment,{children:[t.jsx(je,{title:D}),h.add_leave&&t.jsx(X,{open:h.add_leave,closeModal:()=>P(),leavesData:y,setLeavesData:b,currentLeave:null,allUsers:x,setTotalRows:F,setLastPage:R,setLeaves:p,employee:"",selectedMonth:i.selectedMonth,addLeaveOptimized:ue,updatePaginationMetadata:m,fetchLeavesStats:c}),h.edit_leave&&t.jsx(X,{open:h.edit_leave,closeModal:()=>P(),leavesData:y,setLeavesData:b,currentLeave:q,allUsers:x,setTotalRows:F,setLastPage:R,setLeaves:p,employee:"",selectedMonth:i.selectedMonth,updateLeaveOptimized:fe,updatePaginationMetadata:m,fetchLeavesStats:c}),h.delete_leave&&t.jsx(Le,{open:h.delete_leave,closeModal:()=>P(),leaveId:q?.id,setLeaves:p,setTotalRows:F,setLastPage:R,deleteLeaveOptimized:he,updatePaginationMetadata:m,fetchLeavesStats:c}),h.bulk_leave&&t.jsx(Se,{open:h.bulk_leave,onClose:()=>P(),onSuccess:e=>{ge(e)},allUsers:x,leavesData:y,isAdmin:!1,existingLeaves:v||[],publicHolidays:y?.publicHolidays||[]}),h.bulk_delete&&t.jsx(Me,{open:h.bulk_delete,onClose:()=>P(),onSuccess:e=>{ve(e)},selectedLeaves:ne,allUsers:x}),t.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"My Attendance Management",children:t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"w-full",children:t.jsx(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"w-full max-w-7xl mx-auto",children:t.jsxs(L,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                            var(--theme-content1, #FAFAFA) 20%, 
                            var(--theme-content2, #F4F4F5) 10%, 
                            var(--theme-content3, #F1F3F4) 20%)`},children:[t.jsx(K,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:t.jsx("div",{className:`${j?"p-6":E?"p-4":"p-3"} w-full`,children:t.jsx("div",{className:"flex flex-col space-y-4",children:t.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:t.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[t.jsx("div",{className:`
                                                ${j?"p-3":E?"p-2.5":"p-2"} 
                                                rounded-xl flex items-center justify-center
                                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:t.jsx(Ce,{className:`
                                                    ${j?"w-8 h-8":E?"w-6 h-6":"w-5 h-5"}
                                                `,style:{color:"var(--theme-primary)"}})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:`
                                                    ${j?"text-2xl":E?"text-xl":"text-lg"}
                                                    font-bold text-foreground
                                                    ${j?"":"truncate"}
                                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"My Leaves"}),t.jsx("p",{className:`
                                                    ${j?"text-sm":"text-xs"} 
                                                    text-default-500
                                                    ${j?"":"truncate"}
                                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Your leave requests and balances"})]})]})})})})}),t.jsxs(S,{className:"pt-4",children:[t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[t.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:t.jsx(Re,{label:"Select Year",selectedKeys:[String(i.year)],onSelectionChange:e=>{const a=Number(Array.from(e)[0]);oe("year",a)},className:"w-full",variant:"bordered",style:{"--input-background":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--input-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)","--input-hover-border":"var(--theme-primary)","--input-focus-border":"var(--theme-primary)","--input-color":"var(--theme-foreground)","--input-placeholder":"color-mix(in srgb, var(--theme-foreground) 60%, transparent)",borderRadius:N()},startContent:t.jsx(B,{className:"w-4 h-4 opacity-70"}),children:se.map(e=>t.jsx(Ee,{value:e.value,children:e.label},e.key))})}),t.jsx("div",{className:"flex gap-2",children:t.jsx(we,{variant:"flat",color:"primary",size:M?"sm":"md",onPress:f,isLoading:W,startContent:!W&&!H&&t.jsx(Ne,{className:"w-4 h-4"}),children:"Refresh"})})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--theme-foreground)"},children:[t.jsx(Z,{className:"w-5 h-5"}),"Leave Balance Summary"]}),xe()]}),t.jsxs("div",{className:"min-h-96",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--theme-foreground)"},children:[t.jsx(B,{className:"w-5 h-5"}),"Leave History"]}),H?t.jsx(L,{className:"text-center py-12",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:N()},children:t.jsxs(S,{children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-t-transparent",style:{borderColor:"var(--theme-primary)"}})}),t.jsx("p",{className:"opacity-70",style:{color:"var(--theme-foreground)"},children:"Loading leave data..."})]})}):V?t.jsx(L,{className:"text-center py-12",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-danger) 30%, transparent)",borderRadius:N()},children:t.jsxs(S,{children:[t.jsx(Fe,{className:"w-16 h-16 mx-auto mb-4",style:{color:"var(--theme-danger)"}}),t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"Error Loading Data"}),t.jsx("p",{className:"opacity-70",style:{color:"var(--theme-foreground)"},children:V})]})}):v.length>0?t.jsx("div",{className:"overflow-hidden rounded-lg",children:t.jsx(Pe,{ref:ye,leaves:v,allUsers:x||[],handleClickOpen:le,setCurrentLeave:ce,openModal:z,setLeaves:p,setCurrentPage:me,currentPage:o.page,totalRows:u,lastPage:I,perPage:o.perPage,selectedMonth:i.selectedMonth,employee:"",isAdminView:!1,fetchLeavesStats:c,updatePaginationMetadata:m,onBulkDelete:de,canDeleteLeaves:!0})}):t.jsx(L,{className:"text-center py-12",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:N()},children:t.jsxs(S,{children:[t.jsx(B,{className:"w-16 h-16 mx-auto mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"No Leave Records Found"}),t.jsxs("p",{className:"opacity-70",style:{color:"var(--theme-foreground)"},children:["You haven't submitted any leave requests for ",i.year,"."]})]})})]})]})]})})})})})]})};Ye.layout=D=>t.jsx(ke,{children:D});export{Ye as default};
