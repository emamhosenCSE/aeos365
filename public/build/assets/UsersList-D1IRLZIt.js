import{r,e as C,j as e,g as ze,p as Ee,H as Ie,m as De,c as ie,b as f,a as le,s as Me,f as Te,d as z}from"./app-DLWZL5EI.js";import{s as oe}from"./routeUtils-C6MiLID5.js";import{a as Le,W as We,F as ne,ab as Oe,d as Ve,ac as ce,A as Be}from"./App-CPiN04Y0.js";import{S as He}from"./StatsCards-Wc45_pXA.js";import{A as de,I as Ke,U as qe}from"./InviteUserForm-pULp_5-w.js";import{s as v}from"./toastUtils-CQ8tPw7l.js";import{F as B,b as Ge}from"./UsersIcon-CpsA-xGl.js";import{F as Je}from"./CheckCircleIcon-CaJShsm_.js";import{F as me}from"./ShieldCheckIcon-BxwQA0uM.js";import{F as pe}from"./BuildingOfficeIcon-BJoAl2gF.js";import{F as ue}from"./EnvelopeIcon-BNQywoLu.js";import{F as Qe}from"./MagnifyingGlassIcon-C9l2NPQE.js";import{F as xe}from"./UserIcon-DiPxEy9e.js";import{F as Xe}from"./PencilIcon-Da-ZoIco.js";import{F as Ye}from"./TrashIcon-C6DesZfk.js";import{F as ge}from"./LockClosedIcon-DWSbAAT6.js";import{F as he}from"./DevicePhoneMobileIcon-DzKKUXAD.js";import{F as Ze}from"./useMediaQuery-CZ_V8brP.js";import{a as es,F as ss}from"./DeviceTabletIcon-CR6eyvHQ.js";import{c as ts}from"./chunk-C6WKGNND-Dq1nEPC1.js";import{s as S}from"./chunk-P7ACKWSP-C7P2-EIz.js";import{i as as}from"./chunk-SQIAVXJX-C5zDfxFa.js";import{s as H}from"./chunk-C3QHEOC2-Bmp2Jpe_.js";import{l as E}from"./chunk-Y5DMIIWQ-zhqLBGLU.js";import{b as rs}from"./chunk-57V4RE7B-kgS1ny0L.js";import{p as is}from"./chunk-NL7EUJG2-cD5brqfz.js";import{u as ls}from"./chunk-NGIUTAK3-BIjgviLU.js";import{t as fe}from"./chunk-AUA5GDXN-DgHZKZnK.js";import{d as os,a as ns,b as cs,m as I}from"./PlusIcon-CgcHryUb.js";import{s as ds}from"./chunk-I3A4XRYQ-CbmreU5k.js";import"./app-BI-xrU3s.js";import"./index-lAyyVki8.js";/* empty css                      */import"./chunk-CV4BWJDJ-C645uC3W.js";import"./index-DD7PnbC4.js";import"./index-Dz459_my.js";import"./Cog6ToothIcon-CI3NiAkm.js";import"./GlobeAltIcon-CFAl4tmE.js";import"./useBranding-C98uB2bk.js";import"./useDialog-LKdJQ55I.js";import"./getScrollParent-B27hviGV.js";import"./keyboard-CSKkBtIV.js";import"./useLabels-CKC_NELL.js";import"./VisuallyHidden-Dslt4DE9.js";import"./index-B5MKI_DQ.js";import"./XMarkIcon-C9tv-sqJ.js";import"./chunk-IHO36JMK-DYeauZfe.js";import"./AcademicCapIcon-Bs9t2qow.js";import"./IdentificationIcon-6E2VOCK1.js";import"./ArrowLeftIcon-a6q7R3tQ.js";import"./ArrowRightIcon-BZNmx9ah.js";import"./BoltIcon-BRTqiOqL.js";import"./BriefcaseIcon-CunjT5yU.js";import"./CalendarDaysIcon-BR4QgBq8.js";import"./CalendarIcon-BTj7Nn7B.js";import"./ChartBarIcon-CnSK0enl.js";import"./CircleStackIcon-20fpj2M5.js";import"./ClipboardDocumentCheckIcon-Bwahsg1t.js";import"./CogIcon-CQIGGanJ.js";import"./CpuChipIcon-Dkmm6hKt.js";import"./CurrencyDollarIcon-DK6JNn4H.js";import"./DocumentArrowUpIcon-CdnT1l-_.js";import"./DocumentIcon-YVJ_odhG.js";import"./ExclamationCircleIcon-D-5waelr.js";import"./EyeSlashIcon-C7uJqcIF.js";import"./EyeIcon-Ds6DAjR7.js";import"./FunnelIcon-D8WHt0li.js";import"./InformationCircleIcon-2sIUPx4E.js";import"./KeyIcon-Dl6jmBIi.js";import"./MapPinIcon-CoSq0ZKP.js";import"./PlusCircleIcon-borTRmVT.js";import"./PrinterIcon-jsVlFWpL.js";import"./RocketLaunchIcon-C1ofXZeY.js";import"./ShoppingCartIcon-DijpYrUE.js";import"./UserCircleIcon-D9Bl7hMN.js";import"./UserGroupIcon-DLyCB4U6.js";import"./chunk-TW2E3XVA-dNGvEz5r.js";import"./MaintenanceModeBanner-CpiCdC4n.js";import"./chunk-PMMJMDBI-DH4qNxn7.js";import"./useToggleState-C1tJJPv7.js";import"./chunk-ICU6NNET-BuoRM2Mj.js";import"./index-BJ8QHXMy.js";import"./chunk-LGMZDQT5-BbUrfslF.js";import"./chunk-F3UDT23P-iuiXDnoX.js";import"./useSelectableItem-Qild1lMf.js";import"./SelectionManager-UhxaObWG.js";import"./useHasTabbableChild-DwAon3z_.js";import"./chunk-7F3ZLNJ6-BH294qJ7.js";import"./index-CGn2JJsk.js";import"./chunk-YRZGWF2W-C3idaI1g.js";import"./camera-CJ_kjyiK.js";import"./createLucideIcon-DKR2YbRb.js";import"./chunk-5LXTSPS7-CJuDP5FM.js";import"./chunk-WEIB4WXA-BkR_II6X.js";import"./chunk-KQW2TNLT-BxZBj3py.js";import"./useField-CN4URFK6.js";import"./useLabel-BC4q2FsI.js";import"./useMenuTriggerState-CpMESG3a.js";import"./chunk-WQVQ7P2I-BXEU6rr0.js";import"./number-CB4zbwAz.js";import"./Item-hnCJOaQ5.js";import"./index-D3fxkw17.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-Bg0Or-mv.js";import"./useTreeState-CsNDLaZy.js";const ms=_=>{const n=_==="admin";return{paginate:n?"admin.users.paginate":"users.paginate",stats:n?"admin.users.stats":"users.stats",store:n?"admin.users.store":"users.store",update:n?"admin.users.update":"users.update",destroy:n?"admin.users.destroy":"users.destroy",toggleStatus:n?"admin.users.toggle-status":"users.toggleStatus",updateRoles:n?"admin.users.update-roles":"users.updateRole",devicesToggle:"admin.users.devices.toggle",devicesReset:"admin.users.devices.reset",devices:"admin.users.devices",profile:n?"admin.users.show":"profile"}},ps=({title:_,roles:n,departments:D,designations:us,context:l="tenant"})=>{const d=r.useMemo(()=>ms(l),[l]),[c,ve]=r.useState(!1),[K,be]=r.useState(!1),[b,we]=r.useState(!1),[P,je]=r.useState(!1),[x,_e]=r.useState("lg"),ye=()=>{if(typeof window>"u")return"lg";const t=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",a=parseInt(t);return a===0?"none":a<=4?"sm":a<=8?"md":a<=12?"lg":"xl"};r.useEffect(()=>{typeof window<"u"&&_e(ye())},[]),r.useEffect(()=>{const s=()=>{ve(window.innerWidth<640),be(window.innerWidth<768),we(window.innerWidth>=1025),je(window.innerWidth>=641&&window.innerWidth<=1024)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const[M,p]=r.useState([]),[y,q]=r.useState(!0),[G,J]=r.useState(null),[Q,$]=r.useState(0),[X,k]=r.useState(1),[j,Y]=r.useState(null),[o,Ne]=r.useState({search:"",role:"all",status:"all",department:"all"}),[xs,gs]=r.useState(!1),[N,Z]=r.useState("table"),[m,T]=r.useState({currentPage:1,perPage:10,total:M.length}),[A,U]=r.useState({}),[u,Fe]=r.useState({overview:{total_users:0,active_users:0,inactive_users:0,deleted_users:0,total_roles:0,total_departments:0},distribution:{by_role:[],by_department:[],by_status:[]},activity:{recent_registrations:{new_users_30_days:0,new_users_90_days:0,new_users_year:0,recently_active:0},user_growth_rate:0,current_month_registrations:0},security:{access_metrics:{users_with_roles:0,users_without_roles:0,admin_users:0,regular_users:0},role_distribution:[]},health:{status_ratio:{active_percentage:0,inactive_percentage:0,deleted_percentage:0},system_metrics:{user_activation_rate:0,role_coverage:0,department_coverage:0}},quick_metrics:{total_users:0,active_ratio:0,role_diversity:0,department_diversity:0,recent_activity:0,system_health_score:0}}),h=r.useMemo(()=>({data:M,total:Q,current_page:m.currentPage,per_page:m.perPage,last_page:X}),[M,Q,m.currentPage,m.perPage,X]),g=r.useCallback(async()=>{try{const{data:s}=await C.get(route(d.stats));s.stats&&Fe(s.stats)}catch(s){console.error("Error fetching user stats:",s)}},[d.stats]),L=r.useCallback(async()=>{q(!0);try{const s=await C.get(route(d.paginate),{params:{page:m.currentPage,perPage:m.perPage,search:o.search||void 0,role:o.role!=="all"?o.role:void 0,status:o.status!=="all"?o.status:void 0,department:o.department!=="all"?o.department:void 0}});if(s.status===200){const{users:t}=s.data;t.data&&Array.isArray(t.data)?(p(t.data),t.meta?($(t.meta.total||0),k(t.meta.last_page||1)):($(t.total||t.data.length),k(t.last_page||1))):Array.isArray(t)?(p(t),$(t.length),k(1)):(console.error("Unexpected users data format:",t),p([]),$(0),k(1))}}catch(s){console.error("Error fetching users:",s),v.error("Failed to load users data"),p([])}finally{q(!1)}},[o,m.currentPage,m.perPage,d.paginate]);r.useEffect(()=>{L()},[L]),r.useEffect(()=>{g();const s=setInterval(g,6e4);return()=>clearInterval(s)},[g]);const F=(s,t)=>{Ne(a=>({...a,[s]:t})),T(a=>({...a,currentPage:1}))},ee=s=>{T(t=>({...t,currentPage:s})),window.scrollTo({top:0,behavior:"smooth"})},Re=s=>{T(t=>({...t,currentPage:1,perPage:s}))},R=r.useCallback((s,t=null)=>{Y(s),J(t)},[]),W=r.useCallback(()=>{Y(null),J(null)},[]),O=r.useCallback(s=>{p(s)},[]),Ce=r.useCallback(s=>{p(t=>t.map(a=>a.id===s.id?{...a,...s}:a))},[]),Se=r.useCallback(s=>{p(t=>t.filter(a=>a.id!==s)),g()},[g]),se=r.useCallback((s,t)=>{p(a=>a.map(i=>i.id===s?{...i,active:t}:i)),g()},[g]),Pe=r.useCallback((s,t)=>{p(a=>a.map(i=>i.id===s?{...i,roles:t}:i)),g()},[g]),te=r.useCallback(async(s,t)=>{U(a=>({...a,[s]:!0}));try{const a=await C.post(route(d.devicesToggle,{userId:s}));a.data.success&&(p(i=>i.map(w=>w.id===s?{...w,single_device_login_enabled:a.data.single_device_login_enabled}:w)),v.success(a.data.message))}catch(a){console.error("Error toggling single device login:",a),v.error(a.response?.data?.message||"Failed to toggle single device login")}finally{U(a=>({...a,[s]:!1}))}},[d.devicesToggle]),ae=r.useCallback(async s=>{U(t=>({...t,[s]:!0}));try{const t=await C.post(route(d.devicesReset,{userId:s}),{reason:"Admin reset via user management"});t.data.success&&(p(a=>a.map(i=>i.id===s?{...i,active_device:null}:i)),v.success(t.data.message||"User devices have been reset"))}catch(t){console.error("Error resetting user devices:",t),v.error("Failed to reset user devices")}finally{U(t=>({...t,[s]:!1}))}},[d.devicesReset]);r.useCallback(async s=>{try{const t=await C.get(route(d.devices,{userId:s}));if(t.data.success){const a=t.data.devices;if(a.length===0)v.info("User has no registered devices");else{const i=a.filter(w=>w.is_active).length;v.info(`User has ${a.length} device(s): ${i} active, ${a.length-i} inactive`)}}}catch(t){console.error("Error fetching user devices:",t),v.error("Failed to fetch device information")}},[d.devices]);const re=(s,t="w-4 h-4")=>{const a=s?.toLowerCase()||"";return a.includes("mobile")||a.includes("android")||a.includes("iphone")?e.jsx(he,{className:`${t} text-primary`}):a.includes("tablet")||a.includes("ipad")?e.jsx(es,{className:`${t} text-secondary`}):e.jsx(ss,{className:`${t} text-default-500`})},$e=s=>{const t=s?.toLowerCase()||"";return t.includes("mobile")||t.includes("android")||t.includes("iphone")?"Mobile":t.includes("tablet")||t.includes("ipad")?"Tablet":"Desktop"},ke=({user:s,index:t})=>e.jsx(ie,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 h-full min-h-[320px]",style:{background:`linear-gradient(135deg, 
          color-mix(in srgb, var(--theme-content1) 90%, transparent) 20%, 
          color-mix(in srgb, var(--theme-content2) 80%, transparent) 80%)`,borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(le,{className:"p-3 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-3 pb-2 border-b border-white/10",children:[e.jsx(ls,{avatarProps:{radius:"md",src:s?.profile_image_url||s?.profile_image,size:"sm",fallback:e.jsx(xe,{className:"w-4 h-4"}),style:{borderColor:"var(--theme-primary)",borderWidth:"2px"}},name:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-foreground text-sm line-clamp-1",children:s.name}),e.jsxs("span",{className:"text-default-500 text-xs line-clamp-1",children:["ID: ",s.id]})]}),classNames:{wrapper:"flex-1 min-w-0",name:"text-sm font-semibold",description:"text-xs text-default-500"}}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{content:"Edit User",size:"sm",children:e.jsx(f,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-primary min-w-6 w-6 h-6",onPress:()=>R("edit",s),children:e.jsx(Xe,{className:"w-3 h-3"})})}),e.jsxs(os,{placement:"bottom-end",children:[e.jsx(ns,{children:e.jsx(f,{isIconOnly:!0,size:"sm",variant:"ghost",radius:x,isDisabled:A[s.id],className:"min-w-6 w-6 h-6",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:e.jsx(Ye,{className:"w-3 h-3"})})}),e.jsxs(cs,{"aria-label":"Device management actions",variant:"bordered",className:"min-w-[180px]",style:{background:"color-mix(in srgb, var(--theme-content1) 95%, transparent)",backdropFilter:"blur(16px)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsx(I,{startContent:s.single_device_login?e.jsx(ce,{className:"w-3 h-3"}):e.jsx(ge,{className:"w-3 h-3"}),onPress:()=>te(s.id,!s.single_device_login),isDisabled:A[s.id],className:"text-xs",children:s.single_device_login?"Disable Lock":"Enable Lock"},"toggle-device-lock"),s.single_device_login&&s.active_device&&e.jsx(I,{startContent:e.jsx(Te,{className:"w-3 h-3"}),onPress:()=>ae(s.id),isDisabled:A[s.id],className:"text-xs",children:"Reset Device"},"reset-device"),e.jsx(I,{startContent:e.jsx(he,{className:"w-3 h-3"}),onPress:()=>oe(d.devices,{userId:s.id}),className:"text-xs",children:"Device History"},"view-devices"),e.jsx(I,{startContent:e.jsx(xe,{className:"w-3 h-3"}),onPress:()=>oe(d.profile,{user:s.id}),className:"text-xs",children:"View Profile"},"view-profile")]})]})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(ue,{className:"w-3 h-3 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 line-clamp-1 flex-1",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(Ze,{className:"w-3 h-3 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 line-clamp-1",children:s.phone})]}),(s.department||s.department_id)&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(pe,{className:"w-3 h-3 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 line-clamp-1",children:typeof s.department=="string"?s.department:"N/A"})]})]}),e.jsxs("div",{className:"mb-3 p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content2) 40%, transparent)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-default-700",children:"Device Status"}),s.single_device_login&&s.active_device&&e.jsx(fe,{content:e.jsxs("div",{className:"p-2 max-w-xs",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[re(s.active_device.user_agent,"w-4 h-4"),e.jsx("span",{className:"font-medium text-xs",children:s.active_device.device_name||"Unknown Device"})]}),e.jsxs("div",{className:"text-xs text-default-500",children:[$e(s.active_device.user_agent)," â€¢",s.active_device.is_active?" Active":" Inactive"]})]}),size:"sm",children:e.jsx("div",{className:"cursor-help",children:re(s.active_device.user_agent,"w-4 h-4")})})]}),e.jsx(z,{size:"sm",variant:"flat",color:s.single_device_login?s.active_device?"warning":"success":"default",startContent:s.single_device_login?s.active_device?e.jsx(ge,{className:"w-3 h-3"}):e.jsx(ce,{className:"w-3 h-3"}):e.jsx(me,{className:"w-3 h-3"}),className:"text-xs",children:s.single_device_login?s.active_device?"Locked":"Free":"Disabled"})]}),e.jsxs("div",{className:"mt-auto space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-default-700",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ds,{size:"sm",isSelected:s.active,onValueChange:a=>se(s.id,a),color:s.active?"success":"danger",classNames:{wrapper:"group-data-[selected=true]:bg-success",thumb:"group-data-[selected=true]:ml-4"}}),e.jsx("span",{className:`text-xs font-medium ${s.active?"text-success":"text-danger"}`,children:s.active?"Active":"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-default-700 mb-1 block",children:"Roles"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.roles&&s.roles.length>0?s.roles.slice(0,3).map((a,i)=>{const w=typeof a=="object"&&a!==null?a.name:a;return e.jsx(z,{size:"sm",variant:"flat",color:"secondary",className:"text-xs h-5",children:w},i)}):e.jsx(z,{size:"sm",variant:"bordered",color:"default",className:"text-xs h-5",children:"No Roles"}),s.roles&&s.roles.length>3&&e.jsxs(z,{size:"sm",variant:"bordered",color:"primary",className:"text-xs h-5",children:["+",s.roles.length-3]})]})]})]})]})}),Ae=r.useMemo(()=>[{title:"Total Users",value:u?.overview?.total_users||0,icon:e.jsx(B,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All users"},{title:"Active Users",value:u?.overview?.active_users||0,icon:e.jsx(Je,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${u?.health?.status_ratio?.active_percentage||0}% Active`},{title:"Inactive Users",value:u?.overview?.inactive_users||0,icon:e.jsx(ze,{className:"w-5 h-5"}),color:"text-red-400",iconBg:"bg-red-500/20",description:`${u?.health?.status_ratio?.inactive_percentage||0}% Inactive`},{title:"Total Roles",value:u?.overview?.total_roles||0,icon:e.jsx(me,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Role diversity"},{title:"Role Coverage",value:`${u?.health?.system_metrics?.role_coverage||0}%`,icon:e.jsx(Le,{className:"w-5 h-5"}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Users with roles"},{title:"Recent Activity",value:u?.activity?.recent_registrations?.recently_active||0,icon:e.jsx(Ee,{className:"w-5 h-5"}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Active last 7 days"},{title:"System Health",value:`${u?.quick_metrics?.system_health_score||0}%`,icon:e.jsx(We,{className:"w-5 h-5"}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Overall health"},{title:l==="admin"?"Tenants":"Departments",value:u?.overview?.total_departments||0,icon:e.jsx(pe,{className:"w-5 h-5"}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:l==="admin"?"Platform tenants":"Department diversity"}],[u,l]),V=l==="admin"?"Platform Administrators":"Users Management",Ue=l==="admin"?"Manage platform administrator accounts and access":"Manage user accounts, roles and permissions";return e.jsxs(e.Fragment,{children:[e.jsx(Ie,{title:_||V}),j==="add"&&e.jsx(de,{user:null,roles:n,open:j==="add",setUsers:O,closeModal:W,editMode:!1,context:l}),j==="edit"&&G&&e.jsx(de,{user:G,roles:n,open:j==="edit",setUsers:O,closeModal:W,editMode:!0,context:l}),j==="invite"&&l==="tenant"&&e.jsx(Ke,{roles:n,open:j==="invite",closeModal:W,onInviteSent:()=>{L()}}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":V,children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(De.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(ie,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ts,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${b?"p-6":P?"p-4":"p-3"} w-full`,children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[y?e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx(S,{className:"w-12 h-12 rounded-xl"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(S,{className:"w-64 h-6 rounded mb-2"}),e.jsx(S,{className:"w-48 h-4 rounded"})]})]}):e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                ${b?"p-3":P?"p-2.5":"p-2"} 
                                rounded-xl flex items-center justify-center
                              `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(B,{className:`
                                  ${b?"w-8 h-8":P?"w-6 h-6":"w-5 h-5"}
                                `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                  ${b?"text-2xl":P?"text-xl":"text-lg"}
                                  font-bold text-foreground
                                  ${b?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:V}),e.jsx("p",{className:`
                                  ${b?"text-sm":"text-xs"} 
                                  text-default-500
                                  ${b?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:Ue})]})]}),y?e.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[e.jsx(S,{className:"w-24 h-8 rounded"}),e.jsx(S,{className:"w-20 h-8 rounded"})]}):e.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[e.jsx(f,{size:c?"sm":"md",color:"primary",startContent:e.jsx(ne,{className:"w-4 h-4"}),onPress:()=>R("add"),radius:x,style:{fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:c?"Add":l==="admin"?"Add Admin":"Add User"}),l==="tenant"&&e.jsx(f,{size:c?"sm":"md",variant:"bordered",startContent:e.jsx(ue,{className:"w-4 h-4"}),onPress:()=>R("invite"),radius:x,style:{background:"color-mix(in srgb, var(--theme-secondary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-secondary) 30%, transparent)",color:"var(--theme-secondary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:c?"Invite":"Invite User"}),e.jsx(f,{size:c?"sm":"md",variant:"bordered",startContent:e.jsx(Ge,{className:"w-4 h-4"}),radius:x,style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:c?"Export":"Export Users"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx(as,{size:c?"sm":"md",placeholder:"Search users...",value:o.search,onValueChange:s=>F("search",s),startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),isClearable:!0,onClear:()=>F("search",""),radius:x,classNames:{inputWrapper:"bg-default-100"},className:"flex-1"}),e.jsx(H,{size:c?"sm":"md",placeholder:"All Roles",selectedKeys:o.role!=="all"?[o.role]:[],onSelectionChange:s=>F("role",Array.from(s)[0]||"all"),radius:x,classNames:{trigger:"bg-default-100"},className:"w-full md:w-48",children:n?.map(s=>e.jsx(E,{textValue:s.name||s,children:s.name||s},s.name||s))}),e.jsxs(H,{size:c?"sm":"md",placeholder:"All Status",selectedKeys:o.status!=="all"?[o.status]:[],onSelectionChange:s=>F("status",Array.from(s)[0]||"all"),radius:x,classNames:{trigger:"bg-default-100"},className:"w-full md:w-40",children:[e.jsx(E,{textValue:"Active",children:"Active"},"active"),e.jsx(E,{textValue:"Inactive",children:"Inactive"},"inactive")]}),l==="tenant"&&D&&D.length>0&&e.jsx(H,{size:c?"sm":"md",placeholder:"All Departments",selectedKeys:o.department!=="all"?[o.department]:[],onSelectionChange:s=>F("department",Array.from(s)[0]||"all"),radius:x,classNames:{trigger:"bg-default-100"},className:"w-full md:w-48",children:D?.map(s=>e.jsx(E,{textValue:s.name,children:s.name},String(s.id)))}),e.jsxs(rs,{size:c?"sm":"md",radius:x,children:[e.jsx(f,{isIconOnly:!0,variant:N==="table"?"solid":"bordered",color:N==="table"?"primary":"default",onPress:()=>Z("table"),children:e.jsx(Oe,{className:"w-4 h-4"})}),e.jsx(f,{isIconOnly:!0,variant:N==="grid"?"solid":"bordered",color:N==="grid"?"primary":"default",onPress:()=>Z("grid"),children:e.jsx(Ve,{className:"w-4 h-4"})})]})]})]})})}),e.jsxs(le,{className:"p-6",children:[e.jsx(He,{stats:Ae,className:"mb-6",isLoading:y}),e.jsx("div",{className:"overflow-hidden",children:y?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Me,{size:"lg"})}):N==="table"?e.jsx(qe,{allUsers:h.data,roles:n,setUsers:O,isMobile:c,isTablet:K,pagination:m,onPageChange:ee,onRowsPerPageChange:Re,totalUsers:h.total,loading:y,onEdit:s=>R("edit",s),updateUserOptimized:Ce,deleteUserOptimized:Se,toggleUserStatusOptimized:se,updateUserRolesOptimized:Pe,toggleSingleDeviceLogin:te,resetUserDevice:ae,deviceActions:A,context:l}):e.jsxs("div",{children:[h.data&&h.data.length>0?e.jsx("div",{className:`grid gap-4 ${c?"grid-cols-1":K?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:h.data.map((s,t)=>e.jsx(ke,{user:s,index:t},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"w-16 h-16 mx-auto text-default-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),e.jsx("p",{className:"text-default-500 mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(f,{color:"primary",startContent:e.jsx(ne,{className:"w-4 h-4"}),onPress:()=>R("add"),children:l==="admin"?"Add First Admin":"Add First User"})]}),h.data&&h.data.length>0&&e.jsx("div",{className:"flex justify-center mt-6 border-t pt-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsx(is,{total:Math.ceil(h.total/m.perPage),initialPage:m.currentPage,page:m.currentPage,onChange:ee,size:c?"sm":"md",variant:"bordered",showControls:!0,radius:x,style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})})})})})]})};ps.layout=_=>e.jsx(Be,{children:_});export{ps as default};
