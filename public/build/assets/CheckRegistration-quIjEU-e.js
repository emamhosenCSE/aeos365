import{o as v,j as e,H as g,c as i,a as m,b as l,d as w,h as y,p as _,g as R}from"./app-C5lQX7UO.js";import"./index-BeiV6kVn.js";import{d as o}from"./dayjs.min-DMw012Gu.js";import{F as k}from"./MagnifyingGlassIcon-FD9b4416.js";import{F as C}from"./ArrowLeftIcon-CEF9dMYC.js";import{F}from"./PrinterIcon-BkL3DXP0.js";import{F as Y}from"./CheckCircleIcon-BDeABBju.js";import{i as E}from"./chunk-SQIAVXJX-JCrnSLUk.js";import{d}from"./chunk-IHO36JMK-C2CY5vR0.js";import{i as D}from"./chunk-PGYMO5KK-CfToPD7P.js";import"./app-Bq-q9uAS.js";import"./chunk-KQW2TNLT-FgiaJ7J5.js";import"./index-BXRhekn9.js";import"./chunk-ICU6NNET-KTThvCTm.js";import"./useLabel-BcTiTZIt.js";import"./useLabels-BSPM8vAp.js";import"./index-DhmF-6Cs.js";const r=()=>getComputedStyle(document.documentElement).getPropertyValue("--borderRadius").trim()||"md",J=({registration:s,event:t})=>{const{data:x,setData:u,post:h,processing:p,errors:n}=v({token:""}),f=a=>{a.preventDefault(),h(route("public.events.check-registration"))},j=a=>{switch(a){case"approved":return e.jsx(Y,{className:"w-12 h-12 text-success"});case"rejected":return e.jsx(R,{className:"w-12 h-12 text-danger"});case"pending":return e.jsx(_,{className:"w-12 h-12 text-warning"});default:return null}},N=a=>{switch(a){case"approved":return"success";case"rejected":return"danger";case"pending":return"warning";default:return"default"}},b=()=>{window.open(route("events.registrations.print-token",{event:t.id,registration:s.id}),"_blank")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-background py-12 px-4",children:[e.jsx(g,{title:"Check Registration Status"}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Check Registration Status"}),e.jsx("p",{className:"text-lg text-default-600",children:"Enter your registration token to check your status"})]}),!s&&e.jsx(i,{className:"mb-8",radius:r(),children:e.jsx(m,{className:"p-6",children:e.jsx("form",{onSubmit:f,children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(E,{placeholder:"Enter your registration token (e.g., EVT-XXXXXXXX)",value:x.token,onChange:a=>u("token",a.target.value.toUpperCase()),size:"lg",variant:"bordered",className:"flex-1",isInvalid:!!n.token,errorMessage:n.token,startContent:e.jsx(k,{className:"w-5 h-5 text-default-400"}),radius:r()}),e.jsx(l,{type:"submit",color:"primary",size:"lg",isLoading:p,className:"sm:w-auto w-full",radius:r(),children:"Check Status"})]})})})}),s&&t&&e.jsx(i,{radius:r(),children:e.jsxs(m,{className:"p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center ${s.status==="approved"?"bg-success/10":s.status==="rejected"?"bg-danger/10":"bg-warning/10"}`,children:j(s.status)})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(w,{color:N(s.status),size:"lg",variant:"flat",className:"mb-3",radius:r(),children:s.status.toUpperCase()}),e.jsxs("p",{className:"text-lg text-default-600",children:[s.status==="approved"&&"Your registration has been approved!",s.status==="pending"&&"Your registration is under review",s.status==="rejected"&&"Your registration has been rejected"]})]}),e.jsx(d,{className:"my-6"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-sm text-default-500 mb-2",children:"Registration Token"}),e.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:s.token})]}),e.jsx(d,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-default-500 mb-1",children:"Participant Name"}),e.jsx("p",{className:"font-medium",children:s.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-default-500 mb-1",children:"Email"}),e.jsx("p",{className:"font-medium",children:s.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-default-500 mb-1",children:"Phone"}),e.jsx("p",{className:"font-medium",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-default-500 mb-1",children:"Registration Date"}),e.jsx("p",{className:"font-medium",children:o(s.created_at).format("MMM DD, YYYY")})]})]}),e.jsx(d,{className:"my-6"}),e.jsxs("div",{className:"bg-default-100 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Event Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-600",children:"Event:"}),e.jsx("span",{className:"font-medium",children:t.title})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-600",children:"Date:"}),e.jsx("span",{className:"font-medium",children:o(t.event_date).format("MMM DD, YYYY")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-600",children:"Time:"}),e.jsx("span",{className:"font-medium",children:t.event_time})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-600",children:"Venue:"}),e.jsx("span",{className:"font-medium",children:t.venue})]})]})]}),s.sub_events&&s.sub_events.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Registered Sub-Events"}),e.jsx("div",{className:"space-y-2",children:s.sub_events.map((a,c)=>e.jsxs("div",{className:"flex items-center gap-2 bg-default-50 p-3 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center text-xs font-bold",children:c+1}),e.jsx("span",{className:"font-medium",children:a.title})]},c))})]}),s.qr_code&&s.status==="approved"&&e.jsxs("div",{className:"bg-default-50 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-center mb-4",children:"Your Registration QR Code"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(D,{src:`/storage/${s.qr_code}`,alt:"QR Code",className:"w-48 h-48 border-2 border-default-200 rounded-lg"})}),e.jsx("p",{className:"text-xs text-center text-default-500 mt-3",children:"Present this QR code at the event venue for verification"})]}),s.rejection_reason&&e.jsxs("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm font-semibold text-danger-800 mb-2",children:"Rejection Reason"}),e.jsx("p",{className:"text-sm text-danger-700",children:s.rejection_reason})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(l,{variant:"flat",startContent:e.jsx(C,{className:"w-4 h-4"}),onPress:()=>y.get(route("public.events.index")),radius:r(),children:"Back to Events"}),s.status==="approved"&&e.jsx(l,{color:"primary",startContent:e.jsx(F,{className:"w-4 h-4"}),onPress:b,radius:r(),children:"Print Token"})]}),t.organizer_phone&&e.jsxs("div",{className:"mt-6 text-center text-sm text-default-500",children:["For queries, contact: ",t.organizer_phone,t.organizer_email&&` | ${t.organizer_email}`]})]})})]})]})};export{J as default};
