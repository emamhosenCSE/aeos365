import{Z as We,r as n,ar as ye,V as De,U as sa,W as na,as as ia,R as oa,a0 as ra,at as Pe,t as K,au as da,w as m,av as ua,a5 as xe,ac as ge,aw as ca,T as ba,a1 as fa,a4 as l,a3 as j,ad as Me,a7 as va}from"./app-wtupjOeZ.js";import{$ as Ie,u as pa}from"./index-DHsHUiX1.js";import{a as ma,$ as ha,b as Ca,u as $a,F as ya}from"./chunk-ICU6NNET-DFjgFNJm.js";import{$ as Pa}from"./useLabel-C8LV2AA2.js";function xa(e){const o=We(),u=o?.labelPlacement;return n.useMemo(()=>{var c,r;const b=(r=(c=e.labelPlacement)!=null?c:u)!=null?r:"inside";return b==="inside"&&!e.label?"outside":b},[e.labelPlacement,u,e.label])}function ga(e){let{description:o,errorMessage:u,isInvalid:c,validationState:r}=e,{labelProps:b,fieldProps:h}=Pa(e),C=ye([!!o,!!u,c,r]),d=ye([!!o,!!u,c,r]);return h=De(h,{"aria-describedby":[C,d,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:b,fieldProps:h,descriptionProps:{id:C},errorMessageProps:{id:d}}}function Ma(e,o){let{inputElementType:u="input",isDisabled:c=!1,isRequired:r=!1,isReadOnly:b=!1,type:h="text",validationBehavior:C="aria"}=e,[d,k]=Ie(e.value,e.defaultValue||"",e.onChange),{focusableProps:f}=sa(e,o),O=ma({...e,value:d}),{isInvalid:N,validationErrors:S,validationDetails:g}=O.displayValidation,{labelProps:D,fieldProps:z,descriptionProps:U,errorMessageProps:w}=ga({...e,isInvalid:N,errorMessage:e.errorMessage||S}),Z=na(e,{labelable:!0});const a={type:h,pattern:e.pattern};let[G]=n.useState(d);var I;return ha(o,(I=e.defaultValue)!==null&&I!==void 0?I:G,k),Ca(e,O,o),n.useEffect(()=>{if(o.current instanceof ia(o.current).HTMLTextAreaElement){let $=o.current;Object.defineProperty($,"defaultValue",{get:()=>$.value,set:()=>{},configurable:!0})}},[o]),{labelProps:D,inputProps:De(Z,u==="input"?a:void 0,{disabled:c,readOnly:b,required:r&&C==="native","aria-required":r&&C==="aria"||void 0,"aria-invalid":N||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:d,onChange:$=>k($.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,form:e.form,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(oa.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...f,...z}),descriptionProps:U,errorMessageProps:w,isInvalid:N,validationErrors:S,validationDetails:g}}function Ba(e){var o,u,c,r,b,h,C;const d=We(),{validationBehavior:k}=$a(ya)||{},[f,O]=ra(e,Pe.variantKeys),{ref:N,as:S,type:g,label:D,baseRef:z,wrapperRef:U,description:w,className:Z,classNames:a,autoFocus:G,startContent:I,endContent:$,onClear:y,onChange:te,validationState:Re,validationBehavior:Be=(o=k??d?.validationBehavior)!=null?o:"native",innerWrapperRef:ke,onValueChange:le=()=>{},...se}=f,Oe=n.useCallback(t=>{le(t??"")},[le]),[J,Ne]=n.useState(!1),we=S||"div",ne=(c=(u=e.disableAnimation)!=null?u:d?.disableAnimation)!=null?c:!1,i=K(N),Ee=K(z),Ve=K(U),Le=K(ke),[P,R]=Ie(f.value,(r=f.defaultValue)!=null?r:"",Oe),E=g==="file",Fe=((C=(h=(b=i?.current)==null?void 0:b.files)==null?void 0:h.length)!=null?C:0)>0,Se=["date","time","month","week","range"].includes(g),x=!da(P)||Se||Fe,T=x||J,ie=g==="hidden",oe=e.isMultiline,re=m(a?.base,Z,x?"is-filled":""),Te=n.useCallback(()=>{var t;E?i.current.value="":R(""),y?.(),(t=i.current)==null||t.focus()},[R,y,E]);pa(()=>{i.current&&R(i.current.value)},[i.current]);const{labelProps:de,inputProps:M,isInvalid:_e,validationErrors:Q,validationDetails:He,descriptionProps:qe,errorMessageProps:ue}=Ma({...e,validationBehavior:Be,autoCapitalize:e.autoCapitalize,value:P,"aria-label":e.label?e["aria-label"]:ua(e["aria-label"],e.placeholder),inputElementType:oe?"textarea":"input",onChange:R},i);E&&(delete M.value,delete M.onChange);const{isFocusVisible:_,isFocused:H,focusProps:ce}=xe({autoFocus:G,isTextInput:!0}),{isHovered:q,hoverProps:Ae}=ge({isDisabled:!!e?.isDisabled}),{isHovered:V,hoverProps:Ke}=ge({isDisabled:!!e?.isDisabled}),{focusProps:be,isFocusVisible:fe}=xe(),{focusWithinProps:ve}=ca({onFocusWithinChange:Ne}),{pressProps:pe}=ba({isDisabled:!!e?.isDisabled||!!e?.isReadOnly,onPress:Te}),B=Re==="invalid"||_e,v=xa({labelPlacement:e.labelPlacement,label:D}),X=typeof f.errorMessage=="function"?f.errorMessage({isInvalid:B,validationErrors:Q,validationDetails:He}):f.errorMessage||Q?.join(" "),L=!!y||e.isClearable,me=!!D||!!w||!!X,W=!!f.placeholder,he=!!D,Y=!!w||!!X,ee=v==="outside-left",ae=v==="outside-top",Ce=v==="outside"||ee||ae,je=v==="inside",A=i.current?(!i.current.value||i.current.value===""||!P||P==="")&&W:!1,p=!!I,ze=Ce?ee||ae||W||v==="outside"&&p:!1,Ue=v==="outside"&&!W&&!p,s=n.useMemo(()=>Pe({...O,isInvalid:B,labelPlacement:v,isClearable:L,disableAnimation:ne}),[fa(O),B,v,L,p,ne]),Ze=n.useCallback((t={})=>({ref:Ee,className:s.base({class:re}),"data-slot":"base","data-filled":l(x||W||p||A||E),"data-filled-within":l(T||W||p||A||E),"data-focus-within":l(J),"data-focus-visible":l(_),"data-readonly":l(e.isReadOnly),"data-focus":l(H),"data-hover":l(q||V),"data-required":l(e.isRequired),"data-invalid":l(B),"data-disabled":l(e.isDisabled),"data-has-elements":l(me),"data-has-helper":l(Y),"data-has-label":l(he),"data-has-value":l(!A),"data-hidden":l(ie),...ve,...t}),[s,re,x,H,q,V,B,Y,he,me,A,p,J,_,T,W,ve,ie,e.isReadOnly,e.isRequired,e.isDisabled]),Ge=n.useCallback((t={})=>({"data-slot":"label",className:s.label({class:a?.label}),...j(de,Ke,t)}),[s,V,de,a?.label]),$e=n.useCallback(t=>{t.key==="Escape"&&P&&(L||y)&&!e.isReadOnly&&(R(""),y?.())},[P,R,y,L,e.isReadOnly]),Je=n.useCallback((t={})=>({"data-slot":"input","data-filled":l(x),"data-filled-within":l(T),"data-has-start-content":l(p),"data-has-end-content":l(!!$),"data-type":g,className:s.input({class:m(a?.input,x?"is-filled":"",oe?"pe-0":"",g==="password"?"[&::-ms-reveal]:hidden":"")}),...j(ce,M,va(se,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(M))}),t),"aria-readonly":l(e.isReadOnly),onChange:Me(M.onChange,te),onKeyDown:Me(M.onKeyDown,t.onKeyDown,$e),ref:i}),[s,P,ce,M,se,x,T,p,$,a?.input,e.isReadOnly,e.isRequired,te,$e]),Qe=n.useCallback((t={})=>({ref:Ve,"data-slot":"input-wrapper","data-hover":l(q||V),"data-focus-visible":l(_),"data-focus":l(H),className:s.inputWrapper({class:m(a?.inputWrapper,x?"is-filled":"")}),...j(t,Ae),onClick:F=>{i.current&&F.currentTarget===F.target&&i.current.focus()},style:{cursor:"text",...t.style}}),[s,q,V,_,H,P,a?.inputWrapper]),Xe=n.useCallback((t={})=>({...t,ref:Le,"data-slot":"inner-wrapper",onClick:F=>{i.current&&F.currentTarget===F.target&&i.current.focus()},className:s.innerWrapper({class:m(a?.innerWrapper,t?.className)})}),[s,a?.innerWrapper]),Ye=n.useCallback((t={})=>({...t,"data-slot":"main-wrapper",className:s.mainWrapper({class:m(a?.mainWrapper,t?.className)})}),[s,a?.mainWrapper]),ea=n.useCallback((t={})=>({...t,"data-slot":"helper-wrapper",className:s.helperWrapper({class:m(a?.helperWrapper,t?.className)})}),[s,a?.helperWrapper]),aa=n.useCallback((t={})=>({...t,...qe,"data-slot":"description",className:s.description({class:m(a?.description,t?.className)})}),[s,a?.description]),ta=n.useCallback((t={})=>({...t,...ue,"data-slot":"error-message",className:s.errorMessage({class:m(a?.errorMessage,t?.className)})}),[s,ue,a?.errorMessage]),la=n.useCallback((t={})=>({...t,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":l(fe),className:s.clearButton({class:m(a?.clearButton,t?.className)}),...j(pe,be)}),[s,fe,pe,be,a?.clearButton]);return{Component:we,classNames:a,domRef:i,label:D,description:w,startContent:I,endContent:$,labelPlacement:v,isClearable:L,hasHelper:Y,hasStartContent:p,isLabelOutside:ze,isOutsideLeft:ee,isOutsideTop:ae,isLabelOutsideAsPlaceholder:Ue,shouldLabelBeOutside:Ce,shouldLabelBeInside:je,hasPlaceholder:W,isInvalid:B,errorMessage:X,getBaseProps:Ze,getLabelProps:Ge,getInputProps:Je,getMainWrapperProps:Ye,getInputWrapperProps:Qe,getInnerWrapperProps:Xe,getHelperWrapperProps:ea,getDescriptionProps:aa,getErrorMessageProps:ta,getClearButtonProps:la}}export{ga as $,xa as a,Ba as u};
