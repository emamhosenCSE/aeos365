import{j as e,F as ye,e as H,b as w,r as n,c as oe,d as de,S as rt,f as X,s as re,L as st,p as we,H as at,m as Ue,a as Oe}from"./app-C6D97yqs.js";import{at as xe,v as ze,w as Ve,T as nt,aB as it,u as fe,M as Ge,aC as lt,aD as ot,aE as dt,F as le,aA as ct,d as mt,b as Ae,c as pt,ak as xt,f as ht,A as ut}from"./App-CppTX59L.js";import{S as gt}from"./StatsCards-CgPdCOJD.js";import{s as W}from"./toastUtils-Q1Zu0YAs.js";import{F as ce}from"./BuildingOfficeIcon-C302xB7i.js";import{F as me}from"./BriefcaseIcon-Dydmf2Fo.js";import{m as qe,a as Ke,b as ft,c as bt}from"./chunk-TW2E3XVA-D943xeze.js";import{m as jt}from"./chunk-5LXTSPS7-HxrtH6JM.js";import{F as We}from"./XMarkIcon-CWjb9fY_.js";import{F as Ye}from"./CheckCircleIcon-MQdHbz3q.js";import{p as vt}from"./chunk-VFIJPDYX-BG4mNQLS.js";import{F as yt}from"./MapPinIcon-Dk5iA0cU.js";import{F as Xe}from"./UserIcon-DclU2kn3.js";import{F as Ie}from"./EnvelopeIcon-BtD2wkOs.js";import{F as Me}from"./useMediaQuery-DcqTnk8f.js";import{t as wt,a as Nt,b as _t,c as kt}from"./chunk-F3UDT23P-DvrCzaG3.js";import{t as Pt,a as Ft}from"./chunk-YRZGWF2W-DeIVMXKW.js";import{p as Je}from"./chunk-NL7EUJG2-DKEHut1P.js";import{d as be,a as je,b as ve,m as ne,F as St,c as Ct}from"./PlusIcon-CumkSnWO.js";import{s as Ne}from"./chunk-C3QHEOC2-lf46a7_w.js";import{l as pe}from"./chunk-Y5DMIIWQ-B-31GKl8.js";import{u as Rt}from"./chunk-NGIUTAK3-HgJcUyi-.js";import{O as Dt}from"./OnboardEmployeeModal-BJGcOvOG.js";import{F as Qe}from"./MagnifyingGlassIcon-B6xsgkYd.js";import{F as Et}from"./ExclamationCircleIcon-DPY0IdyW.js";import{i as Ze}from"./chunk-SQIAVXJX--voZooKX.js";import{s as ie}from"./chunk-P7ACKWSP-C6mW2UXu.js";import{a as Tt}from"./chunk-CV4BWJDJ-Cxk64tzW.js";import{c as Be}from"./chunk-C6WKGNND-CbwkZjx-.js";import{b as $t}from"./chunk-57V4RE7B-B3O9bBWr.js";import"./app-Bq-q9uAS.js";import"./index-Bo6Zoxl-.js";/* empty css                      */import"./Cog6ToothIcon-Dacv3CZj.js";import"./GlobeAltIcon-rkDaOLZ2.js";import"./useBranding-Cw0mTfbx.js";import"./useDialog-D7o2a8kv.js";import"./VisuallyHidden-RYZn0THU.js";import"./keyboard-Cy2kFhRg.js";import"./useLabels-BCiPlEC-.js";import"./index-DrgTSH3Q.js";import"./index-77Z8rBn0.js";import"./chunk-AUA5GDXN-CAF2pY_4.js";import"./chunk-WQVQ7P2I-D2DOeqGm.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-CqXKju-4.js";import"./chunk-IHO36JMK-CxVXvMT-.js";import"./ShieldCheckIcon-taiWgr2T.js";import"./AcademicCapIcon-zmoUCTUT.js";import"./IdentificationIcon-BEcRIM1U.js";import"./ArrowLeftIcon-CSysR1M9.js";import"./ArrowRightIcon-DLnXgYHF.js";import"./CalendarDaysIcon-nLQnmqo-.js";import"./CalendarIcon-Dezk7dU5.js";import"./CircleStackIcon-BTy0v52H.js";import"./ClipboardDocumentCheckIcon-H9LG9i1B.js";import"./CogIcon-BN0I3mMO.js";import"./DeviceTabletIcon-c9AQEaHX.js";import"./CpuChipIcon-CS3aISp5.js";import"./CurrencyDollarIcon-BmLYNiz4.js";import"./DevicePhoneMobileIcon-CMwnQGC7.js";import"./DocumentArrowUpIcon-C7WlpLzu.js";import"./DocumentIcon-CgjSHdrZ.js";import"./EyeIcon-BBMMcyJt.js";import"./InformationCircleIcon-9EoSkUK6.js";import"./KeyIcon-CiKxvxTU.js";import"./LockClosedIcon-CS09e3nP.js";import"./PlusCircleIcon-SPTwaNHS.js";import"./PrinterIcon-DDkAZmwt.js";import"./RocketLaunchIcon-PU9SlT1o.js";import"./ShoppingCartIcon-DeawsoPe.js";import"./UserCircleIcon-CVX0hwvm.js";import"./UserGroupIcon-LfazjqTo.js";import"./chunk-I3A4XRYQ-_jSa-2MM.js";import"./useToggleState-El1QkeSl.js";import"./chunk-ICU6NNET-cKZ2ZpSt.js";import"./MaintenanceModeBanner-TAygNxEH.js";import"./useProgressBar-DlQ0rtov.js";import"./useLabel-Igmv_cwO.js";import"./useNumberFormatter-CWD5ZFM-.js";import"./NumberFormatter-DNR9MAW-.js";import"./useSelectableItem-Cp0nNgDa.js";import"./SelectionManager-B6BjaFIZ.js";import"./chunk-PMMJMDBI-YdSsa0dM.js";import"./index-Cz0McWEQ.js";import"./useHasTabbableChild-B5pREwQt.js";import"./chunk-7F3ZLNJ6-DHud_gBT.js";import"./index-XUtUDqAb.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-C7GyMsTq.js";import"./Item-B28lnRHm.js";import"./index-xzZqw-cE.js";import"./useTreeState-CXDG7JK8.js";import"./useMenuTriggerState-CSwbTj6p.js";import"./chunk-KQW2TNLT--RJJE_Tq.js";import"./index-_tuaJw8O.js";const At=({open:$,onClose:F,employee:c,onConfirm:C,loading:b=!1})=>{if(!c)return null;const k=c.active_projects_count>0||c.pending_leaves_count>0||c.active_trainings_count>0;return e.jsx(qe,{isOpen:$,onClose:F,size:"2xl",classNames:{backdrop:"bg-black/50 backdrop-blur-sm",base:"border border-white/20 bg-white/90 backdrop-blur-md",header:"border-b border-danger/30 bg-gradient-to-r from-danger-50/50 to-danger-100/30",body:"py-0",footer:"border-t border-white/10 bg-white/5"},children:e.jsxs(Ke,{children:[e.jsx(ft,{className:"flex items-center gap-4 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 text-danger",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-danger/20 to-danger/10 flex items-center justify-center border border-danger/30",children:e.jsx(ye,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Delete Employee"})]})}),e.jsxs(bt,{children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 backdrop-blur-2xl border border-white/10 mb-6 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsx(xe,{src:c.profile_image_url||c.profile_image,name:c.name,size:"lg",className:"ring-2 ring-white/20 shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:c.name}),e.jsx("p",{className:"text-sm text-default-500",children:c.email}),c.employee_id&&e.jsxs("span",{className:"inline-block mt-1 px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/10",children:["ID: ",c.employee_id]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Department"})]}),e.jsx("p",{className:"text-sm font-medium",children:c.department_name||"Not assigned"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Designation"})]}),e.jsx("p",{className:"text-sm font-medium",children:c.designation_name||"Not assigned"})]})]})]}),e.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-danger-50/50 backdrop-blur-2xl border border-danger/30",children:e.jsxs("div",{className:"flex items-center gap-3 text-danger",children:[e.jsx(ye,{className:"w-5 h-5"}),e.jsx("p",{className:"text-sm font-medium",children:"This action will permanently delete the employee record and cannot be undone."})]})}),k&&e.jsxs("div",{className:"p-6 rounded-2xl bg-warning-50/50 backdrop-blur-2xl border border-warning/30 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-warning/20 flex items-center justify-center",children:e.jsx(ye,{className:"w-4 h-4 text-warning"})}),e.jsx("h4",{className:"text-sm font-semibold text-warning",children:"Employee Has Active Data"})]}),e.jsx("p",{className:"text-sm text-default-500 mb-4",children:"This employee has the following active records that will also be affected:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.active_projects_count>0&&e.jsxs(H,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[c.active_projects_count," Active Projects"]}),c.pending_leaves_count>0&&e.jsxs(H,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[c.pending_leaves_count," Pending Leaves"]}),c.active_trainings_count>0&&e.jsxs(H,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[c.active_trainings_count," Active Trainings"]})]})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10 mb-4",children:[e.jsxs("p",{className:"text-sm mb-2 font-medium",children:["Are you sure you want to delete ",e.jsx("span",{className:"text-danger font-semibold",children:c.name}),"?"]}),e.jsx("p",{className:"text-xs text-default-500",children:"Type the employee's name below to confirm this permanent deletion:"})]})]}),e.jsxs(jt,{className:"flex justify-between px-6 py-6 bg-white/5",children:[e.jsx(w,{variant:"light",onPress:F,isDisabled:b,className:"hover:bg-white/10",children:"Cancel"}),e.jsx(w,{color:"danger",variant:"solid",onPress:C,isLoading:b,startContent:!b&&e.jsx(ze,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-danger to-danger-600 hover:from-danger-600 hover:to-danger-700 shadow-lg",children:b?"Deleting...":"Delete Employee"})]})]})})},He=window.axios,It=({isOpen:$,onClose:F,employee:c,onImageUpdate:C})=>{const b=n.useRef(null),[k,v]=n.useState(null),[O,x]=n.useState(null),[P,R]=n.useState(!1),[J,y]=n.useState(0),[N,j]=n.useState(""),Q=2*1024*1024,G=["image/jpeg","image/jpg","image/png","image/webp"],I=100,B=2e3,L=c?.profile_image_url||null,V=L&&L!==null,q=E=>{const i=E.target.files[0];if(!i)return;if(j(""),!G.includes(i.type)){j("Invalid file type. Please select a JPEG, PNG, or WebP image.");return}if(i.size>Q){j(`File too large. Maximum size is ${Q/1024/1024}MB.`);return}const a=URL.createObjectURL(i),l=new Image;l.onload=()=>{if(l.width<I||l.height<I){j(`Image dimensions too small. Minimum size is ${I}x${I} pixels.`),URL.revokeObjectURL(a);return}if(l.width>B||l.height>B){j(`Image dimensions too large. Maximum size is ${B}x${B} pixels.`),URL.revokeObjectURL(a);return}v(i),x(a)},l.onerror=()=>{j("Invalid image file."),URL.revokeObjectURL(a)},l.src=a},h=async()=>{if(!k||!c){console.error("[ProfileUpload] Missing file or employee:",{selectedFile:k,employee:c});return}R(!0),y(0),j("");const E=new FormData;E.append("profile_image",k),E.append("user_id",c.id);const i=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");try{const a=await He.post(route("profile.image.upload"),E,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":i},onUploadProgress:l=>{const u=Math.round(l.loaded*100/l.total);y(u)}});if(a.data.success){if(W.success(a.data.message||"Profile picture updated successfully!"),C){const l=a.data.profile_image_url;C(c.id,l)}_()}else throw new Error(a.data.message||"Upload failed")}catch(a){console.error("[ProfileUpload] Error details:",{message:a.message,status:a.response?.status,statusText:a.response?.statusText,responseData:a.response?.data,errors:a.response?.data?.errors,headers:a.response?.headers});let l="Failed to upload profile picture",u="";if(a.response?.status===419)l="Session expired (CSRF token mismatch). Please refresh the page.",u="CSRF Token Error";else if(a.response?.status===413)l="File too large. Please choose a smaller image.",u="File Size Error";else if(a.response?.status===422){const g=a.response.data?.errors;g?l=Object.values(g).flat().join(", ")||a.response.data.message||"Validation failed":l=a.response.data.message||"Validation failed",u="Validation Error"}else a.response?.status===403?(l=a.response.data?.message||"Unauthorized to upload profile image",u="Authorization Error"):a.response?.status===500?(l=a.response.data?.message||"Server error during upload",u="Server Error: "+(a.response.data?.exception||"Unknown")):a.response?.data?.message?(l=a.response.data.message,u=`HTTP ${a.response.status}`):a.message&&(l=a.message,u="Network/Client Error");console.error(`[ProfileUpload] ${u}:`,l),j(`${l}${u?` (${u})`:""}`),W.error(l)}finally{R(!1),y(0)}},D=async()=>{if(!c)return;R(!0),j("");const E=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");try{const i=await He.delete(route("profile.image.remove"),{data:{user_id:c.id},headers:{"X-CSRF-TOKEN":E}});if(i.data.success){if(W.success(i.data.message||"Profile picture removed successfully!"),C){const a=i.data.profile_image_url;C(c.id,a)}_()}else throw new Error(i.data.message||"Remove failed")}catch(i){console.error("Remove error:",i);const a=i.response?.data?.message||i.message||"Failed to remove profile picture";j(a),W.error(a)}finally{R(!1)}},_=()=>{P||(v(null),x(null),j(""),y(0),O&&URL.revokeObjectURL(O),F())};return c?e.jsx(qe,{isOpen:$,onClose:_,size:"lg",classNames:{base:"border border-divider bg-content1 shadow-lg",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsx(Ke,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Profile Picture"}),e.jsx("p",{className:"text-sm text-gray-500",children:c?.name||"Employee"})]})]}),e.jsx(w,{isIconOnly:!0,variant:"light",onPress:_,className:"text-gray-400 hover:text-gray-600",children:e.jsx(We,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(xe,{src:O||L||void 0,name:c?.name||"Employee",size:"lg",className:"w-24 h-24",showBorder:!0})}),N&&e.jsx(H,{color:"danger",variant:"flat",startContent:e.jsx(ye,{className:"w-4 h-4"}),className:"mb-4 w-full",children:N}),P&&e.jsx("div",{className:"mb-4",children:e.jsx(vt,{value:J,color:"primary",size:"sm",label:"Uploading...",showValueLabel:!0,className:"w-full"})}),e.jsx(oe,{className:"mb-4",children:e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("input",{ref:b,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:q,className:"hidden",disabled:P}),e.jsx(w,{onPress:()=>b.current?.click(),startContent:e.jsx(Ve,{className:"w-5 h-5"}),variant:"flat",color:"primary",disabled:P,className:"mb-3",children:"Choose New Picture"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"Supported formats: JPEG, PNG, WebP"}),e.jsx("p",{children:"Maximum size: 2MB"}),e.jsx("p",{children:"Minimum dimensions: 100x100px"}),e.jsx("p",{children:"Maximum dimensions: 2000x2000px"})]})]}),k&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(k.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>{v(null),x(null),j("")},disabled:P,children:e.jsx(We,{className:"w-4 h-4"})})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[V&&e.jsx(w,{onPress:D,startContent:e.jsx(ze,{className:"w-4 h-4"}),color:"danger",variant:"flat",disabled:P,children:"Remove Picture"}),e.jsx(w,{onPress:_,variant:"flat",disabled:P,children:"Cancel"}),e.jsx(w,{onPress:h,color:"primary",disabled:!k||P,isLoading:P,children:P?"Uploading...":"Update Picture"})]})]})})}):null},Mt=({allUsers:$,allManagers:F=[],departments:c,designations:C,attendanceTypes:b,setUsers:k,isMobile:v,isTablet:O,pagination:x,onPageChange:P,onRowsPerPageChange:R,totalUsers:J=0,loading:y=!1,updateEmployeeOptimized:N,deleteEmployeeOptimized:j})=>{const[Q,G]=n.useState(!1),[I,B]=n.useState(null),[L,V]=n.useState({}),[q,h]=n.useState(!1),[D,_]=n.useState(null),[E,i]=n.useState(!1),[a,l]=n.useState({isOpen:!1,employee:null}),u=()=>{if(typeof window>"u")return"lg";const s=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",m=parseInt(s);return m===0?"none":m<=4?"sm":m<=8?"md":m<=16?"lg":"full"},g=t=>t?t.replace(/_\d+$/,""):"",f=t=>{const s=t?.config;if(!s)return!1;switch(g(t.slug)){case"geo_polygon":return s.polygon&&s.polygon.length>=3||s.polygons&&s.polygons.some(d=>d.points?.length>=3);case"wifi_ip":return s.allowed_ips&&s.allowed_ips.length>0||s.allowed_ranges&&s.allowed_ranges.length>0||s.ip_locations&&s.ip_locations.some(d=>d.allowed_ips?.length>0||d.allowed_ranges?.length>0);case"route_waypoint":return s.waypoints&&s.waypoints.length>=2||s.routes&&s.routes.some(d=>d.waypoints?.length>=2);case"qr_code":return s.code||s.qr_codes&&s.qr_codes.length>0;default:return!1}},se={geo_polygon:{title:"Geo Polygon",icon:yt,color:"warning"},wifi_ip:{title:"WiFi/IP",icon:rt,color:"secondary"},route_waypoint:{title:"Route Waypoint",icon:it,color:"primary"},qr_code:{title:"QR Code",icon:nt,color:"success"}},Z=n.useMemo(()=>{if(!b)return[];const t={};return b.forEach(s=>{if(!s.is_active||!f(s))return;const m=g(s.slug);se[m]&&(t[m]||(t[m]={...se[m],slug:m,types:[]}),t[m].types.push(s))}),Object.values(t).filter(s=>s.types.length>0)},[b]),ee=async(t,s)=>{const m=new Promise(async(d,M)=>{try{if((await X.post(route("user.updateDepartment",{id:t}),{department:s})).status===200){const S=c.find(T=>T.id===parseInt(s))||null;N?.(t,{department_id:s,department_name:S?.name||null,designation_id:null,designation_name:null}),d("Department updated successfully")}}catch(U){console.error("Error updating department:",U),M("Failed to update department")}});W.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(re,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating department..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},_e=async(t,s)=>{const m=new Promise(async(d,M)=>{try{if((await X.post(route("user.updateDesignation",{id:t}),{designation_id:s})).status===200){const S=C.find(T=>T.id===parseInt(s))||null;N?.(t,{designation_id:s,designation_name:S?.title||null}),d("Designation updated successfully")}}catch(U){console.error("Error updating designation:",U),M("Failed to update designation")}});W.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(re,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating designation..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},ke=async(t,s)=>{const m=new Promise(async(d,M)=>{try{if((await X.post(route("user.updateAttendanceType",{id:t}),{attendance_type_id:s})).status===200){const S=b.find(T=>T.id===parseInt(s))||null;N&&N(t,{attendance_type_id:s,attendance_type_name:S?.name||null}),d("Attendance type updated successfully")}}catch(U){console.error("Error updating attendance type:",U),M("Failed to update attendance type")}});W.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(re,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating attendance type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},Pe=t=>{_(t),h(!0)},Fe=async()=>{if(!D)return;i(!0);const t=new Promise(async(s,m)=>{try{(await X.delete(route("user.delete",{id:D.id}))).status===200&&(j&&j(D.id),h(!1),_(null),s("Employee deleted successfully"))}catch(d){console.error("Error deleting employee:",d);let M="Failed to delete employee";d.response?.status===403?M="You do not have permission to delete this employee":d.response?.status===404?M="Employee not found or already deleted":d.response?.data?.error&&(M=d.response.data.error),m(M)}finally{i(!1)}});W.promise(t,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(re,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting employee..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:s}){return e.jsx("div",{children:s})},icon:"âœ…",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:s}){return e.jsx("div",{children:s})},icon:"âŒ",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},he=()=>{h(!1),_(null)},Se=t=>{l({isOpen:!0,employee:t})},Ce=()=>{l({isOpen:!1,employee:null})},Re=(t,s)=>{N&&N(t,{profile_image_url:s})},ae=n.useRef({}),De=n.useCallback((t,s)=>{ae.current[t]&&clearTimeout(ae.current[t]),ae.current[t]=setTimeout(async()=>{const m=X.post(route("users.updateReportTo",{id:t}),{report_to:s||null});W.promise(m,{loading:"Updating manager assignment...",success:d=>(N&&N(t,{report_to:s||null,reports_to:d.data.user?.reports_to||null}),d.data?.message||"Manager assigned successfully!"),error:d=>d.response?.data?.error||"Failed to update manager"})},500)},[N]),Ee=n.useCallback((t,s=null)=>{if(!F||F.length===0)return[];const m=t?.department_id,d=t?.designation_hierarchy_level??999,U=!F.filter(S=>String(S.department_id)===String(m)&&S.id!==t.id).some(S=>(S.designation_hierarchy_level??999)<d);return F.filter(S=>{if(S.id===t.id)return!1;if(s&&S.id===s)return!0;const T=S.department_id,Te=S.designation_hierarchy_level??999,z=String(T)===String(m);return Te>=d?!1:!!(z||U)})},[F]),r=n.useMemo(()=>{const t=[{name:"#",uid:"sl",width:60},{name:"EMPLOYEE",uid:"employee",width:"auto",minWidth:200},{name:"DEPARTMENT",uid:"department",width:180},{name:"DESIGNATION",uid:"designation",width:180},{name:"REPORT TO",uid:"report_to",width:200},{name:"ACTIONS",uid:"actions",width:80}];if(v||t.splice(2,0,{name:"CONTACT",uid:"contact",width:220}),!v&&!O&&t.splice(t.length-2,0,{name:"ATTENDANCE TYPE",uid:"attendance_type",width:180}),v){const s=t.findIndex(m=>m.uid==="report_to");s>-1&&t.splice(s,1)}return t},[v,O]),o=(t,s,m)=>{const d=t[s],S=(x?.currentPage&&x?.perPage?Number((x.currentPage-1)*x.perPage):0)+(typeof m=="number"?m:0)+1;switch(s){case"sl":return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:e.jsx("span",{className:"text-sm font-semibold text-foreground",children:S})})});case"employee":return e.jsxs("div",{className:"min-w-max",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{src:t?.profile_image_url||t?.profile_image,name:t?.name,size:v?"sm":"md",onClick:()=>Se(t)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-semibold text-foreground text-left whitespace-nowrap",children:t?.name}),!v&&e.jsxs("p",{className:"text-default-500 text-left text-xs whitespace-nowrap",children:["ID: ",t?.employee_id||"N/A"]})]})]}),v&&e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-default-500 ml-10 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(dt,{className:"w-3 h-3"}),t?.employee_id||"N/A"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[150px]",children:t?.email})]}),t?.phone&&e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(Me,{className:"w-3 h-3"}),t?.phone]})]})]});case"contact":return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ie,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:t?.email})]}),t?.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:t?.phone})]})]});case"department":return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(be,{children:[e.jsx(je,{children:e.jsx(w,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e.jsx(ce,{className:"w-4 h-4"}),endContent:e.jsx(fe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:t.department_name||"Select Department"})})}),e.jsx(ve,{"aria-label":"Department options",children:c?.map(p=>e.jsx(ne,{onPress:()=>ee(t.id,p.id),children:p.name},p.id.toString()))})]})});case"designation":const T=t.department_id,Te=C?.filter(p=>p.department_id===parseInt(T))||[];return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(be,{isDisabled:!T,children:[e.jsx(je,{children:e.jsx(w,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[150px] transition-all duration-300 ${T?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,isDisabled:!T,startContent:e.jsx(me,{className:"w-4 h-4"}),endContent:T&&e.jsx(fe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:T?t.designation_name||"Select Designation":"Select Department First"})})}),e.jsx(ve,{"aria-label":"Designation options",children:Te.map(p=>e.jsx(ne,{onPress:()=>_e(t.id,p.id),children:p.title},p.id.toString()))})]})});case"report_to":const z=t.reports_to,Le=!!z,ue=t.report_to,et=Ee(t,ue),te=[];et.sort((p,K)=>(p.designation_hierarchy_level??999)-(K.designation_hierarchy_level??999)).forEach(p=>{te.push({id:p.id,name:p.name,profile_image_url:p.profile_image_url,designation_name:p.designation_name||"",description:p.designation_name||"",isCurrent:ue&&p.id===ue})}),Le&&!te.some(p=>p.id===z.id)&&te.unshift({id:z.id,name:z.name,profile_image_url:z.profile_image_url,designation_name:z.designation_name||"",description:z.designation_name||"Current manager",isCurrent:!0});const $e=ue,tt=$e&&te.some(p=>p.id===$e);return e.jsx("div",{className:"flex flex-col gap-2 min-w-[180px]",children:e.jsx(Ne,{size:"sm",variant:"bordered",placeholder:"Select manager",isDisabled:te.length===0,selectedKeys:tt?[String($e)]:[],onSelectionChange:p=>{const K=Array.from(p)[0],Y=K?parseInt(K,10):null;Y!==t.report_to&&De(t.id,Y)},classNames:{trigger:"min-h-unit-10 h-unit-10 backdrop-blur-md border-white/20 bg-white/10 hover:bg-white/15",value:"text-small"},renderValue:p=>p.length===0||!Le?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm",children:"Select manager"})}):p.map(K=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{src:z.profile_image_url,size:"sm",className:"w-6 h-6 flex-shrink-0",name:z.name,showBorder:!0}),e.jsx("span",{className:"text-sm font-medium truncate",children:z.name})]},K.key)),children:te.length===0?e.jsx(pe,{isDisabled:!0,textValue:"No eligible managers",children:e.jsx("span",{className:"text-default-400",children:"No eligible managers in department"})},"no-managers"):te.map(p=>e.jsx(pe,{textValue:p.name,children:e.jsx(Rt,{name:p.name,description:p.description,avatarProps:{src:p.profile_image_url,size:"sm",name:p.name,...ot({name:p.name,size:"sm"})}})},String(p.id)))})});case"attendance_type":const ge=Z.length>0;return e.jsx("div",{className:"flex flex-col gap-2 min-w-[180px]",children:e.jsxs(be,{isDisabled:!ge,children:[e.jsx(je,{children:e.jsx(w,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[180px] transition-all duration-300 ${ge?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,startContent:e.jsx(we,{className:"w-4 h-4"}),endContent:ge&&e.jsx(fe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{className:"truncate",children:ge?t.attendance_type_name||"Select Type":"No Types Configured"})})}),e.jsx(ve,{"aria-label":"Attendance Type options",className:"min-w-[200px]",children:Z.map((p,K)=>(p.icon,e.jsx(lt,{title:p.title,showDivider:K<Z.length-1,classNames:{heading:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-default-500 px-2 py-1"},children:p.types.map(Y=>e.jsx(ne,{onPress:()=>ke(t.id,Y.id),startContent:e.jsx("span",{className:"text-base",children:Y.icon||"ðŸ“"}),description:Y.description?.substring(0,30)||null,children:Y.name},Y.id.toString()))},p.slug)))})]})});case"actions":return e.jsx("div",{className:"relative flex justify-center items-center",children:e.jsxs(be,{children:[e.jsx(je,{children:e.jsx(w,{isIconOnly:!0,variant:"light",className:"text-default-400 hover:text-foreground transition-all duration-300",children:e.jsx(fe,{className:"w-5 h-5"})})}),e.jsxs(ve,{"aria-label":"Employee Actions",children:[e.jsx(ne,{startContent:e.jsx(Ge,{className:"w-4 h-4"}),href:route("profile",{user:t.id}),as:st,children:"Edit Profile"},"edit"),e.jsx(ne,{className:"text-danger",color:"danger",startContent:e.jsx(ze,{className:"w-4 h-4"}),onPress:()=>Pe(t),children:"Delete"},"delete")]})]})});default:return d}},A=()=>!x||y?null:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(x.currentPage-1)*x.perPage+1," to ",Math.min(x.currentPage*x.perPage,x.total)," of ",x.total," employees"]}),e.jsx(Je,{total:Math.ceil(x.total/x.perPage),initialPage:x.currentPage,page:x.currentPage,onChange:P,size:v?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]});return e.jsxs("div",{className:"w-full overflow-hidden flex flex-col relative",style:{maxHeight:"calc(100vh - 200px)",background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:u()},children:[y&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",backdropFilter:"blur(8px)",borderRadius:u()},children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:u(),backdropFilter:"blur(16px)"},children:[e.jsx(re,{size:"lg",color:"primary"}),e.jsx("span",{className:"text-sm",style:{color:"var(--theme-foreground)"},children:"Loading employees..."})]})}),e.jsx("div",{className:"overflow-auto grow",children:e.jsxs(wt,{"aria-label":"Employees table",removeWrapper:!0,classNames:{base:"bg-transparent min-w-[800px]",th:"backdrop-blur-md font-medium text-xs sticky top-0 z-10 whitespace-nowrap",td:"py-3 whitespace-nowrap",table:"border-collapse table-auto",thead:"",tr:"hover:opacity-80 transition-all duration-200"},style:{"--table-header-bg":"color-mix(in srgb, var(--theme-content2) 60%, transparent)","--table-row-hover":"color-mix(in srgb, var(--theme-content2) 30%, transparent)","--table-border":"color-mix(in srgb, var(--theme-content3) 30%, transparent)"},isHeaderSticky:!0,isCompact:v,children:[e.jsx(Pt,{columns:r,children:t=>e.jsx(Ft,{align:t.uid==="actions"||t.uid==="sl"?"center":"start",width:t.width,minWidth:t.minWidth,className:`backdrop-blur-md ${t.uid==="employee"?"whitespace-nowrap":""}`,style:{backgroundColor:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)"},children:t.name},t.uid)}),e.jsx(Nt,{items:$||[],emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Xe,{className:"w-12 h-12 mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),e.jsx("h6",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"No employees found"}),e.jsx("p",{className:"text-sm opacity-70",style:{color:"var(--theme-foreground)"},children:"Try adjusting your search or filter criteria"})]}),loadingContent:e.jsx(re,{}),isLoading:y,children:(t,s)=>{const m=$?$.findIndex(d=>d.id===t.id):s;return e.jsx(_t,{className:"transition-all duration-200",style:{color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)"},children:d=>e.jsx(kt,{className:"transition-all duration-300",children:e.jsx("div",{className:"transition-all duration-200",children:o(t,d,m)})})},t.id)}})]})}),A(),e.jsx(At,{open:q,onClose:he,employee:D,onConfirm:Fe,loading:E}),e.jsx(It,{isOpen:a.isOpen,onClose:Ce,employee:a.employee,onImageUpdate:Re})]})},zt=({departments:$=[],designations:F=[],managers:c=[],onOnboardingComplete:C})=>{const k=(()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",l=parseInt(a);return l===0?"none":l<=4?"sm":l<=8?"md":l<=12?"lg":"xl"})(),[v,O]=n.useState(!0),[x,P]=n.useState([]),[R,J]=n.useState(!0),[y,N]=n.useState(""),[j,Q]=n.useState(""),[G,I]=n.useState(null),[B,L]=n.useState(!1),[V,q]=n.useState({current_page:1,per_page:20,total:0});n.useEffect(()=>{const i=setTimeout(()=>{Q(y)},500);return()=>clearTimeout(i)},[y]);const h=n.useCallback(async()=>{J(!0);try{const i=await X.get(route("hrm.employees.pending-onboarding"),{params:{search:j,per_page:V.per_page}});i.data&&(P(i.data.data||[]),i.data.meta&&q(a=>({...a,current_page:i.data.meta.current_page||1,total:i.data.meta.total||0})))}catch(i){console.error("Error fetching pending users:",i),P([])}finally{J(!1)}},[j,V.per_page]);n.useEffect(()=>{h()},[h]);const D=i=>{I(i),L(!0)},_=i=>{P(a=>a.filter(l=>l.id!==G?.id)),q(a=>({...a,total:Math.max(0,a.total-1)})),C&&C(i),L(!1),I(null)},E=i=>{if(!i)return"N/A";const a=new Date(i),u=new Date-a,g=Math.floor(u/(1e3*60*60*24));return g===0?"Today":g===1?"Yesterday":g<7?`${g} days ago`:g<30?`${Math.floor(g/7)} weeks ago`:g<365?`${Math.floor(g/30)} months ago`:a.toLocaleDateString()};return!R&&x.length===0&&!y?null:e.jsxs(e.Fragment,{children:[e.jsx(oe,{radius:k,className:"mb-6",classNames:{base:"bg-content1 border border-divider"},children:e.jsxs(de,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-default-50 transition-colors",onClick:()=>O(!v),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-warning-100 dark:bg-warning-900/20",children:e.jsx(le,{className:"w-5 h-5 text-warning-600 dark:text-warning-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Pending Onboarding"}),e.jsx("p",{className:"text-sm text-default-500",children:R?"Loading...":`${V.total} user${V.total!==1?"s":""} awaiting employee onboarding`})]})]}),e.jsx(w,{isIconOnly:!0,variant:"light",size:"sm",radius:k,children:v?e.jsx(ct,{className:"w-5 h-5"}):e.jsx(mt,{className:"w-5 h-5"})})]}),v&&e.jsxs("div",{className:"border-t border-divider",children:[e.jsx("div",{className:"p-4",children:e.jsx(Ze,{placeholder:"Search by name or email...",value:y,onValueChange:N,startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),radius:k,classNames:{inputWrapper:"bg-default-100"}})}),e.jsxs("div",{className:"p-4 pt-0",children:[R?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((i,a)=>e.jsxs("div",{className:"p-4 rounded-lg border border-divider",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ie,{className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ie,{className:"h-4 w-3/4 rounded"}),e.jsx(ie,{className:"h-3 w-1/2 rounded"}),e.jsx(ie,{className:"h-6 w-20 rounded-full"})]})]}),e.jsx(ie,{className:"h-9 w-full rounded-lg mt-3"})]},a))}):x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-default-100 mb-4",children:e.jsx(Et,{className:"w-8 h-8 text-default-400"})}),e.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:y?"No users found":"All caught up!"}),e.jsx("p",{className:"text-sm text-default-500 max-w-sm mx-auto",children:y?"Try adjusting your search criteria":"There are no users pending employee onboarding at the moment."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(i=>e.jsxs("div",{className:"p-4 rounded-lg border border-divider hover:border-primary-300 hover:bg-default-50 dark:hover:bg-default-100/50 transition-all",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(Tt,{src:i.profile_picture,name:i.name,size:"md",radius:k,classNames:{base:"bg-gradient-to-br from-primary-400 to-primary-600 flex-shrink-0",icon:"text-white"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:i.name}),e.jsx("p",{className:"text-xs text-default-500 truncate",children:i.email}),i.roles&&i.roles.length>0&&e.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap",children:[i.roles.slice(0,2).map((a,l)=>e.jsx(H,{size:"sm",variant:"flat",color:"default",classNames:{base:"h-5 text-xs"},children:a.name||a},l)),i.roles.length>2&&e.jsxs(H,{size:"sm",variant:"flat",color:"default",classNames:{base:"h-5 text-xs"},children:["+",i.roles.length-2]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[e.jsx("span",{className:"text-xs text-default-400",children:"Joined:"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:E(i.created_at)})]}),e.jsx(w,{color:"primary",size:"sm",radius:k,startContent:e.jsx(Ae,{className:"w-4 h-4"}),onPress:()=>D(i),className:"w-full",children:"Onboard Now"})]},i.id))}),!R&&x.length>0&&V.total>x.length&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-xs text-default-500",children:["Showing ",x.length," of ",V.total," pending users"]})})]})]})]})}),e.jsx(Dt,{open:B,onClose:()=>{L(!1),I(null)},user:G,departments:$,designations:F,managers:c,onSuccess:_})]})},Lt=({title:$,departments:F,designations:c,attendanceTypes:C})=>{const[b,k]=n.useState(!1),[v,O]=n.useState(!1),[x,P]=n.useState(!1),[R,J]=n.useState(!1);n.useEffect(()=>{const r=()=>{k(window.innerWidth<640),O(window.innerWidth<768),P(window.innerWidth>=1025),J(window.innerWidth>=641&&window.innerWidth<=1024)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const[y,N]=n.useState([]),[j,Q]=n.useState([]),[G,I]=n.useState(!0),[B,L]=n.useState(0),[V,q]=n.useState(1),[h,D]=n.useState({search:"",department:"all",designation:"all",attendanceType:"all"}),[_,E]=n.useState("table"),[i,a]=n.useState(!1),[l,u]=n.useState({currentPage:1,perPage:10,total:0}),g=()=>{if(typeof window>"u")return"lg";const o=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",A=parseInt(o);return A===0?"none":A<=4?"sm":A<=8?"md":A<=16?"lg":"full"},[f,se]=n.useState({overview:{total_employees:0,active_employees:0,inactive_employees:0,total_departments:0,total_designations:0,total_attendance_types:0},distribution:{by_department:[],by_designation:[],by_attendance_type:[]},hiring_trends:{recent_hires:{last_30_days:0,last_90_days:0,last_year:0},monthly_growth_rate:0,current_month_hires:0},workforce_health:{status_ratio:{active_percentage:0,inactive_percentage:0,retention_rate:0},retention_rate:0,turnover_rate:0},quick_metrics:{headcount:0,active_ratio:0,department_diversity:0,role_diversity:0,recent_activity:0}}),Z=n.useCallback(async()=>{I(!0);try{const{data:r}=await X.get(route("employees.paginate"),{params:{page:l.currentPage,perPage:l.perPage,search:h.search,department:h.department,designation:h.designation,attendanceType:h.attendanceType}});N(r.employees.data),L(r.employees.total),q(r.employees.last_page),u(o=>({...o,total:r.employees.total})),r.allManagers&&Q(r.allManagers),r.stats&&se(r.stats)}catch(r){console.error("Error fetching employees:",r),W.error("Failed to load employees. Please try again.")}finally{I(!1)}},[l.currentPage,l.perPage,h]),ee=n.useCallback(async()=>{try{const{data:r}=await X.get(route("employees.stats"));r.stats&&se(r.stats)}catch(r){console.error("Error fetching employee stats:",r)}},[]);n.useEffect(()=>{Z(),ee()},[Z,ee]);const _e=n.useCallback(r=>{D(o=>({...o,search:r})),u(o=>({...o,currentPage:1}))},[]),ke=n.useCallback(r=>{D(o=>({...o,department:r,designation:r!=="all"?"all":o.designation})),u(o=>({...o,currentPage:1}))},[]),Pe=n.useCallback(r=>{D(o=>({...o,designation:r})),u(o=>({...o,currentPage:1}))},[]),Fe=n.useCallback(r=>{D(o=>({...o,attendanceType:r})),u(o=>({...o,currentPage:1}))},[]),he=n.useCallback(r=>{u(o=>({...o,currentPage:r}))},[]),Se=n.useCallback(r=>{u(o=>({...o,perPage:r,currentPage:1}))},[]),Ce=n.useCallback((r,o)=>{N(A=>A.map(t=>t.id===r?{...t,...o}:t))},[]),Re=n.useCallback(r=>{N(o=>o.filter(A=>A.id!==r)),L(o=>o-1),u(o=>({...o,total:o.total-1})),ee()},[ee]),ae=n.useMemo(()=>h.department==="all"?c:c.filter(r=>r.department_id===parseInt(h.department)),[c,h.department]),De=n.useMemo(()=>[{title:"Total Employees",value:f.overview?.total_employees||0,icon:e.jsx(le,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Total Headcount"},{title:"Active Employees",value:f.overview?.active_employees||0,icon:e.jsx(Ye,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${f.workforce_health?.status_ratio?.active_percentage||0}% Active`},{title:"Departments",value:f.overview?.total_departments||0,icon:e.jsx(ce,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Department Diversity"},{title:"Designations",value:f.overview?.total_designations||0,icon:e.jsx(me,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Role Diversity"},{title:"Retention Rate",value:`${f.workforce_health?.retention_rate||0}%`,icon:e.jsx(pt,{}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Employee Retention"},{title:"Recent Hires",value:f.hiring_trends?.recent_hires?.last_30_days||0,icon:e.jsx(Ae,{}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Last 30 Days"},{title:"Growth Rate",value:`${f.hiring_trends?.monthly_growth_rate||0}%`,icon:e.jsx(St,{}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Monthly Growth"},{title:"Attendance Types",value:f.overview?.total_attendance_types||0,icon:e.jsx(we,{}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Available Types"}],[f]),Ee=({user:r,index:o})=>{const A=F?.find(m=>m.id===r.department_id),t=c?.find(m=>m.id===r.designation_id),s=C?.find(m=>m.id===r.attendance_type_id);return e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 cursor-pointer h-full",onPress:()=>Oe.visit(route("profile",{user:r.id})),children:e.jsxs(de,{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 pb-3 border-b border-white/10",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(xe,{src:r?.profile_image_url||r?.profile_image,name:r?.name,size:"md",fallback:e.jsx(Xe,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-semibold text-foreground text-left text-sm",children:r?.name}),e.jsxs("span",{className:"text-default-500 text-left text-xs",children:["ID: ",r?.employee_id||"N/A"]})]}),e.jsx("div",{className:"flex-1 min-w-0 flex justify-end",children:e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",onPress:m=>{m.stopPropagation(),Oe.visit(route("profile",{user:r.id}))},children:e.jsx(Ge,{className:"w-4 h-4"})})})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ie,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs truncate",children:r?.email})]}),r?.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs",children:r?.phone})]})]})}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex flex-wrap gap-2",children:[A&&e.jsx(H,{size:"sm",variant:"flat",color:"primary",className:"text-xs",startContent:e.jsx(ce,{className:"w-3 h-3"}),children:A.name}),t&&e.jsx(H,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",startContent:e.jsx(me,{className:"w-3 h-3"}),children:t.title}),s&&e.jsx(H,{size:"sm",variant:"bordered",className:"text-xs",startContent:e.jsx(we,{className:"w-3 h-3"}),children:s.name})]})]})})};return e.jsxs(e.Fragment,{children:[e.jsx(at,{title:$||"Employee Directory"}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Employee Directory Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(Ue.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(oe,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Be,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${x?"p-6":R?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                              ${x?"p-3":R?"p-2.5":"p-2"} 
                              rounded-xl flex items-center justify-center
                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(le,{className:`
                                ${x?"w-8 h-8":R?"w-6 h-6":"w-5 h-5"}
                              `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                ${x?"text-2xl":R?"text-xl":"text-lg"}
                                font-bold text-foreground
                                ${x?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"}),e.jsx("p",{className:`
                                ${x?"text-sm":"text-xs"} 
                                text-default-500
                                ${x?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage employee information and organizational structure"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(w,{as:Link,href:route("users"),className:"text-white font-medium",style:{background:"linear-gradient(135deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))",borderRadius:g()},startContent:e.jsx(Ae,{className:"w-4 h-4"}),children:b?"Go to Users":"Add from User List"})})]})})})}),e.jsxs(de,{className:"p-6",children:[e.jsx(gt,{stats:De,className:"mb-6"}),e.jsx(zt,{departments:F||[],designations:c||[],managers:j||[],onOnboardingComplete:r=>{Z(),ee()}}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Department Distribution"}),e.jsx("div",{className:"space-y-3",children:f.distribution?.by_department?.slice(0,5).map((r,o)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 rounded-full overflow-hidden",style:{background:"color-mix(in srgb, var(--theme-content3) 40%, transparent)"},children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${r.percentage}%`,background:"linear-gradient(90deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))"}})}),e.jsx("span",{className:"text-xs w-8 opacity-70",style:{color:"var(--theme-foreground)"},children:r.count})]})]},o))})]}),e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Hiring Trends"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 30 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:f.hiring_trends?.recent_hires?.last_30_days||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 90 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:f.hiring_trends?.recent_hires?.last_90_days||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"This Year"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:f.hiring_trends?.recent_hires?.last_year||0})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Monthly Growth"}),e.jsxs("span",{className:`text-sm font-medium ${(f.hiring_trends?.monthly_growth_rate||0)>=0?"text-green-400":"text-red-400"}`,children:[f.hiring_trends?.monthly_growth_rate||0,"%"]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workforce Health"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Retention Rate"}),e.jsxs("span",{className:"text-sm font-medium text-green-400",children:[f.workforce_health?.retention_rate||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Turnover Rate"}),e.jsxs("span",{className:"text-sm font-medium text-orange-400",children:[f.workforce_health?.turnover_rate||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Active Employees"}),e.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[f.workforce_health?.status_ratio?.active_percentage||0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Attendance Types"}),e.jsx("div",{className:"space-y-3",children:f.distribution?.by_attendance_type?.map((r,o)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-linear-to-r from-green-500 to-emerald-500 rounded-full",style:{width:`${r.percentage}%`}})}),e.jsx("span",{className:"text-xs text-default-500 w-8",children:r.count})]})]},o))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ze,{label:"Search Employees",placeholder:"Search by name, email, or employee ID...",value:h.search,onChange:r=>_e(r.target.value),startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:"sm",radius:g(),classNames:{input:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},"aria-label":"Search employees"})}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsxs($t,{variant:"bordered",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g()},children:[e.jsxs(w,{isIconOnly:b,color:_==="table"?"primary":"default",onPress:()=>E("table"),style:{background:_==="table"?"var(--theme-primary)":"transparent",color:_==="table"?"white":"var(--theme-foreground)"},children:[e.jsx(xt,{className:"w-4 h-4"}),!b&&e.jsx("span",{className:"ml-1",children:"Table"})]}),e.jsxs(w,{isIconOnly:b,color:_==="grid"?"primary":"default",onPress:()=>E("grid"),style:{background:_==="grid"?"var(--theme-primary)":"transparent",color:_==="grid"?"white":"var(--theme-foreground)"},children:[e.jsx(ht,{className:"w-4 h-4"}),!b&&e.jsx("span",{className:"ml-1",children:"Grid"})]})]}),e.jsx(w,{isIconOnly:!0,variant:"bordered",onPress:()=>a(!i),style:{background:i?"color-mix(in srgb, var(--theme-primary) 20%, transparent)":"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",color:i?"var(--theme-primary)":"var(--theme-foreground)",borderRadius:g()},children:e.jsx(Ct,{className:"w-4 h-4"})})]})]}),i&&e.jsx(Ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4",children:e.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g(),backdropFilter:"blur(16px)"},children:[e.jsx(Ne,{label:"Department",placeholder:"All Departments",selectedKeys:h.department!=="all"?[h.department]:[],onSelectionChange:r=>{const o=Array.from(r)[0];ke(o||"all")},variant:"bordered",size:"sm",radius:g(),startContent:e.jsx(ce,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:F?.map(r=>e.jsx(pe,{textValue:r.name,children:r.name},String(r.id)))}),e.jsx(Ne,{label:"Designation",placeholder:"All Designations",selectedKeys:h.designation!=="all"?[h.designation]:[],onSelectionChange:r=>{const o=Array.from(r)[0];Pe(o||"all")},variant:"bordered",size:"sm",radius:g(),isDisabled:h.department==="all",startContent:e.jsx(me,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:ae?.map(r=>e.jsx(pe,{textValue:r.title,children:r.title},String(r.id)))}),e.jsx(Ne,{label:"Attendance Type",placeholder:"All Attendance Types",selectedKeys:h.attendanceType!=="all"?[h.attendanceType]:[],onSelectionChange:r=>{const o=Array.from(r)[0];Fe(o||"all")},variant:"bordered",size:"sm",radius:g(),startContent:e.jsx(we,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:C?.map(r=>e.jsx(pe,{textValue:r.name,children:r.name},String(r.id)))}),e.jsx("div",{className:"flex items-end",children:e.jsx(w,{variant:"flat",size:"sm",className:"w-full",onPress:()=>{D({search:"",department:"all",designation:"all",attendanceType:"all"}),u(r=>({...r,currentPage:1}))},isDisabled:h.search===""&&h.department==="all"&&h.designation==="all"&&h.attendanceType==="all",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",color:"var(--theme-danger)",borderRadius:g()},children:"Clear Filters"})})]})})]}),e.jsxs(oe,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                      var(--theme-content1, #FAFAFA) 20%, 
                      var(--theme-content2, #F4F4F5) 10%, 
                      var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Be,{className:"border-b pb-2",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)"},children:e.jsx(le,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"})]})}),e.jsx(de,{children:e.jsx("div",{className:"max-h-[84vh] overflow-y-auto",children:G?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{size:"lg",color:"primary"}),e.jsx("p",{className:"mt-4 text-default-500",children:"Loading employees data..."})]}):_==="table"?e.jsx(Mt,{allUsers:y,allManagers:j,departments:F,designations:c,attendanceTypes:C,setUsers:N,isMobile:b,isTablet:v,pagination:l,onPageChange:he,onRowsPerPageChange:Se,totalUsers:B,loading:G,updateEmployeeOptimized:Ce,deleteEmployeeOptimized:Re}):e.jsxs("div",{className:"p-4",children:[y.length>0?e.jsx("div",{className:`grid gap-4 ${b?"grid-cols-1":v?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:y.map((r,o)=>e.jsx(Ee,{user:r,index:o},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"w-12 h-12 mx-auto text-default-300 mb-2"}),e.jsx("p",{className:"text-base text-default-500",children:"No employees found"}),e.jsx("p",{className:"text-sm text-default-500",children:"Try adjusting your search or filters"})]}),y.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(l.currentPage-1)*l.perPage+1," to ",Math.min(l.currentPage*l.perPage,l.total)," of ",l.total," employees"]}),e.jsx(Je,{total:Math.ceil(l.total/l.perPage),initialPage:l.currentPage,page:l.currentPage,onChange:he,size:b?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]})]})})})]})]})]})})})})})]})};Lt.layout=$=>e.jsx(ut,{children:$});export{Lt as default};
