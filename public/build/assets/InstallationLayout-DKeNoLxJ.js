import{u as y,r as a,j as e}from"./app-BkgCtHXO.js";import{L as N}from"./index-B7m8hOZr.js";import{s as d}from"./toastUtils-x3kUGVfR.js";/* empty css                      */import{p as E}from"./chunk-VFIJPDYX-B1X8rpWN.js";const T=({children:p,currentStep:t=1,totalSteps:n=8,installationComplete:o=!1})=>{const{app:c,platformSettings:x}=y().props,i=c?.name||"Aero Enterprise Suite",w=c?.version||"1.0.0",f=x?.branding?.logo||x?.branding?.logo_light,u=i.charAt(0).toUpperCase(),[h,j]=a.useState(!1),g=t>=n,m=a.useRef(o);a.useEffect(()=>{m.current=o},[o]),a.useEffect(()=>(window.disableInstallationWarning=()=>{m.current=!0},()=>{delete window.disableInstallationWarning}),[]);const v=[{number:1,name:"Welcome"},{number:2,name:"Verification"},{number:3,name:"Requirements"},{number:4,name:"Database"},{number:5,name:"Platform"},{number:6,name:"Admin"},{number:7,name:"Review"},{number:8,name:"Complete"}],b=t/n*100;return a.useEffect(()=>{const s=r=>{if(!(g||m.current)&&t>1&&t<n)return r.preventDefault(),r.returnValue="Installation progress will be lost if you leave. Are you sure?",r.returnValue};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[t,n,g]),a.useEffect(()=>{if(h)return;const s=setTimeout(()=>{t>1&&t<n&&(d.warning("Your session will expire soon. Please complete the installation to avoid losing progress.",{duration:1e4}),j(!0))},3300*1e3);return()=>clearTimeout(s)},[t,n,h]),a.useEffect(()=>{const s=()=>{d.error("You are offline. Please check your internet connection.",{duration:0})},r=()=>{d.success("Connection restored!")};return window.addEventListener("offline",s),window.addEventListener("online",r),()=>{window.removeEventListener("offline",s),window.removeEventListener("online",r)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(N,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 dark:from-gray-900 dark:to-gray-800 flex flex-col",children:[e.jsx("div",{className:"w-full bg-white dark:bg-gray-900 border-b border-divider shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f?e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg overflow-hidden flex items-center justify-center bg-white dark:bg-gray-800",children:e.jsx("img",{src:f,alt:i,className:"w-full h-full object-contain",onError:s=>{const r=s?.target;if(r)try{r.style.display="none";const l=r.parentElement;l&&(l.innerHTML=`<span class="text-white font-bold text-lg sm:text-xl">${u}</span>`,l.classList.add("bg-primary"))}catch{}}})}):e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:u})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base sm:text-xl font-bold text-foreground",children:i}),e.jsx("p",{className:"text-xs sm:text-sm text-default-500 hidden xs:block",children:"Platform Installation"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-default-600 hidden sm:inline",children:"Version"}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:w})]})]})})}),t<=n&&e.jsx("div",{className:"w-full bg-white dark:bg-gray-900 border-b border-divider",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-medium text-foreground",children:["Step ",t," of ",n]}),e.jsxs("span",{className:"text-xs sm:text-sm text-default-500",children:[Math.round(b),"%"]})]}),e.jsx(E,{"aria-label":"Installation progress",value:b,color:"primary",className:"w-full",size:"sm"}),e.jsx("div",{className:"hidden lg:flex justify-between mt-4",children:v.map(s=>e.jsxs("div",{className:`flex flex-col items-center ${s.number===t?"text-primary":s.number<t?"text-success":"text-default-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold mb-1 ${s.number===t?"bg-primary text-white":s.number<t?"bg-success text-white":"bg-default-100 text-default-400"}`,children:s.number}),e.jsx("span",{className:"text-xs",children:s.name})]},s.number))})]})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-3 sm:p-4 md:p-6",children:e.jsx("div",{className:"w-full max-w-4xl",children:p})}),e.jsx("div",{className:"w-full bg-white dark:bg-gray-900 border-t border-divider",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2 text-xs sm:text-sm text-default-500",children:[e.jsxs("span",{className:"text-center sm:text-left",children:["Â© 2025 ",i,". All rights reserved."]}),e.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[e.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Docs"}),e.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Support"})]})]})})})]})]})};export{T as I};
