import{r as o,S as Se,U as De,an as Be,j as u,Y as je,ak as te,au as Oe,aj as _e,a4 as qe,aX as Ee,y as de,a2 as re,a3 as x,v as Ne}from"./app-CUKgmgkQ.js";import{$ as we,a as ce}from"./useToggleState-D0KmqrFs.js";import{u as Ae}from"./index-4Gv1aAW-.js";import{a as ue,b as Fe,d as ve,e as Me,u as Le,F as We}from"./chunk-ICU6NNET-7RZ9nPEr.js";import{u as Ge}from"./index-NVAh7aiH.js";import{m as ze}from"./chunk-LGMZDQT5-BUrMXbuP.js";function fe(e,a,s){let l=ue({...e,value:a.isSelected}),{isInvalid:r,validationErrors:I,validationDetails:C}=l.displayValidation,{labelProps:P,inputProps:d,isSelected:t,isPressed:i,isDisabled:$,isReadOnly:v}=we({...e,isInvalid:r},a,s);Fe(e,l,s);let{isIndeterminate:k,isRequired:R,validationBehavior:f="aria"}=e;o.useEffect(()=>{s.current&&(s.current.indeterminate=!!k)});let{pressProps:b}=Se({isDisabled:$||v,onPress(){let{[ve]:c}=e,{commitValidation:j}=c||l;j()}});return{labelProps:De(P,b,o.useMemo(()=>({onMouseDown:c=>c.preventDefault()}),[])),inputProps:{...d,checked:t,"aria-required":R&&f==="aria"||void 0,required:R&&f==="native"},isSelected:t,isPressed:i,isDisabled:$,isReadOnly:v,isInvalid:r,validationErrors:I,validationDetails:C}}const He=new WeakMap;function Te(e,a,s){const l=ce({isReadOnly:e.isReadOnly||a.isReadOnly,isSelected:a.isSelected(e.value),defaultSelected:a.defaultValue.includes(e.value),onChange(c){c?a.addValue(e.value):a.removeValue(e.value),e.onChange&&e.onChange(c)}});let{name:r,form:I,descriptionId:C,errorMessageId:P,validationBehavior:d}=He.get(a);var t;d=(t=e.validationBehavior)!==null&&t!==void 0?t:d;let{realtimeValidation:i}=ue({...e,value:l.isSelected,name:void 0,validationBehavior:"aria"}),$=o.useRef(Me),v=()=>{a.setInvalid(e.value,i.isInvalid?i:$.current)};o.useEffect(v);let k=a.realtimeValidation.isInvalid?a.realtimeValidation:i,R=d==="native"?a.displayValidation:k;var f;let b=fe({...e,isReadOnly:e.isReadOnly||a.isReadOnly,isDisabled:e.isDisabled||a.isDisabled,name:e.name||r,form:e.form||I,isRequired:(f=e.isRequired)!==null&&f!==void 0?f:a.isRequired,validationBehavior:d,[ve]:{realtimeValidation:k,displayValidation:R,resetValidation:a.resetValidation,commitValidation:a.commitValidation,updateValidation(c){$.current=c,v()}}},l,s);return{...b,inputProps:{...b.inputProps,"aria-describedby":[e["aria-describedby"],a.isInvalid?P:null,C].filter(Boolean).join(" ")||void 0}}}var[na,Ue]=Be({name:"CheckboxGroupContext",strict:!1});function Xe(e){const{isSelected:a,disableAnimation:s,...l}=e;return u.jsx("svg",{"aria-hidden":"true",fill:"none",role:"presentation",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:a?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!s&&a?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{},viewBox:"0 0 17 18",...l,children:u.jsx("polyline",{points:"1 9 7 14 15 4"})})}function Ye(e){const{isSelected:a,disableAnimation:s,...l}=e;return u.jsx("svg",{stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",...l,children:u.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Je(e){const{isIndeterminate:a,...s}=e,l=a?Ye:Xe;return u.jsx(l,{...s})}function Ke(e={}){var a,s,l,r,I,C,P,d;const t=je(),i=Ue(),{validationBehavior:$}=Le(We)||{},v=!!i,{as:k,ref:R,value:f="",children:b,icon:c,name:j,isRequired:E,isReadOnly:z=!1,autoFocus:H=!1,isSelected:T,size:U=(a=i?.size)!=null?a:"md",color:X=(s=i?.color)!=null?s:"primary",radius:Y=i?.radius,lineThrough:J=(l=i?.lineThrough)!=null?l:!1,isDisabled:K=(r=i?.isDisabled)!=null?r:!1,disableAnimation:O=(C=(I=i?.disableAnimation)!=null?I:t?.disableAnimation)!=null?C:!1,validationState:_,isInvalid:q=_?_==="invalid":(P=i?.isInvalid)!=null?P:!1,isIndeterminate:g=!1,validationBehavior:me=v?i.validationBehavior:(d=$??t?.validationBehavior)!=null?d:"native",defaultSelected:Q,classNames:n,className:pe,onValueChange:Z,validate:he,...V}=e,xe=k||"label",Ie=o.useRef(null),S=o.useRef(null);let N=e.onChange;v&&(N=te(()=>{i.groupState.resetValidation()},N));const w=o.useId(),A=o.useMemo(()=>({name:j,value:f,children:b,autoFocus:H,defaultSelected:Q,isIndeterminate:g,isRequired:E,isInvalid:q,isSelected:T,isDisabled:K,isReadOnly:z,"aria-label":Oe(V["aria-label"],b),"aria-labelledby":V["aria-labelledby"]||w,onChange:Z}),[j,f,b,H,Q,g,E,q,T,K,z,V["aria-label"],V["aria-labelledby"],w,Z]),ee=ce(A),ae={isInvalid:q,isRequired:E,validate:he,validationState:_,validationBehavior:me},{inputProps:y,isSelected:D,isDisabled:m,isReadOnly:F,isPressed:Ce,isInvalid:Pe}=v?Te({...A,...ae},i.groupState,S):fe({...A,...ae},ee,S),$e=m||F,B=_==="invalid"||q||Pe,ie=$e?!1:Ce,{hoverProps:le,isHovered:M}=_e({isDisabled:y.disabled}),{focusProps:ne,isFocused:L,isFocusVisible:W}=qe({autoFocus:y.autoFocus}),p=o.useMemo(()=>Ee({color:X,size:U,radius:Y,isInvalid:B,lineThrough:J,isDisabled:m,disableAnimation:O}),[X,U,Y,B,J,m,O]);Ge(()=>{if(!S.current)return;const h=!!S.current.checked;ee.setSelected(h)},[S.current]);const G=Ae(N),se=o.useCallback(h=>{if(F||m){h.preventDefault();return}G?.(h)},[F,m,G]),oe=de(n?.base,pe),ge=o.useCallback(()=>({ref:Ie,className:p.base({class:oe}),"data-disabled":x(m),"data-selected":x(D||g),"data-invalid":x(B),"data-hover":x(M),"data-focus":x(L),"data-pressed":x(ie),"data-readonly":x(y.readOnly),"data-focus-visible":x(W),"data-indeterminate":x(g),...re(le,V)}),[p,oe,m,D,g,B,M,L,ie,y.readOnly,W,le,V]),ye=o.useCallback((h={})=>({...h,"aria-hidden":!0,className:p.wrapper({class:de(n?.wrapper,h?.className)})}),[p,n?.wrapper]),ke=o.useCallback(()=>({ref:ze(S,R),...re(y,ne),className:p.hiddenInput({class:n?.hiddenInput}),onChange:te(y.onChange,se)}),[y,ne,se,n?.hiddenInput]),Re=o.useCallback(()=>({id:w,className:p.label({class:n?.label})}),[p,n?.label,m,D,B]),Ve=o.useCallback(()=>({isSelected:D,isIndeterminate:g,disableAnimation:O,className:p.icon({class:n?.icon})}),[p,n?.icon,D,g,O]);return{Component:xe,icon:c,children:b,isSelected:D,isDisabled:m,isInvalid:B,isFocused:L,isHovered:M,isFocusVisible:W,getBaseProps:ge,getWrapperProps:ye,getInputProps:ke,getLabelProps:Re,getIconProps:Ve}}var be=Ne((e,a)=>{const{Component:s,children:l,icon:r=u.jsx(Je,{}),getBaseProps:I,getWrapperProps:C,getInputProps:P,getIconProps:d,getLabelProps:t}=Ke({...e,ref:a}),i=typeof r=="function"?r(d()):o.cloneElement(r,d());return u.jsxs(s,{...I(),children:[u.jsx("input",{...P()}),u.jsx("span",{...C(),children:i}),l&&u.jsx("span",{...t(),children:l})]})});be.displayName="HeroUI.Checkbox";var sa=be;export{He as $,na as C,sa as c};
