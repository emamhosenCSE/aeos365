import{r as s,j as t,H as z,m as P,b as g,d as y}from"./app-DLWZL5EI.js";import{A as U}from"./App-CPiN04Y0.js";import{F as I,d as V,a as H,b as O,m as o}from"./PlusIcon-CgcHryUb.js";import{F as W}from"./MagnifyingGlassIcon-C9l2NPQE.js";import{F as q}from"./TrashIcon-C6DesZfk.js";import{a as G}from"./IdentificationIcon-6E2VOCK1.js";import{i as J}from"./chunk-SQIAVXJX-C5zDfxFa.js";import{s as f}from"./chunk-C3QHEOC2-Bmp2Jpe_.js";import{l as i}from"./chunk-Y5DMIIWQ-zhqLBGLU.js";import{t as K,a as Q,b as X,c as Y}from"./chunk-F3UDT23P-iuiXDnoX.js";import{t as Z,a as ee}from"./chunk-YRZGWF2W-C3idaI1g.js";import{p as te}from"./chunk-NL7EUJG2-cD5brqfz.js";import"./app-BI-xrU3s.js";import"./index-lAyyVki8.js";/* empty css                      */import"./routeUtils-C6MiLID5.js";import"./toastUtils-CQ8tPw7l.js";import"./chunk-CV4BWJDJ-C645uC3W.js";import"./index-DD7PnbC4.js";import"./index-Dz459_my.js";import"./UserIcon-DiPxEy9e.js";import"./Cog6ToothIcon-CI3NiAkm.js";import"./GlobeAltIcon-CFAl4tmE.js";import"./useBranding-C98uB2bk.js";import"./useDialog-LKdJQ55I.js";import"./getScrollParent-B27hviGV.js";import"./keyboard-CSKkBtIV.js";import"./useLabels-CKC_NELL.js";import"./VisuallyHidden-Dslt4DE9.js";import"./index-B5MKI_DQ.js";import"./XMarkIcon-C9tv-sqJ.js";import"./chunk-AUA5GDXN-DgHZKZnK.js";import"./chunk-WQVQ7P2I-BXEU6rr0.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-BbUrfslF.js";import"./useMediaQuery-CZ_V8brP.js";import"./chunk-IHO36JMK-DYeauZfe.js";import"./ShieldCheckIcon-BxwQA0uM.js";import"./AcademicCapIcon-Bs9t2qow.js";import"./ArrowLeftIcon-a6q7R3tQ.js";import"./ArrowRightIcon-BZNmx9ah.js";import"./UsersIcon-CpsA-xGl.js";import"./BoltIcon-BRTqiOqL.js";import"./BriefcaseIcon-CunjT5yU.js";import"./BuildingOfficeIcon-BJoAl2gF.js";import"./CalendarDaysIcon-BR4QgBq8.js";import"./CalendarIcon-BTj7Nn7B.js";import"./ChartBarIcon-CnSK0enl.js";import"./CheckCircleIcon-CaJShsm_.js";import"./CircleStackIcon-20fpj2M5.js";import"./ClipboardDocumentCheckIcon-Bwahsg1t.js";import"./CogIcon-CQIGGanJ.js";import"./DeviceTabletIcon-CR6eyvHQ.js";import"./CpuChipIcon-Dkmm6hKt.js";import"./CurrencyDollarIcon-DK6JNn4H.js";import"./DevicePhoneMobileIcon-DzKKUXAD.js";import"./DocumentArrowUpIcon-CdnT1l-_.js";import"./PencilIcon-Da-ZoIco.js";import"./DocumentIcon-YVJ_odhG.js";import"./EnvelopeIcon-BNQywoLu.js";import"./ExclamationCircleIcon-D-5waelr.js";import"./EyeSlashIcon-C7uJqcIF.js";import"./EyeIcon-Ds6DAjR7.js";import"./FunnelIcon-D8WHt0li.js";import"./InformationCircleIcon-2sIUPx4E.js";import"./KeyIcon-Dl6jmBIi.js";import"./LockClosedIcon-DWSbAAT6.js";import"./MapPinIcon-CoSq0ZKP.js";import"./PlusCircleIcon-borTRmVT.js";import"./PrinterIcon-jsVlFWpL.js";import"./RocketLaunchIcon-C1ofXZeY.js";import"./ShoppingCartIcon-DijpYrUE.js";import"./UserCircleIcon-D9Bl7hMN.js";import"./UserGroupIcon-DLyCB4U6.js";import"./chunk-TW2E3XVA-dNGvEz5r.js";import"./chunk-I3A4XRYQ-CbmreU5k.js";import"./useToggleState-C1tJJPv7.js";import"./chunk-ICU6NNET-BuoRM2Mj.js";import"./MaintenanceModeBanner-CpiCdC4n.js";import"./Item-hnCJOaQ5.js";import"./SelectionManager-UhxaObWG.js";import"./index-D3fxkw17.js";import"./useSelectableItem-Qild1lMf.js";import"./useTreeState-CsNDLaZy.js";import"./useMenuTriggerState-CpMESG3a.js";import"./chunk-KQW2TNLT-BxZBj3py.js";import"./useField-CN4URFK6.js";import"./useLabel-BC4q2FsI.js";import"./chunk-7F3ZLNJ6-BH294qJ7.js";import"./index-CGn2JJsk.js";import"./chunk-PMMJMDBI-DH4qNxn7.js";import"./index-BJ8QHXMy.js";import"./useHasTabbableChild-DwAon3z_.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-Bg0Or-mv.js";const Ot=({accounts:b=[],auth:j})=>{const[l,_]=s.useState(""),[c,C]=s.useState("all"),[m,S]=s.useState("all"),[u,k]=s.useState("all"),[d,v]=s.useState(1),p=10,[ae,A]=s.useState(!1);s.useEffect(()=>{const e=()=>A(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const n=()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",r=parseInt(a);return r===0?"none":r<=4?"sm":r<=8?"md":r<=12?"lg":"full"},N=e=>j?.user?.permissions?.includes(e)||j?.user?.is_super_admin,h=b.length>0?b:[{id:1,name:"Business Checking",bank:"Chase Bank",account_number:"****1234",type:"checking",currency:"USD",balance:125e3,status:"active"},{id:2,name:"Savings Account",bank:"Wells Fargo",account_number:"****5678",type:"savings",currency:"USD",balance:5e4,status:"active"},{id:3,name:"Business Credit Card",bank:"American Express",account_number:"****9012",type:"credit_card",currency:"USD",balance:-8500,status:"active"},{id:4,name:"Payroll Account",bank:"Bank of America",account_number:"****3456",type:"checking",currency:"USD",balance:75e3,status:"active"}],B={active:"success",inactive:"warning",closed:"default"},w={checking:"Checking",savings:"Savings",credit_card:"Credit Card",loan:"Loan",investment:"Investment"},x=s.useMemo(()=>h.filter(e=>{const a=e.name.toLowerCase().includes(l.toLowerCase())||e.account_number.toLowerCase().includes(l.toLowerCase()),r=c==="all"||e.bank===c,D=m==="all"||e.type===m,$=u==="all"||e.status===u;return a&&r&&D&&$}),[h,l,c,m,u]),F=Math.ceil(x.length/p),L=s.useMemo(()=>{const e=(d-1)*p,a=e+p;return x.slice(e,a)},[d,x]),R=(e,a="USD")=>`${e<0?"-":""}$${Math.abs(e).toLocaleString()}`,T=e=>{_(e),v(1)},E=(e,a)=>{switch(a){case"name":return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5 text-primary"}),t.jsx("span",{className:"font-medium",children:e.name})]});case"bank":return t.jsx("span",{children:e.bank});case"account_number":return t.jsx("span",{className:"font-mono text-sm",children:e.account_number});case"type":return t.jsx("span",{children:w[e.type]});case"currency":return t.jsx(y,{size:"sm",variant:"flat",children:e.currency});case"balance":const r=e.balance<0;return t.jsx("span",{className:`font-semibold ${r?"text-danger":"text-success"}`,children:R(e.balance,e.currency)});case"status":return t.jsx(y,{color:B[e.status],size:"sm",variant:"flat",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)});case"actions":return t.jsxs(V,{children:[t.jsx(H,{children:t.jsx(g,{isIconOnly:!0,size:"sm",variant:"light",children:t.jsx(q,{className:"w-5 h-5"})})}),t.jsxs(O,{"aria-label":"Account actions",children:[t.jsx(o,{children:"View Details"},"view"),t.jsx(o,{children:"View Transactions"},"transactions"),t.jsx(o,{children:"Reconcile"},"reconcile"),t.jsx(o,{children:"Edit"},"edit"),t.jsx(o,{className:"text-warning",color:"warning",children:"Deactivate"},"deactivate")]})]});default:return null}},M=[{uid:"name",name:"Account Name"},{uid:"bank",name:"Bank"},{uid:"account_number",name:"Account Number"},{uid:"type",name:"Type"},{uid:"currency",name:"Currency"},{uid:"balance",name:"Balance"},{uid:"status",name:"Status"},{uid:"actions",name:"Actions"}];return t.jsxs(U,{children:[t.jsx(z,{title:"Bank Accounts"}),t.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bank Accounts"}),t.jsx("p",{className:"text-default-500",children:"Manage your bank accounts and balances"})]}),N("finance.bank-accounts.create")&&t.jsx(g,{color:"primary",startContent:t.jsx(I,{className:"w-5 h-5"}),radius:n(),children:"Add Account"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsx(J,{placeholder:"Search accounts...",value:l,onValueChange:T,startContent:t.jsx(W,{className:"w-4 h-4 text-default-400"}),className:"w-full sm:w-64",radius:n()}),t.jsxs(f,{placeholder:"All Banks",className:"w-full sm:w-48",radius:n(),onChange:e=>C(e.target.value),children:[t.jsx(i,{value:"all",children:"All Banks"},"all"),[...new Set(h.map(e=>e.bank))].map(e=>t.jsx(i,{value:e,children:e},e))]}),t.jsxs(f,{placeholder:"All Types",className:"w-full sm:w-48",radius:n(),onChange:e=>S(e.target.value),children:[t.jsx(i,{value:"all",children:"All Types"},"all"),Object.entries(w).map(([e,a])=>t.jsx(i,{value:e,children:a},e))]}),t.jsxs(f,{placeholder:"All Status",className:"w-full sm:w-48",radius:n(),onChange:e=>k(e.target.value),children:[t.jsx(i,{value:"all",children:"All Status"},"all"),t.jsx(i,{value:"active",children:"Active"},"active"),t.jsx(i,{value:"inactive",children:"Inactive"},"inactive"),t.jsx(i,{value:"closed",children:"Closed"},"closed")]})]}),t.jsxs(K,{"aria-label":"Bank accounts table",bottomContent:t.jsx("div",{className:"flex w-full justify-center",children:t.jsx(te,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:d,total:F,onChange:e=>v(e)})}),children:[t.jsx(Z,{columns:M,children:e=>t.jsx(ee,{children:e.name},e.uid)}),t.jsx(Q,{items:L,emptyContent:"No bank accounts found",children:e=>t.jsx(X,{children:a=>t.jsx(Y,{children:E(e,a)})},e.id)})]})]})]})};export{Ot as default};
