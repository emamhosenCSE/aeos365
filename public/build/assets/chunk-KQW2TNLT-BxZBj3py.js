import{$ as aa,u as ta}from"./useField-CN4URFK6.js";import{U as la,V as sa,r as i,W as na,$ as ia,R as oa,X as ra,Y as da,Z as $e,t as K,a0 as ua,w as c,a1 as ca,a2 as xe,a3 as Pe,y as fa,a4 as ba,a5 as va,a6 as l,a7 as j,a8 as We,a9 as pa}from"./app-DLWZL5EI.js";import{$ as De,u as ma}from"./index-Dz459_my.js";import{$ as ha,a as Ca,b as ya,u as $a,F as xa}from"./chunk-ICU6NNET-BuoRM2Mj.js";function Pa(e,o){let{inputElementType:w="input",isDisabled:B=!1,isRequired:D=!1,isReadOnly:F=!1,type:L="text",validationBehavior:R="aria"}=e,[f,g]=De(e.value,e.defaultValue||"",e.onChange),{focusableProps:r}=la(e,o),M=ha({...e,value:f}),{isInvalid:k,validationErrors:S,validationDetails:h}=M.displayValidation,{labelProps:$,fieldProps:z,descriptionProps:U,errorMessageProps:I}=aa({...e,isInvalid:k,errorMessage:e.errorMessage||S}),X=sa(e,{labelable:!0});const a={type:L,pattern:e.pattern};let[Y]=i.useState(f);var x;return Ca(o,(x=e.defaultValue)!==null&&x!==void 0?x:Y,g),ya(e,M,o),i.useEffect(()=>{if(o.current instanceof na(o.current).HTMLTextAreaElement){let b=o.current;Object.defineProperty(b,"defaultValue",{get:()=>b.value,set:()=>{},configurable:!0})}},[o]),{labelProps:$,inputProps:ia(X,w==="input"?a:void 0,{disabled:B,readOnly:F,required:D&&R==="native","aria-required":D&&R==="aria"||void 0,"aria-invalid":k||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:f,onChange:b=>g(b.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,form:e.form,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(oa.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...r,...z}),descriptionProps:U,errorMessageProps:I,isInvalid:k,validationErrors:S,validationDetails:h}}function Ma(e){var o,w,B,D,F,L,R;const f=ra(),{validationBehavior:g}=$a(xa)||{},[r,M]=da(e,$e.variantKeys),{ref:k,as:S,type:h,label:$,baseRef:z,wrapperRef:U,description:I,className:X,classNames:a,autoFocus:Y,startContent:x,endContent:b,onClear:v,onChange:te,validationState:Re,validationBehavior:ge=(o=g??f?.validationBehavior)!=null?o:"native",innerWrapperRef:Me,onValueChange:le=()=>{},...se}=r,ke=i.useCallback(t=>{le(t??"")},[le]),[Z,Ie]=i.useState(!1),Oe=S||"div",ne=(B=(w=e.disableAnimation)!=null?w:f?.disableAnimation)!=null?B:!1,n=K(k),Ne=K(z),Ee=K(U),Ve=K(Me),[p,P]=De(r.value,(D=r.defaultValue)!=null?D:"",ke),O=h==="file",we=((R=(L=(F=n?.current)==null?void 0:F.files)==null?void 0:L.length)!=null?R:0)>0,Be=["date","time","month","week","range"].includes(h),m=!ua(p)||Be||we,T=m||Z,ie=h==="hidden",oe=e.isMultiline,re=c(a?.base,X,m?"is-filled":""),Fe=i.useCallback(()=>{var t;O?n.current.value="":P(""),v?.(),(t=n.current)==null||t.focus()},[P,v,O]);ma(()=>{n.current&&P(n.current.value)},[n.current]);const{labelProps:de,inputProps:C,isInvalid:Le,validationErrors:G,validationDetails:Se,descriptionProps:Te,errorMessageProps:ue}=Pa({...e,validationBehavior:ge,autoCapitalize:e.autoCapitalize,value:p,"aria-label":e.label?e["aria-label"]:ca(e["aria-label"],e.placeholder),inputElementType:oe?"textarea":"input",onChange:P},n);O&&(delete C.value,delete C.onChange);const{isFocusVisible:H,isFocused:_,focusProps:ce}=xe({autoFocus:Y,isTextInput:!0}),{isHovered:q,hoverProps:He}=Pe({isDisabled:!!e?.isDisabled}),{isHovered:N,hoverProps:_e}=Pe({isDisabled:!!e?.isDisabled}),{focusProps:fe,isFocusVisible:be}=xe(),{focusWithinProps:ve}=fa({onFocusWithinChange:Ie}),{pressProps:pe}=ba({isDisabled:!!e?.isDisabled||!!e?.isReadOnly,onPress:Fe}),W=Re==="invalid"||Le,d=ta({labelPlacement:e.labelPlacement,label:$}),J=typeof r.errorMessage=="function"?r.errorMessage({isInvalid:W,validationErrors:G,validationDetails:Se}):r.errorMessage||G?.join(" "),E=!!v||e.isClearable,me=!!$||!!I||!!J,y=!!r.placeholder,he=!!$,Q=!!I||!!J,ee=d==="outside-left",ae=d==="outside-top",Ce=d==="outside"||ee||ae,qe=d==="inside",A=n.current?(!n.current.value||n.current.value===""||!p||p==="")&&y:!1,u=!!x,Ae=Ce?ee||ae||y||d==="outside"&&u:!1,Ke=d==="outside"&&!y&&!u,s=i.useMemo(()=>$e({...M,isInvalid:W,labelPlacement:d,isClearable:E,disableAnimation:ne}),[va(M),W,d,E,u,ne]),je=i.useCallback((t={})=>({ref:Ne,className:s.base({class:re}),"data-slot":"base","data-filled":l(m||y||u||A||O),"data-filled-within":l(T||y||u||A||O),"data-focus-within":l(Z),"data-focus-visible":l(H),"data-readonly":l(e.isReadOnly),"data-focus":l(_),"data-hover":l(q||N),"data-required":l(e.isRequired),"data-invalid":l(W),"data-disabled":l(e.isDisabled),"data-has-elements":l(me),"data-has-helper":l(Q),"data-has-label":l(he),"data-has-value":l(!A),"data-hidden":l(ie),...ve,...t}),[s,re,m,_,q,N,W,Q,he,me,A,u,Z,H,T,y,ve,ie,e.isReadOnly,e.isRequired,e.isDisabled]),ze=i.useCallback((t={})=>({"data-slot":"label",className:s.label({class:a?.label}),...j(de,_e,t)}),[s,N,de,a?.label]),ye=i.useCallback(t=>{t.key==="Escape"&&p&&(E||v)&&!e.isReadOnly&&(P(""),v?.())},[p,P,v,E,e.isReadOnly]),Ue=i.useCallback((t={})=>({"data-slot":"input","data-filled":l(m),"data-filled-within":l(T),"data-has-start-content":l(u),"data-has-end-content":l(!!b),"data-type":h,className:s.input({class:c(a?.input,m?"is-filled":"",oe?"pe-0":"",h==="password"?"[&::-ms-reveal]:hidden":"")}),...j(ce,C,pa(se,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(C))}),t),"aria-readonly":l(e.isReadOnly),onChange:We(C.onChange,te),onKeyDown:We(C.onKeyDown,t.onKeyDown,ye),ref:n}),[s,p,ce,C,se,m,T,u,b,a?.input,e.isReadOnly,e.isRequired,te,ye]),Xe=i.useCallback((t={})=>({ref:Ee,"data-slot":"input-wrapper","data-hover":l(q||N),"data-focus-visible":l(H),"data-focus":l(_),className:s.inputWrapper({class:c(a?.inputWrapper,m?"is-filled":"")}),...j(t,He),onClick:V=>{n.current&&V.currentTarget===V.target&&n.current.focus()},style:{cursor:"text",...t.style}}),[s,q,N,H,_,p,a?.inputWrapper]),Ye=i.useCallback((t={})=>({...t,ref:Ve,"data-slot":"inner-wrapper",onClick:V=>{n.current&&V.currentTarget===V.target&&n.current.focus()},className:s.innerWrapper({class:c(a?.innerWrapper,t?.className)})}),[s,a?.innerWrapper]),Ze=i.useCallback((t={})=>({...t,"data-slot":"main-wrapper",className:s.mainWrapper({class:c(a?.mainWrapper,t?.className)})}),[s,a?.mainWrapper]),Ge=i.useCallback((t={})=>({...t,"data-slot":"helper-wrapper",className:s.helperWrapper({class:c(a?.helperWrapper,t?.className)})}),[s,a?.helperWrapper]),Je=i.useCallback((t={})=>({...t,...Te,"data-slot":"description",className:s.description({class:c(a?.description,t?.className)})}),[s,a?.description]),Qe=i.useCallback((t={})=>({...t,...ue,"data-slot":"error-message",className:s.errorMessage({class:c(a?.errorMessage,t?.className)})}),[s,ue,a?.errorMessage]),ea=i.useCallback((t={})=>({...t,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":l(be),className:s.clearButton({class:c(a?.clearButton,t?.className)}),...j(pe,fe)}),[s,be,pe,fe,a?.clearButton]);return{Component:Oe,classNames:a,domRef:n,label:$,description:I,startContent:x,endContent:b,labelPlacement:d,isClearable:E,hasHelper:Q,hasStartContent:u,isLabelOutside:Ae,isOutsideLeft:ee,isOutsideTop:ae,isLabelOutsideAsPlaceholder:Ke,shouldLabelBeOutside:Ce,shouldLabelBeInside:qe,hasPlaceholder:y,isInvalid:W,errorMessage:J,getBaseProps:je,getLabelProps:ze,getInputProps:Ue,getMainWrapperProps:Ze,getInputWrapperProps:Xe,getInnerWrapperProps:Ye,getHelperWrapperProps:Ge,getDescriptionProps:Je,getErrorMessageProps:Qe,getClearButtonProps:ea}}export{Ma as u};
