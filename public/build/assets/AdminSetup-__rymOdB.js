import{u as v,r as u,j as e,H as N,c as _,d as C,e as F,b as A}from"./app-B1idACz3.js";import{s as R}from"./toastUtils-CW5B8m6C.js";import{F as S}from"./BuildingOfficeIcon-DRKs9y4o.js";import{F as E}from"./UserIcon-1qA6iUQn.js";import{F as k}from"./EnvelopeIcon-B0z_TX9R.js";import{F as x}from"./LockClosedIcon-D4pmCoEC.js";import{c as W}from"./chunk-NDVZOYT4-Co_i4Fag.js";import{c as z}from"./chunk-C6WKGNND-DYIi9UqF.js";import{i as d}from"./chunk-SQIAVXJX-BmeQe73H.js";import{p as I}from"./chunk-VFIJPDYX-nQIpe2PR.js";import"./app-BmhO9GrS.js";import"./index-B22Xm-65.js";import"./chunk-KQW2TNLT-Cz1cLYHm.js";import"./index-BvevyAVm.js";import"./chunk-ICU6NNET-CXrsm0Bw.js";import"./useLabel-BWLgnRON.js";import"./useLabels-xtEGP3rr.js";import"./useProgressBar-Bpr0HQnj.js";import"./number-CB4zbwAz.js";import"./useNumberFormatter-p89ekOdc.js";import"./NumberFormatter-DNR9MAW-.js";function re({title:h="Complete Your Account Setup",tenant:g={}}){const{data:t,setData:l,post:b,processing:p,errors:o,reset:M}=v({name:"",user_name:"",email:"",phone:"",password:"",password_confirmation:""});u.useEffect(()=>{if(t.email&&!t.user_name){const a=t.email.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"_");l("user_name",a)}},[t.email]);const[i,c]=u.useState("lg");u.useEffect(()=>{const r=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",s=parseInt(r);s===0?c("none"):s<=4?c("sm"):s<=8?c("md"):s<=12?c("lg"):c("full")},[]);const m=u.useMemo(()=>{const a=t.password;if(!a)return{score:0,label:"",color:"default"};let r=0;a.length>=8&&(r+=25),a.length>=12&&(r+=10),a.length>=16&&(r+=10),/[a-z]/.test(a)&&(r+=15),/[A-Z]/.test(a)&&(r+=15),/[0-9]/.test(a)&&(r+=15),/[^a-zA-Z0-9]/.test(a)&&(r+=10);let s="",n="default";return r<40?(s="Weak",n="danger"):r<60?(s="Fair",n="warning"):r<80?(s="Good",n="primary"):(s="Strong",n="success"),{score:r,label:s,color:n}},[t.password]),j=a=>{a.preventDefault();const r=new Promise((s,n)=>{b(route("admin.setup.store"),{onSuccess:()=>{s(["Admin account created successfully!"])},onError:y=>{const f=Object.values(y).flat();n(f.length>0?f:["Failed to create admin account"])}})});R.promise(r,{loading:"Creating your admin account...",success:s=>s.join(", "),error:s=>Array.isArray(s)?s.join(", "):s})},w=()=>({border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
            var(--theme-content1, #FAFAFA) 20%, 
            var(--theme-content2, #F4F4F5) 10%, 
            var(--theme-content3, #F1F3F4) 20%)`});return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:h}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4",children:e.jsx(S,{className:"w-8 h-8 text-white"})}),e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome to ",g.name||"Your Organization"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Complete your account setup to get started"})]}),e.jsxs(_,{style:w(),className:"shadow-xl",children:[e.jsxs(z,{className:"flex flex-col gap-2 px-6 pt-6",style:{borderBottom:"1px solid var(--theme-divider, #E4E4E7)"},children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Create Admin Account"}),e.jsx("p",{className:"text-sm text-default-500",children:"Set up your super administrator account. Use any email and phone - no verification required!"})]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs(C,{className:"px-6 py-6 space-y-5",children:[e.jsx(d,{type:"text",label:"Full Name",placeholder:"Enter your full name",value:t.name,onValueChange:a=>l("name",a),isInvalid:!!o.name,errorMessage:o.name,isRequired:!0,radius:i,startContent:e.jsx(E,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100"}}),e.jsx(d,{type:"email",label:"Your Email Address",placeholder:"your.email@example.com",value:t.email,onValueChange:a=>l("email",a),isInvalid:!!o.email,errorMessage:o.email,description:"Your personal email for login - no verification needed",isRequired:!0,radius:i,startContent:e.jsx(k,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100"}}),e.jsx(d,{type:"text",label:"Username",placeholder:"johndoe",value:t.user_name,onValueChange:a=>l("user_name",a.toLowerCase().replace(/[^a-z0-9_]/g,"")),isInvalid:!!o.user_name,errorMessage:o.user_name,description:"Used for internal identification (auto-generated from email)",isRequired:!0,radius:i,classNames:{inputWrapper:"bg-default-100",input:"font-mono"}}),e.jsx(d,{type:"tel",label:"Phone Number (Optional)",placeholder:"+1 234 567 8900",value:t.phone,onValueChange:a=>l("phone",a),isInvalid:!!o.phone,errorMessage:o.phone,description:"Your personal contact number - optional",radius:i,classNames:{inputWrapper:"bg-default-100"}}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(d,{type:"password",label:"Password",placeholder:"Create a secure password",value:t.password,onValueChange:a=>l("password",a),isInvalid:!!o.password,errorMessage:o.password,isRequired:!0,radius:i,startContent:e.jsx(x,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100"}}),e.jsx(d,{type:"password",label:"Confirm Password",placeholder:"Repeat your password",value:t.password_confirmation,onValueChange:a=>l("password_confirmation",a),isInvalid:!!o.password_confirmation,errorMessage:o.password_confirmation,isRequired:!0,radius:i,startContent:e.jsx(x,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100"}})]}),t.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-default-500",children:"Password Strength:"}),e.jsx(F,{size:"sm",color:m.color,variant:"flat",children:m.label})]}),e.jsx(I,{value:m.score,color:m.color,size:"sm",className:"max-w-full"})]})]}),e.jsxs("div",{className:"text-xs text-default-500 bg-default-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-medium mb-1",children:"Password Requirements:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[e.jsx("li",{children:"At least 8 characters long"}),e.jsx("li",{children:"Contains uppercase and lowercase letters"}),e.jsx("li",{children:"Contains at least one number"})]})]})]}),e.jsx(W,{className:"px-6 pb-6",style:{borderTop:"1px solid var(--theme-divider, #E4E4E7)"},children:e.jsx(A,{type:"submit",color:"primary",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600",size:"lg",isLoading:p,radius:i,children:p?"Creating Account...":"Create Admin Account"})})]})]}),e.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-6",children:["Already have an account?"," ",e.jsx("a",{href:route("login"),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 font-medium",children:"Sign in"})]})]})})]})}export{re as default};
