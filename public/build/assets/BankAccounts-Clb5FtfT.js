import{r,j as t,H as z,m as P,b as g,e as y}from"./app-Dl9IyCSr.js";import{A as U,u as I}from"./App-Bvv_qi5g.js";import{e as V,d as H,a as O,b as W,m as o}from"./PlusIcon-BPcH8ecw.js";import{F as q}from"./MagnifyingGlassIcon-CwH_RyS9.js";import{a as G}from"./IdentificationIcon-Ba_jOL_3.js";import{i as J}from"./chunk-SQIAVXJX-D3yIoCJS.js";import{s as f}from"./chunk-C3QHEOC2-B75fxhca.js";import{l as n}from"./chunk-Y5DMIIWQ-CXa_1srj.js";import{t as K,a as Q,b as X,c as Y}from"./chunk-F3UDT23P-BVknCAcy.js";import{t as Z,a as ee}from"./chunk-YRZGWF2W-BbsL6Msf.js";import{p as te}from"./chunk-NL7EUJG2-I9pJvBiz.js";import"./app-Bq-q9uAS.js";import"./index-CTFU2EL9.js";/* empty css                      */import"./toastUtils-CLIL57nf.js";import"./chunk-CV4BWJDJ-Bs4p4cTs.js";import"./index-DhCt-Alb.js";import"./index-CUhURnVS.js";import"./UserIcon-BEweABRK.js";import"./Cog6ToothIcon-BvTBl95j.js";import"./GlobeAltIcon-BkxmqJzW.js";import"./useBranding-BCNrtX7h.js";import"./useDialog-DuOQxqXI.js";import"./VisuallyHidden-Cr3of3YJ.js";import"./keyboard-BDXbbW6H.js";import"./useLabels-BHV0yBRh.js";import"./index-Tq9ucszV.js";import"./XMarkIcon--gM5R0de.js";import"./chunk-AUA5GDXN-Cad1HwkM.js";import"./chunk-WQVQ7P2I-BiptAxDY.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-BjFVj_G8.js";import"./useMediaQuery-CFjr0IG9.js";import"./chunk-IHO36JMK-BmPet94z.js";import"./ShieldCheckIcon-DUOoMhPD.js";import"./AcademicCapIcon-DVnojOmo.js";import"./ArrowLeftIcon-CUEJy8gC.js";import"./ArrowRightIcon-DICRJ_Ns.js";import"./BriefcaseIcon-BsNYkMe6.js";import"./BuildingOfficeIcon-CzRc5e1X.js";import"./CalendarDaysIcon-BZ8h8arD.js";import"./CalendarIcon-CZExlmLQ.js";import"./CheckCircleIcon-CPY3eAib.js";import"./CircleStackIcon-DhRt4s6Q.js";import"./ClipboardDocumentCheckIcon-a1MHJAFw.js";import"./CogIcon-BiiLA3zm.js";import"./DeviceTabletIcon-CRAVSaTx.js";import"./CpuChipIcon-CVx-XBxt.js";import"./CurrencyDollarIcon-N1QpLzqN.js";import"./DevicePhoneMobileIcon-CbRNMx85.js";import"./DocumentArrowUpIcon-BiMs7_tV.js";import"./DocumentIcon-CgmLqZOt.js";import"./EnvelopeIcon-lNL-6U4a.js";import"./ExclamationCircleIcon-CuN_L3S3.js";import"./EyeIcon-Dqvngsk7.js";import"./InformationCircleIcon-BTFz_UfU.js";import"./KeyIcon-DCVrONDG.js";import"./LockClosedIcon-CY8sy-21.js";import"./MapPinIcon-oPfbEIuG.js";import"./PlusCircleIcon-B7lulB88.js";import"./PrinterIcon-Lbuqm7M6.js";import"./RocketLaunchIcon-eN8s1x1N.js";import"./ShoppingCartIcon-CjdzWQYI.js";import"./UserCircleIcon-wZQhNNUW.js";import"./UserGroupIcon-DU2WuyJw.js";import"./chunk-TW2E3XVA-DtgLl7Jw.js";import"./chunk-I3A4XRYQ-DHhZfMYr.js";import"./useToggleState-CA7RtZwQ.js";import"./chunk-ICU6NNET-B5mDoo-_.js";import"./MaintenanceModeBanner-DherX2Hq.js";import"./Item-DkmG2den.js";import"./SelectionManager-A2zuidSS.js";import"./index-M05ntA27.js";import"./useSelectableItem-CkTcpXkm.js";import"./useTreeState-i3Dl0i5Y.js";import"./useMenuTriggerState-BuMN0QBA.js";import"./chunk-KQW2TNLT-BH_nHv4b.js";import"./useLabel-Ba4rujAT.js";import"./chunk-7F3ZLNJ6-B7wuQqZQ.js";import"./index-CKgrrSR-.js";import"./chunk-PMMJMDBI-O9AQpgEY.js";import"./index-BszNIda9.js";import"./useHasTabbableChild-D7Qw_kGz.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-C7cYsred.js";const Et=({accounts:b=[],auth:j})=>{const[l,_]=r.useState(""),[c,C]=r.useState("all"),[m,S]=r.useState("all"),[u,k]=r.useState("all"),[d,v]=r.useState(1),p=10,[ae,A]=r.useState(!1);r.useEffect(()=>{const e=()=>A(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const i=()=>{const a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",s=parseInt(a);return s===0?"none":s<=4?"sm":s<=8?"md":s<=12?"lg":"full"},N=e=>j?.user?.permissions?.includes(e)||j?.user?.is_super_admin,h=b.length>0?b:[{id:1,name:"Business Checking",bank:"Chase Bank",account_number:"****1234",type:"checking",currency:"USD",balance:125e3,status:"active"},{id:2,name:"Savings Account",bank:"Wells Fargo",account_number:"****5678",type:"savings",currency:"USD",balance:5e4,status:"active"},{id:3,name:"Business Credit Card",bank:"American Express",account_number:"****9012",type:"credit_card",currency:"USD",balance:-8500,status:"active"},{id:4,name:"Payroll Account",bank:"Bank of America",account_number:"****3456",type:"checking",currency:"USD",balance:75e3,status:"active"}],B={active:"success",inactive:"warning",closed:"default"},w={checking:"Checking",savings:"Savings",credit_card:"Credit Card",loan:"Loan",investment:"Investment"},x=r.useMemo(()=>h.filter(e=>{const a=e.name.toLowerCase().includes(l.toLowerCase())||e.account_number.toLowerCase().includes(l.toLowerCase()),s=c==="all"||e.bank===c,D=m==="all"||e.type===m,$=u==="all"||e.status===u;return a&&s&&D&&$}),[h,l,c,m,u]),F=Math.ceil(x.length/p),L=r.useMemo(()=>{const e=(d-1)*p,a=e+p;return x.slice(e,a)},[d,x]),R=(e,a="USD")=>`${e<0?"-":""}$${Math.abs(e).toLocaleString()}`,T=e=>{_(e),v(1)},E=(e,a)=>{switch(a){case"name":return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5 text-primary"}),t.jsx("span",{className:"font-medium",children:e.name})]});case"bank":return t.jsx("span",{children:e.bank});case"account_number":return t.jsx("span",{className:"font-mono text-sm",children:e.account_number});case"type":return t.jsx("span",{children:w[e.type]});case"currency":return t.jsx(y,{size:"sm",variant:"flat",children:e.currency});case"balance":const s=e.balance<0;return t.jsx("span",{className:`font-semibold ${s?"text-danger":"text-success"}`,children:R(e.balance,e.currency)});case"status":return t.jsx(y,{color:B[e.status],size:"sm",variant:"flat",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)});case"actions":return t.jsxs(H,{children:[t.jsx(O,{children:t.jsx(g,{isIconOnly:!0,size:"sm",variant:"light",children:t.jsx(I,{className:"w-5 h-5"})})}),t.jsxs(W,{"aria-label":"Account actions",children:[t.jsx(o,{children:"View Details"},"view"),t.jsx(o,{children:"View Transactions"},"transactions"),t.jsx(o,{children:"Reconcile"},"reconcile"),t.jsx(o,{children:"Edit"},"edit"),t.jsx(o,{className:"text-warning",color:"warning",children:"Deactivate"},"deactivate")]})]});default:return null}},M=[{uid:"name",name:"Account Name"},{uid:"bank",name:"Bank"},{uid:"account_number",name:"Account Number"},{uid:"type",name:"Type"},{uid:"currency",name:"Currency"},{uid:"balance",name:"Balance"},{uid:"status",name:"Status"},{uid:"actions",name:"Actions"}];return t.jsxs(U,{children:[t.jsx(z,{title:"Bank Accounts"}),t.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bank Accounts"}),t.jsx("p",{className:"text-default-500",children:"Manage your bank accounts and balances"})]}),N("finance.bank-accounts.create")&&t.jsx(g,{color:"primary",startContent:t.jsx(V,{className:"w-5 h-5"}),radius:i(),children:"Add Account"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsx(J,{placeholder:"Search accounts...",value:l,onValueChange:T,startContent:t.jsx(q,{className:"w-4 h-4 text-default-400"}),className:"w-full sm:w-64",radius:i()}),t.jsxs(f,{placeholder:"All Banks",className:"w-full sm:w-48",radius:i(),onChange:e=>C(e.target.value),children:[t.jsx(n,{value:"all",children:"All Banks"},"all"),[...new Set(h.map(e=>e.bank))].map(e=>t.jsx(n,{value:e,children:e},e))]}),t.jsxs(f,{placeholder:"All Types",className:"w-full sm:w-48",radius:i(),onChange:e=>S(e.target.value),children:[t.jsx(n,{value:"all",children:"All Types"},"all"),Object.entries(w).map(([e,a])=>t.jsx(n,{value:e,children:a},e))]}),t.jsxs(f,{placeholder:"All Status",className:"w-full sm:w-48",radius:i(),onChange:e=>k(e.target.value),children:[t.jsx(n,{value:"all",children:"All Status"},"all"),t.jsx(n,{value:"active",children:"Active"},"active"),t.jsx(n,{value:"inactive",children:"Inactive"},"inactive"),t.jsx(n,{value:"closed",children:"Closed"},"closed")]})]}),t.jsxs(K,{"aria-label":"Bank accounts table",bottomContent:t.jsx("div",{className:"flex w-full justify-center",children:t.jsx(te,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:d,total:F,onChange:e=>v(e)})}),children:[t.jsx(Z,{columns:M,children:e=>t.jsx(ee,{children:e.name},e.uid)}),t.jsx(Q,{items:L,emptyContent:"No bank accounts found",children:e=>t.jsx(X,{children:a=>t.jsx(Y,{children:E(e,a)})},e.id)})]})]})]})};export{Et as default};
