import{j as e,F as ye,d as G,b as w,r as n,c as oe,a as de,T as rt,e as Q,s as se,L as st,p as we,H as at,m as Ue}from"./app-DLWZL5EI.js";import{s as Oe}from"./routeUtils-C6MiLID5.js";import{ah as xe,r as Ve,L as nt,as as it,at as lt,au as ot,av as dt,ar as ct,b as mt,F as Ae,a as pt,ab as xt,d as ht,A as ut}from"./App-CPiN04Y0.js";import{S as gt}from"./StatsCards-Wc45_pXA.js";import{s as Z}from"./toastUtils-CQ8tPw7l.js";import{F as ce}from"./BuildingOfficeIcon-BJoAl2gF.js";import{F as me}from"./BriefcaseIcon-CunjT5yU.js";import{a as ze,F as fe}from"./TrashIcon-C6DesZfk.js";import{m as Ge,a as qe,b as ft,c as bt}from"./chunk-TW2E3XVA-dNGvEz5r.js";import{m as jt}from"./chunk-5LXTSPS7-CJuDP5FM.js";import{F as We}from"./XMarkIcon-C9tv-sqJ.js";import{F as Ke}from"./CheckCircleIcon-CaJShsm_.js";import{p as vt}from"./chunk-VFIJPDYX-DD_no7wC.js";import{F as yt}from"./MapPinIcon-CoSq0ZKP.js";import{F as Ye}from"./UserIcon-DiPxEy9e.js";import{F as Xe}from"./PencilIcon-Da-ZoIco.js";import{F as Ie}from"./EnvelopeIcon-BNQywoLu.js";import{F as Me}from"./useMediaQuery-CZ_V8brP.js";import{t as wt,a as Nt,b as _t,c as kt}from"./chunk-F3UDT23P-iuiXDnoX.js";import{t as Pt,a as Ft}from"./chunk-YRZGWF2W-C3idaI1g.js";import{p as Je}from"./chunk-NL7EUJG2-cD5brqfz.js";import{d as be,a as je,b as ve,m as ne}from"./PlusIcon-CgcHryUb.js";import{s as Ne}from"./chunk-C3QHEOC2-Bmp2Jpe_.js";import{l as pe}from"./chunk-Y5DMIIWQ-zhqLBGLU.js";import{u as St}from"./chunk-NGIUTAK3-BIjgviLU.js";import{O as Ct}from"./OnboardEmployeeModal-H1ybLicz.js";import{F as le}from"./UsersIcon-CpsA-xGl.js";import{F as Qe}from"./MagnifyingGlassIcon-C9l2NPQE.js";import{F as Rt}from"./ExclamationCircleIcon-D-5waelr.js";import{i as Ze}from"./chunk-SQIAVXJX-C5zDfxFa.js";import{s as ie}from"./chunk-P7ACKWSP-C7P2-EIz.js";import{a as Dt}from"./chunk-CV4BWJDJ-C645uC3W.js";import{F as Et}from"./ChartBarIcon-CnSK0enl.js";import{F as Tt}from"./FunnelIcon-D8WHt0li.js";import{c as Be}from"./chunk-C6WKGNND-Dq1nEPC1.js";import{b as $t}from"./chunk-57V4RE7B-kgS1ny0L.js";import"./app-BI-xrU3s.js";import"./index-lAyyVki8.js";/* empty css                      */import"./Cog6ToothIcon-CI3NiAkm.js";import"./GlobeAltIcon-CFAl4tmE.js";import"./useBranding-C98uB2bk.js";import"./useDialog-LKdJQ55I.js";import"./getScrollParent-B27hviGV.js";import"./keyboard-CSKkBtIV.js";import"./useLabels-CKC_NELL.js";import"./VisuallyHidden-Dslt4DE9.js";import"./index-B5MKI_DQ.js";import"./index-Dz459_my.js";import"./chunk-AUA5GDXN-DgHZKZnK.js";import"./chunk-WQVQ7P2I-BXEU6rr0.js";import"./number-CB4zbwAz.js";import"./chunk-LGMZDQT5-BbUrfslF.js";import"./chunk-IHO36JMK-DYeauZfe.js";import"./ShieldCheckIcon-BxwQA0uM.js";import"./AcademicCapIcon-Bs9t2qow.js";import"./IdentificationIcon-6E2VOCK1.js";import"./ArrowLeftIcon-a6q7R3tQ.js";import"./ArrowRightIcon-BZNmx9ah.js";import"./BoltIcon-BRTqiOqL.js";import"./CalendarDaysIcon-BR4QgBq8.js";import"./CalendarIcon-BTj7Nn7B.js";import"./CircleStackIcon-20fpj2M5.js";import"./ClipboardDocumentCheckIcon-Bwahsg1t.js";import"./CogIcon-CQIGGanJ.js";import"./DeviceTabletIcon-CR6eyvHQ.js";import"./CpuChipIcon-Dkmm6hKt.js";import"./CurrencyDollarIcon-DK6JNn4H.js";import"./DevicePhoneMobileIcon-DzKKUXAD.js";import"./DocumentArrowUpIcon-CdnT1l-_.js";import"./DocumentIcon-YVJ_odhG.js";import"./EyeSlashIcon-C7uJqcIF.js";import"./EyeIcon-Ds6DAjR7.js";import"./InformationCircleIcon-2sIUPx4E.js";import"./KeyIcon-Dl6jmBIi.js";import"./LockClosedIcon-DWSbAAT6.js";import"./PlusCircleIcon-borTRmVT.js";import"./PrinterIcon-jsVlFWpL.js";import"./RocketLaunchIcon-C1ofXZeY.js";import"./ShoppingCartIcon-DijpYrUE.js";import"./UserCircleIcon-D9Bl7hMN.js";import"./UserGroupIcon-DLyCB4U6.js";import"./chunk-I3A4XRYQ-CbmreU5k.js";import"./useToggleState-C1tJJPv7.js";import"./chunk-ICU6NNET-BuoRM2Mj.js";import"./MaintenanceModeBanner-CpiCdC4n.js";import"./useProgressBar-BmJFnG-i.js";import"./useLabel-BC4q2FsI.js";import"./useNumberFormatter-DOVyNCK1.js";import"./NumberFormatter-DNR9MAW-.js";import"./useSelectableItem-Qild1lMf.js";import"./SelectionManager-UhxaObWG.js";import"./chunk-PMMJMDBI-DH4qNxn7.js";import"./index-BJ8QHXMy.js";import"./useHasTabbableChild-DwAon3z_.js";import"./chunk-7F3ZLNJ6-BH294qJ7.js";import"./index-CGn2JJsk.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-Bg0Or-mv.js";import"./Item-hnCJOaQ5.js";import"./index-D3fxkw17.js";import"./useTreeState-CsNDLaZy.js";import"./useMenuTriggerState-CpMESG3a.js";import"./useField-CN4URFK6.js";import"./chunk-KQW2TNLT-BxZBj3py.js";import"./index-DD7PnbC4.js";const At=({open:A,onClose:S,employee:c,onConfirm:R,loading:b=!1})=>{if(!c)return null;const k=c.active_projects_count>0||c.pending_leaves_count>0||c.active_trainings_count>0;return e.jsx(Ge,{isOpen:A,onClose:S,size:"2xl",classNames:{backdrop:"bg-black/50 backdrop-blur-sm",base:"border border-white/20 bg-white/90 backdrop-blur-md",header:"border-b border-danger/30 bg-gradient-to-r from-danger-50/50 to-danger-100/30",body:"py-0",footer:"border-t border-white/10 bg-white/5"},children:e.jsxs(qe,{children:[e.jsx(ft,{className:"flex items-center gap-4 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 text-danger",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-danger/20 to-danger/10 flex items-center justify-center border border-danger/30",children:e.jsx(ye,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Delete Employee"})]})}),e.jsxs(bt,{children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 backdrop-blur-2xl border border-white/10 mb-6 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsx(xe,{src:c.profile_image_url||c.profile_image,name:c.name,size:"lg",className:"ring-2 ring-white/20 shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:c.name}),e.jsx("p",{className:"text-sm text-default-500",children:c.email}),c.employee_id&&e.jsxs("span",{className:"inline-block mt-1 px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/10",children:["ID: ",c.employee_id]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Department"})]}),e.jsx("p",{className:"text-sm font-medium",children:c.department_name||"Not assigned"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Designation"})]}),e.jsx("p",{className:"text-sm font-medium",children:c.designation_name||"Not assigned"})]})]})]}),e.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-danger-50/50 backdrop-blur-2xl border border-danger/30",children:e.jsxs("div",{className:"flex items-center gap-3 text-danger",children:[e.jsx(ye,{className:"w-5 h-5"}),e.jsx("p",{className:"text-sm font-medium",children:"This action will permanently delete the employee record and cannot be undone."})]})}),k&&e.jsxs("div",{className:"p-6 rounded-2xl bg-warning-50/50 backdrop-blur-2xl border border-warning/30 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-warning/20 flex items-center justify-center",children:e.jsx(ye,{className:"w-4 h-4 text-warning"})}),e.jsx("h4",{className:"text-sm font-semibold text-warning",children:"Employee Has Active Data"})]}),e.jsx("p",{className:"text-sm text-default-500 mb-4",children:"This employee has the following active records that will also be affected:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.active_projects_count>0&&e.jsxs(G,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[c.active_projects_count," Active Projects"]}),c.pending_leaves_count>0&&e.jsxs(G,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[c.pending_leaves_count," Pending Leaves"]}),c.active_trainings_count>0&&e.jsxs(G,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[c.active_trainings_count," Active Trainings"]})]})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10 mb-4",children:[e.jsxs("p",{className:"text-sm mb-2 font-medium",children:["Are you sure you want to delete ",e.jsx("span",{className:"text-danger font-semibold",children:c.name}),"?"]}),e.jsx("p",{className:"text-xs text-default-500",children:"Type the employee's name below to confirm this permanent deletion:"})]})]}),e.jsxs(jt,{className:"flex justify-between px-6 py-6 bg-white/5",children:[e.jsx(w,{variant:"light",onPress:S,isDisabled:b,className:"hover:bg-white/10",children:"Cancel"}),e.jsx(w,{color:"danger",variant:"solid",onPress:R,isLoading:b,startContent:!b&&e.jsx(ze,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-danger to-danger-600 hover:from-danger-600 hover:to-danger-700 shadow-lg",children:b?"Deleting...":"Delete Employee"})]})]})})},He=window.axios,It=({isOpen:A,onClose:S,employee:c,onImageUpdate:R})=>{const b=n.useRef(null),[k,v]=n.useState(null),[V,u]=n.useState(null),[P,D]=n.useState(!1),[ee,y]=n.useState(0),[N,j]=n.useState(""),te=2*1024*1024,q=["image/jpeg","image/jpg","image/png","image/webp"],M=100,H=2e3,U=c?.profile_image_url||null,W=U&&U!==null,K=T=>{const i=T.target.files[0];if(!i)return;if(j(""),!q.includes(i.type)){j("Invalid file type. Please select a JPEG, PNG, or WebP image.");return}if(i.size>te){j(`File too large. Maximum size is ${te/1024/1024}MB.`);return}const h=URL.createObjectURL(i),o=new Image;o.onload=()=>{if(o.width<M||o.height<M){j(`Image dimensions too small. Minimum size is ${M}x${M} pixels.`),URL.revokeObjectURL(h);return}if(o.width>H||o.height>H){j(`Image dimensions too large. Maximum size is ${H}x${H} pixels.`),URL.revokeObjectURL(h);return}v(i),u(h)},o.onerror=()=>{j("Invalid image file."),URL.revokeObjectURL(h)},o.src=h},g=async()=>{if(!k||!c){console.error("[ProfileUpload] Missing file or employee:",{selectedFile:k,employee:c});return}D(!0),y(0),j("");const T=new FormData;T.append("profile_image",k),T.append("user_id",c.id);const i=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),h=new Promise(async(o,f)=>{try{const a=await He.post(route("profile.image.upload"),T,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":i},onUploadProgress:x=>{const F=Math.round(x.loaded*100/x.total);y(F)}});if(a.status===200&&a.data.success){if(R){const x=a.data.profile_image_url;R(c.id,x)}_(),o([a.data.message||"Profile picture updated successfully!"])}else f([a.data.message||"Upload failed"])}catch(a){console.error("[ProfileUpload] Error details:",{message:a.message,status:a.response?.status,statusText:a.response?.statusText,responseData:a.response?.data,errors:a.response?.data?.errors,headers:a.response?.headers});let x="Failed to upload profile picture",F="";if(a.response?.status===419)x="Session expired (CSRF token mismatch). Please refresh the page.",F="CSRF Token Error";else if(a.response?.status===413)x="File too large. Please choose a smaller image.",F="File Size Error";else if(a.response?.status===422){const B=a.response.data?.errors;B?x=Object.values(B).flat().join(", ")||a.response.data.message||"Validation failed":x=a.response.data.message||"Validation failed",F="Validation Error"}else a.response?.status===403?(x=a.response.data?.message||"Unauthorized to upload profile image",F="Authorization Error"):a.response?.status===500?(x=a.response.data?.message||"Server error during upload",F="Server Error: "+(a.response.data?.exception||"Unknown")):a.response?.data?.message?(x=a.response.data.message,F=`HTTP ${a.response.status}`):a.message&&(x=a.message,F="Network/Client Error");console.error(`[ProfileUpload] ${F}:`,x),j(`${x}${F?` (${F})`:""}`),f([x])}finally{D(!1),y(0)}});Z.promise(h,{loading:"Uploading profile picture...",success:o=>o[0],error:o=>o[0]})},E=async()=>{if(!c)return;D(!0),j("");const T=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),i=new Promise(async(h,o)=>{try{const f=await He.delete(route("profile.image.remove"),{data:{user_id:c.id},headers:{"X-CSRF-TOKEN":T}});if(f.status===200&&f.data.success){if(R){const a=f.data.profile_image_url;R(c.id,a)}_(),h([f.data.message||"Profile picture removed successfully!"])}else o([f.data.message||"Remove failed"])}catch(f){console.error("Remove error:",f);const a=f.response?.data?.message||f.message||"Failed to remove profile picture";j(a),o([a])}finally{D(!1)}});Z.promise(i,{loading:"Removing profile picture...",success:h=>h[0],error:h=>h[0]})},_=()=>{P||(v(null),u(null),j(""),y(0),V&&URL.revokeObjectURL(V),S())};return c?e.jsx(Ge,{isOpen:A,onClose:_,size:"lg",classNames:{base:"border border-divider bg-content1 shadow-lg",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsx(qe,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Profile Picture"}),e.jsx("p",{className:"text-sm text-gray-500",children:c?.name||"Employee"})]})]}),e.jsx(w,{isIconOnly:!0,variant:"light",onPress:_,className:"text-gray-400 hover:text-gray-600",children:e.jsx(We,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(xe,{src:V||U||void 0,name:c?.name||"Employee",size:"lg",className:"w-24 h-24",showBorder:!0})}),N&&e.jsx(G,{color:"danger",variant:"flat",startContent:e.jsx(ye,{className:"w-4 h-4"}),className:"mb-4 w-full",children:N}),P&&e.jsx("div",{className:"mb-4",children:e.jsx(vt,{value:ee,color:"primary",size:"sm",label:"Uploading...",showValueLabel:!0,className:"w-full"})}),e.jsx(oe,{className:"mb-4",children:e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("input",{ref:b,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:K,className:"hidden",disabled:P}),e.jsx(w,{onPress:()=>b.current?.click(),startContent:e.jsx(Ve,{className:"w-5 h-5"}),variant:"flat",color:"primary",disabled:P,className:"mb-3",children:"Choose New Picture"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"Supported formats: JPEG, PNG, WebP"}),e.jsx("p",{children:"Maximum size: 2MB"}),e.jsx("p",{children:"Minimum dimensions: 100x100px"}),e.jsx("p",{children:"Maximum dimensions: 2000x2000px"})]})]}),k&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(k.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>{v(null),u(null),j("")},disabled:P,children:e.jsx(We,{className:"w-4 h-4"})})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[W&&e.jsx(w,{onPress:E,startContent:e.jsx(ze,{className:"w-4 h-4"}),color:"danger",variant:"flat",disabled:P,children:"Remove Picture"}),e.jsx(w,{onPress:_,variant:"flat",disabled:P,children:"Cancel"}),e.jsx(w,{onPress:g,color:"primary",disabled:!k||P,isLoading:P,children:P?"Uploading...":"Update Picture"})]})]})})}):null},Mt=({allUsers:A,allManagers:S=[],departments:c,designations:R,attendanceTypes:b,setUsers:k,isMobile:v,isTablet:V,pagination:u,onPageChange:P,onRowsPerPageChange:D,totalUsers:ee=0,loading:y=!1,updateEmployeeOptimized:N,deleteEmployeeOptimized:j})=>{const[te,q]=n.useState(!1),[M,H]=n.useState(null),[U,W]=n.useState({}),[K,g]=n.useState(!1),[E,_]=n.useState(null),[T,i]=n.useState(!1),[h,o]=n.useState({isOpen:!1,employee:null}),f=()=>{if(typeof window>"u")return"lg";const s=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",m=parseInt(s);return m===0?"none":m<=4?"sm":m<=8?"md":m<=16?"lg":"full"},a=t=>t?t.replace(/_\d+$/,""):"",x=t=>{const s=t?.config;if(!s)return!1;switch(a(t.slug)){case"geo_polygon":return s.polygon&&s.polygon.length>=3||s.polygons&&s.polygons.some(d=>d.points?.length>=3);case"wifi_ip":return s.allowed_ips&&s.allowed_ips.length>0||s.allowed_ranges&&s.allowed_ranges.length>0||s.ip_locations&&s.ip_locations.some(d=>d.allowed_ips?.length>0||d.allowed_ranges?.length>0);case"route_waypoint":return s.waypoints&&s.waypoints.length>=2||s.routes&&s.routes.some(d=>d.waypoints?.length>=2);case"qr_code":return s.code||s.qr_codes&&s.qr_codes.length>0;default:return!1}},F={geo_polygon:{title:"Geo Polygon",icon:yt,color:"warning"},wifi_ip:{title:"WiFi/IP",icon:rt,color:"secondary"},route_waypoint:{title:"Route Waypoint",icon:it,color:"primary"},qr_code:{title:"QR Code",icon:nt,color:"success"}},B=n.useMemo(()=>{if(!b)return[];const t={};return b.forEach(s=>{if(!s.is_active||!x(s))return;const m=a(s.slug);F[m]&&(t[m]||(t[m]={...F[m],slug:m,types:[]}),t[m].types.push(s))}),Object.values(t).filter(s=>s.types.length>0)},[b]),Y=async(t,s)=>{const m=new Promise(async(d,z)=>{try{if((await Q.post(route("user.updateDepartment",{id:t}),{department:s})).status===200){const C=c.find($=>$.id===parseInt(s))||null;N?.(t,{department_id:s,department_name:C?.name||null,designation_id:null,designation_name:null}),d("Department updated successfully")}}catch(O){console.error("Error updating department:",O),z("Failed to update department")}});Z.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(se,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating department..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},_e=async(t,s)=>{const m=new Promise(async(d,z)=>{try{if((await Q.post(route("user.updateDesignation",{id:t}),{designation_id:s})).status===200){const C=R.find($=>$.id===parseInt(s))||null;N?.(t,{designation_id:s,designation_name:C?.title||null}),d("Designation updated successfully")}}catch(O){console.error("Error updating designation:",O),z("Failed to update designation")}});Z.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(se,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating designation..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},ke=async(t,s)=>{const m=new Promise(async(d,z)=>{try{if((await Q.post(route("user.updateAttendanceType",{id:t}),{attendance_type_id:s})).status===200){const C=b.find($=>$.id===parseInt(s))||null;N&&N(t,{attendance_type_id:s,attendance_type_name:C?.name||null}),d("Attendance type updated successfully")}}catch(O){console.error("Error updating attendance type:",O),z("Failed to update attendance type")}});Z.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(se,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating attendance type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},Pe=t=>{_(t),g(!0)},Fe=async()=>{if(!E)return;i(!0);const t=new Promise(async(s,m)=>{try{(await Q.delete(route("user.delete",{id:E.id}))).status===200&&(j&&j(E.id),g(!1),_(null),s("Employee deleted successfully"))}catch(d){console.error("Error deleting employee:",d);let z="Failed to delete employee";d.response?.status===403?z="You do not have permission to delete this employee":d.response?.status===404?z="Employee not found or already deleted":d.response?.data?.error&&(z=d.response.data.error),m(z)}finally{i(!1)}});Z.promise(t,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(se,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting employee..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:s}){return e.jsx("div",{children:s})},icon:"âœ…",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:s}){return e.jsx("div",{children:s})},icon:"âŒ",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},he=()=>{g(!1),_(null)},Se=t=>{o({isOpen:!0,employee:t})},Ce=()=>{o({isOpen:!1,employee:null})},Re=(t,s)=>{N&&N(t,{profile_image_url:s})},ae=n.useRef({}),De=n.useCallback((t,s)=>{ae.current[t]&&clearTimeout(ae.current[t]),ae.current[t]=setTimeout(async()=>{const m=Q.post(route("users.updateReportTo",{id:t}),{report_to:s||null});Z.promise(m,{loading:"Updating manager assignment...",success:d=>(N&&N(t,{report_to:s||null,reports_to:d.data.user?.reports_to||null}),d.data?.message||"Manager assigned successfully!"),error:d=>d.response?.data?.error||"Failed to update manager"})},500)},[N]),Ee=n.useCallback((t,s=null)=>{if(!S||S.length===0)return[];const m=t?.department_id,d=t?.designation_hierarchy_level??999,O=!S.filter(C=>String(C.department_id)===String(m)&&C.id!==t.id).some(C=>(C.designation_hierarchy_level??999)<d);return S.filter(C=>{if(C.id===t.id)return!1;if(s&&C.id===s)return!0;const $=C.department_id,Te=C.designation_hierarchy_level??999,L=String($)===String(m);return Te>=d?!1:!!(L||O)})},[S]),r=n.useMemo(()=>{const t=[{name:"#",uid:"sl",width:60},{name:"EMPLOYEE",uid:"employee",width:"auto",minWidth:200},{name:"DEPARTMENT",uid:"department",width:180},{name:"DESIGNATION",uid:"designation",width:180},{name:"REPORT TO",uid:"report_to",width:200},{name:"ACTIONS",uid:"actions",width:80}];if(v||t.splice(2,0,{name:"CONTACT",uid:"contact",width:220}),!v&&!V&&t.splice(t.length-2,0,{name:"ATTENDANCE TYPE",uid:"attendance_type",width:180}),v){const s=t.findIndex(m=>m.uid==="report_to");s>-1&&t.splice(s,1)}return t},[v,V]),l=(t,s,m)=>{const d=t[s],C=(u?.currentPage&&u?.perPage?Number((u.currentPage-1)*u.perPage):0)+(typeof m=="number"?m:0)+1;switch(s){case"sl":return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:e.jsx("span",{className:"text-sm font-semibold text-foreground",children:C})})});case"employee":return e.jsxs("div",{className:"min-w-max",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{src:t?.profile_image_url||t?.profile_image,name:t?.name,size:v?"sm":"md",onClick:()=>Se(t)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-semibold text-foreground text-left whitespace-nowrap",children:t?.name}),!v&&e.jsxs("p",{className:"text-default-500 text-left text-xs whitespace-nowrap",children:["ID: ",t?.employee_id||"N/A"]})]})]}),v&&e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-default-500 ml-10 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(dt,{className:"w-3 h-3"}),t?.employee_id||"N/A"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[150px]",children:t?.email})]}),t?.phone&&e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(Me,{className:"w-3 h-3"}),t?.phone]})]})]});case"contact":return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ie,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:t?.email})]}),t?.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:t?.phone})]})]});case"department":return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(be,{children:[e.jsx(je,{children:e.jsx(w,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e.jsx(ce,{className:"w-4 h-4"}),endContent:e.jsx(fe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:t.department_name||"Select Department"})})}),e.jsx(ve,{"aria-label":"Department options",children:c?.map(p=>e.jsx(ne,{onPress:()=>Y(t.id,p.id),children:p.name},p.id.toString()))})]})});case"designation":const $=t.department_id,Te=R?.filter(p=>p.department_id===parseInt($))||[];return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(be,{isDisabled:!$,children:[e.jsx(je,{children:e.jsx(w,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[150px] transition-all duration-300 ${$?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,isDisabled:!$,startContent:e.jsx(me,{className:"w-4 h-4"}),endContent:$&&e.jsx(fe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:$?t.designation_name||"Select Designation":"Select Department First"})})}),e.jsx(ve,{"aria-label":"Designation options",children:Te.map(p=>e.jsx(ne,{onPress:()=>_e(t.id,p.id),children:p.title},p.id.toString()))})]})});case"report_to":const L=t.reports_to,Le=!!L,ue=t.report_to,et=Ee(t,ue),re=[];et.sort((p,X)=>(p.designation_hierarchy_level??999)-(X.designation_hierarchy_level??999)).forEach(p=>{re.push({id:p.id,name:p.name,profile_image_url:p.profile_image_url,designation_name:p.designation_name||"",description:p.designation_name||"",isCurrent:ue&&p.id===ue})}),Le&&!re.some(p=>p.id===L.id)&&re.unshift({id:L.id,name:L.name,profile_image_url:L.profile_image_url,designation_name:L.designation_name||"",description:L.designation_name||"Current manager",isCurrent:!0});const $e=ue,tt=$e&&re.some(p=>p.id===$e);return e.jsx("div",{className:"flex flex-col gap-2 min-w-[180px]",children:e.jsx(Ne,{size:"sm",variant:"bordered",placeholder:"Select manager",isDisabled:re.length===0,selectedKeys:tt?[String($e)]:[],onSelectionChange:p=>{const X=Array.from(p)[0],J=X?parseInt(X,10):null;J!==t.report_to&&De(t.id,J)},classNames:{trigger:"min-h-unit-10 h-unit-10 backdrop-blur-md border-white/20 bg-white/10 hover:bg-white/15",value:"text-small"},renderValue:p=>p.length===0||!Le?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm",children:"Select manager"})}):p.map(X=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{src:L.profile_image_url,size:"sm",className:"w-6 h-6 flex-shrink-0",name:L.name,showBorder:!0}),e.jsx("span",{className:"text-sm font-medium truncate",children:L.name})]},X.key)),children:re.length===0?e.jsx(pe,{isDisabled:!0,textValue:"No eligible managers",children:e.jsx("span",{className:"text-default-400",children:"No eligible managers in department"})},"no-managers"):re.map(p=>e.jsx(pe,{textValue:p.name,children:e.jsx(St,{name:p.name,description:p.description,avatarProps:{src:p.profile_image_url,size:"sm",name:p.name,...ot({name:p.name,size:"sm"})}})},String(p.id)))})});case"attendance_type":const ge=B.length>0;return e.jsx("div",{className:"flex flex-col gap-2 min-w-[180px]",children:e.jsxs(be,{isDisabled:!ge,children:[e.jsx(je,{children:e.jsx(w,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[180px] transition-all duration-300 ${ge?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,startContent:e.jsx(we,{className:"w-4 h-4"}),endContent:ge&&e.jsx(fe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{className:"truncate",children:ge?t.attendance_type_name||"Select Type":"No Types Configured"})})}),e.jsx(ve,{"aria-label":"Attendance Type options",className:"min-w-[200px]",children:B.map((p,X)=>(p.icon,e.jsx(lt,{title:p.title,showDivider:X<B.length-1,classNames:{heading:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-default-500 px-2 py-1"},children:p.types.map(J=>e.jsx(ne,{onPress:()=>ke(t.id,J.id),startContent:e.jsx("span",{className:"text-base",children:J.icon||"ðŸ“"}),description:J.description?.substring(0,30)||null,children:J.name},J.id.toString()))},p.slug)))})]})});case"actions":return e.jsx("div",{className:"relative flex justify-center items-center",children:e.jsxs(be,{children:[e.jsx(je,{children:e.jsx(w,{isIconOnly:!0,variant:"light",className:"text-default-400 hover:text-foreground transition-all duration-300",children:e.jsx(fe,{className:"w-5 h-5"})})}),e.jsxs(ve,{"aria-label":"Employee Actions",children:[e.jsx(ne,{startContent:e.jsx(Xe,{className:"w-4 h-4"}),href:route("profile",{user:t.id}),as:st,children:"Edit Profile"},"edit"),e.jsx(ne,{className:"text-danger",color:"danger",startContent:e.jsx(ze,{className:"w-4 h-4"}),onPress:()=>Pe(t),children:"Delete"},"delete")]})]})});default:return d}},I=()=>!u||y?null:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(u.currentPage-1)*u.perPage+1," to ",Math.min(u.currentPage*u.perPage,u.total)," of ",u.total," employees"]}),e.jsx(Je,{total:Math.ceil(u.total/u.perPage),initialPage:u.currentPage,page:u.currentPage,onChange:P,size:v?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]});return e.jsxs("div",{className:"w-full overflow-hidden flex flex-col relative",style:{maxHeight:"calc(100vh - 200px)",background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:f()},children:[y&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",backdropFilter:"blur(8px)",borderRadius:f()},children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:f(),backdropFilter:"blur(16px)"},children:[e.jsx(se,{size:"lg",color:"primary"}),e.jsx("span",{className:"text-sm",style:{color:"var(--theme-foreground)"},children:"Loading employees..."})]})}),e.jsx("div",{className:"overflow-auto grow",children:e.jsxs(wt,{"aria-label":"Employees table",removeWrapper:!0,classNames:{base:"bg-transparent min-w-[800px]",th:"backdrop-blur-md font-medium text-xs sticky top-0 z-10 whitespace-nowrap",td:"py-3 whitespace-nowrap",table:"border-collapse table-auto",thead:"",tr:"hover:opacity-80 transition-all duration-200"},style:{"--table-header-bg":"color-mix(in srgb, var(--theme-content2) 60%, transparent)","--table-row-hover":"color-mix(in srgb, var(--theme-content2) 30%, transparent)","--table-border":"color-mix(in srgb, var(--theme-content3) 30%, transparent)"},isHeaderSticky:!0,isCompact:v,children:[e.jsx(Pt,{columns:r,children:t=>e.jsx(Ft,{align:t.uid==="actions"||t.uid==="sl"?"center":"start",width:t.width,minWidth:t.minWidth,className:`backdrop-blur-md ${t.uid==="employee"?"whitespace-nowrap":""}`,style:{backgroundColor:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)"},children:t.name},t.uid)}),e.jsx(Nt,{items:A||[],emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Ye,{className:"w-12 h-12 mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),e.jsx("h6",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"No employees found"}),e.jsx("p",{className:"text-sm opacity-70",style:{color:"var(--theme-foreground)"},children:"Try adjusting your search or filter criteria"})]}),loadingContent:e.jsx(se,{}),isLoading:y,children:(t,s)=>{const m=A?A.findIndex(d=>d.id===t.id):s;return e.jsx(_t,{className:"transition-all duration-200",style:{color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)"},children:d=>e.jsx(kt,{className:"transition-all duration-300",children:e.jsx("div",{className:"transition-all duration-200",children:l(t,d,m)})})},t.id)}})]})}),I(),e.jsx(At,{open:K,onClose:he,employee:E,onConfirm:Fe,loading:T}),e.jsx(It,{isOpen:h.isOpen,onClose:Ce,employee:h.employee,onImageUpdate:Re})]})},zt=({departments:A=[],designations:S=[],managers:c=[],onOnboardingComplete:R})=>{const k=(()=>{const h=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",o=parseInt(h);return o===0?"none":o<=4?"sm":o<=8?"md":o<=12?"lg":"xl"})(),[v,V]=n.useState(!0),[u,P]=n.useState([]),[D,ee]=n.useState(!0),[y,N]=n.useState(""),[j,te]=n.useState(""),[q,M]=n.useState(null),[H,U]=n.useState(!1),[W,K]=n.useState({current_page:1,per_page:20,total:0});n.useEffect(()=>{const i=setTimeout(()=>{te(y)},500);return()=>clearTimeout(i)},[y]);const g=n.useCallback(async()=>{ee(!0);try{const i=await Q.get(route("hrm.employees.pending-onboarding"),{params:{search:j,per_page:W.per_page}});i.data&&(P(i.data.data||[]),i.data.meta&&K(h=>({...h,current_page:i.data.meta.current_page||1,total:i.data.meta.total||0})))}catch(i){console.error("Error fetching pending users:",i),P([])}finally{ee(!1)}},[j,W.per_page]);n.useEffect(()=>{g()},[g]);const E=i=>{M(i),U(!0)},_=i=>{P(h=>h.filter(o=>o.id!==q?.id)),K(h=>({...h,total:Math.max(0,h.total-1)})),R&&R(i),U(!1),M(null)},T=i=>{if(!i)return"N/A";const h=new Date(i),f=new Date-h,a=Math.floor(f/(1e3*60*60*24));return a===0?"Today":a===1?"Yesterday":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} weeks ago`:a<365?`${Math.floor(a/30)} months ago`:h.toLocaleDateString()};return!D&&u.length===0&&!y?null:e.jsxs(e.Fragment,{children:[e.jsx(oe,{radius:k,className:"mb-6",classNames:{base:"bg-content1 border border-divider"},children:e.jsxs(de,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-default-50 transition-colors",onClick:()=>V(!v),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-warning-100 dark:bg-warning-900/20",children:e.jsx(le,{className:"w-5 h-5 text-warning-600 dark:text-warning-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Pending Onboarding"}),e.jsx("p",{className:"text-sm text-default-500",children:D?"Loading...":`${W.total} user${W.total!==1?"s":""} awaiting employee onboarding`})]})]}),e.jsx(w,{isIconOnly:!0,variant:"light",size:"sm",radius:k,children:v?e.jsx(ct,{className:"w-5 h-5"}):e.jsx(mt,{className:"w-5 h-5"})})]}),v&&e.jsxs("div",{className:"border-t border-divider",children:[e.jsx("div",{className:"p-4",children:e.jsx(Ze,{placeholder:"Search by name or email...",value:y,onValueChange:N,startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),radius:k,classNames:{inputWrapper:"bg-default-100"}})}),e.jsxs("div",{className:"p-4 pt-0",children:[D?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((i,h)=>e.jsxs("div",{className:"p-4 rounded-lg border border-divider",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ie,{className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ie,{className:"h-4 w-3/4 rounded"}),e.jsx(ie,{className:"h-3 w-1/2 rounded"}),e.jsx(ie,{className:"h-6 w-20 rounded-full"})]})]}),e.jsx(ie,{className:"h-9 w-full rounded-lg mt-3"})]},h))}):u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-default-100 mb-4",children:e.jsx(Rt,{className:"w-8 h-8 text-default-400"})}),e.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:y?"No users found":"All caught up!"}),e.jsx("p",{className:"text-sm text-default-500 max-w-sm mx-auto",children:y?"Try adjusting your search criteria":"There are no users pending employee onboarding at the moment."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(i=>e.jsxs("div",{className:"p-4 rounded-lg border border-divider hover:border-primary-300 hover:bg-default-50 dark:hover:bg-default-100/50 transition-all",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(Dt,{src:i.profile_picture,name:i.name,size:"md",radius:k,classNames:{base:"bg-gradient-to-br from-primary-400 to-primary-600 flex-shrink-0",icon:"text-white"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:i.name}),e.jsx("p",{className:"text-xs text-default-500 truncate",children:i.email}),i.roles&&i.roles.length>0&&e.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap",children:[i.roles.slice(0,2).map((h,o)=>e.jsx(G,{size:"sm",variant:"flat",color:"default",classNames:{base:"h-5 text-xs"},children:h.name||h},o)),i.roles.length>2&&e.jsxs(G,{size:"sm",variant:"flat",color:"default",classNames:{base:"h-5 text-xs"},children:["+",i.roles.length-2]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[e.jsx("span",{className:"text-xs text-default-400",children:"Joined:"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:T(i.created_at)})]}),e.jsx(w,{color:"primary",size:"sm",radius:k,startContent:e.jsx(Ae,{className:"w-4 h-4"}),onPress:()=>E(i),className:"w-full",children:"Onboard Now"})]},i.id))}),!D&&u.length>0&&W.total>u.length&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-xs text-default-500",children:["Showing ",u.length," of ",W.total," pending users"]})})]})]})]})}),e.jsx(Ct,{open:H,onClose:()=>{U(!1),M(null)},user:q,departments:A,designations:S,managers:c,onSuccess:_})]})},Lt=({title:A,departments:S,designations:c,attendanceTypes:R})=>{const[b,k]=n.useState(!1),[v,V]=n.useState(!1),[u,P]=n.useState(!1),[D,ee]=n.useState(!1);n.useEffect(()=>{const r=()=>{k(window.innerWidth<640),V(window.innerWidth<768),P(window.innerWidth>=1025),ee(window.innerWidth>=641&&window.innerWidth<=1024)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const[y,N]=n.useState([]),[j,te]=n.useState([]),[q,M]=n.useState(!0),[H,U]=n.useState(0),[W,K]=n.useState(1),[g,E]=n.useState({search:"",department:"all",designation:"all",attendanceType:"all"}),[_,T]=n.useState("table"),[i,h]=n.useState(!1),[o,f]=n.useState({currentPage:1,perPage:10,total:0}),a=()=>{if(typeof window>"u")return"lg";const l=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",I=parseInt(l);return I===0?"none":I<=4?"sm":I<=8?"md":I<=16?"lg":"full"},[x,F]=n.useState({overview:{total_employees:0,active_employees:0,inactive_employees:0,total_departments:0,total_designations:0,total_attendance_types:0},distribution:{by_department:[],by_designation:[],by_attendance_type:[]},hiring_trends:{recent_hires:{last_30_days:0,last_90_days:0,last_year:0},monthly_growth_rate:0,current_month_hires:0},workforce_health:{status_ratio:{active_percentage:0,inactive_percentage:0,retention_rate:0},retention_rate:0,turnover_rate:0},quick_metrics:{headcount:0,active_ratio:0,department_diversity:0,role_diversity:0,recent_activity:0}}),B=n.useCallback(async()=>{M(!0);try{const{data:r}=await Q.get(route("employees.paginate"),{params:{page:o.currentPage,perPage:o.perPage,search:g.search,department:g.department,designation:g.designation,attendanceType:g.attendanceType}});N(r.employees.data),U(r.employees.total),K(r.employees.last_page),f(l=>({...l,total:r.employees.total})),r.allManagers&&te(r.allManagers),r.stats&&F(r.stats)}catch(r){console.error("Error fetching employees:",r),Z.error("Failed to load employees. Please try again.")}finally{M(!1)}},[o.currentPage,o.perPage,g]),Y=n.useCallback(async()=>{try{const{data:r}=await Q.get(route("employees.stats"));r.stats&&F(r.stats)}catch(r){console.error("Error fetching employee stats:",r)}},[]);n.useEffect(()=>{B(),Y()},[B,Y]);const _e=n.useCallback(r=>{E(l=>({...l,search:r})),f(l=>({...l,currentPage:1}))},[]),ke=n.useCallback(r=>{E(l=>({...l,department:r,designation:r!=="all"?"all":l.designation})),f(l=>({...l,currentPage:1}))},[]),Pe=n.useCallback(r=>{E(l=>({...l,designation:r})),f(l=>({...l,currentPage:1}))},[]),Fe=n.useCallback(r=>{E(l=>({...l,attendanceType:r})),f(l=>({...l,currentPage:1}))},[]),he=n.useCallback(r=>{f(l=>({...l,currentPage:r}))},[]),Se=n.useCallback(r=>{f(l=>({...l,perPage:r,currentPage:1}))},[]),Ce=n.useCallback((r,l)=>{N(I=>I.map(t=>t.id===r?{...t,...l}:t))},[]),Re=n.useCallback(r=>{N(l=>l.filter(I=>I.id!==r)),U(l=>l-1),f(l=>({...l,total:l.total-1})),Y()},[Y]),ae=n.useMemo(()=>g.department==="all"?c:c.filter(r=>r.department_id===parseInt(g.department)),[c,g.department]),De=n.useMemo(()=>[{title:"Total Employees",value:x.overview?.total_employees||0,icon:e.jsx(le,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Total Headcount"},{title:"Active Employees",value:x.overview?.active_employees||0,icon:e.jsx(Ke,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${x.workforce_health?.status_ratio?.active_percentage||0}% Active`},{title:"Departments",value:x.overview?.total_departments||0,icon:e.jsx(ce,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Department Diversity"},{title:"Designations",value:x.overview?.total_designations||0,icon:e.jsx(me,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Role Diversity"},{title:"Retention Rate",value:`${x.workforce_health?.retention_rate||0}%`,icon:e.jsx(pt,{}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Employee Retention"},{title:"Recent Hires",value:x.hiring_trends?.recent_hires?.last_30_days||0,icon:e.jsx(Ae,{}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Last 30 Days"},{title:"Growth Rate",value:`${x.hiring_trends?.monthly_growth_rate||0}%`,icon:e.jsx(Et,{}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Monthly Growth"},{title:"Attendance Types",value:x.overview?.total_attendance_types||0,icon:e.jsx(we,{}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Available Types"}],[x]),Ee=({user:r,index:l})=>{const I=S?.find(m=>m.id===r.department_id),t=c?.find(m=>m.id===r.designation_id),s=R?.find(m=>m.id===r.attendance_type_id);return e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 cursor-pointer h-full",onPress:()=>Oe("profile",{user:r.id}),children:e.jsxs(de,{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 pb-3 border-b border-white/10",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(xe,{src:r?.profile_image_url||r?.profile_image,name:r?.name,size:"md",fallback:e.jsx(Ye,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-semibold text-foreground text-left text-sm",children:r?.name}),e.jsxs("span",{className:"text-default-500 text-left text-xs",children:["ID: ",r?.employee_id||"N/A"]})]}),e.jsx("div",{className:"flex-1 min-w-0 flex justify-end",children:e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",onPress:m=>{m.stopPropagation(),Oe("profile",{user:r.id})},children:e.jsx(Xe,{className:"w-4 h-4"})})})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ie,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs truncate",children:r?.email})]}),r?.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs",children:r?.phone})]})]})}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex flex-wrap gap-2",children:[I&&e.jsx(G,{size:"sm",variant:"flat",color:"primary",className:"text-xs",startContent:e.jsx(ce,{className:"w-3 h-3"}),children:I.name}),t&&e.jsx(G,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",startContent:e.jsx(me,{className:"w-3 h-3"}),children:t.title}),s&&e.jsx(G,{size:"sm",variant:"bordered",className:"text-xs",startContent:e.jsx(we,{className:"w-3 h-3"}),children:s.name})]})]})})};return e.jsxs(e.Fragment,{children:[e.jsx(at,{title:A||"Employee Directory"}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Employee Directory Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(Ue.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(oe,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Be,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${u?"p-6":D?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                              ${u?"p-3":D?"p-2.5":"p-2"} 
                              rounded-xl flex items-center justify-center
                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(le,{className:`
                                ${u?"w-8 h-8":D?"w-6 h-6":"w-5 h-5"}
                              `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                ${u?"text-2xl":D?"text-xl":"text-lg"}
                                font-bold text-foreground
                                ${u?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"}),e.jsx("p",{className:`
                                ${u?"text-sm":"text-xs"} 
                                text-default-500
                                ${u?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage employee information and organizational structure"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(w,{as:Link,href:route("users"),className:"text-white font-medium",style:{background:"linear-gradient(135deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))",borderRadius:a()},startContent:e.jsx(Ae,{className:"w-4 h-4"}),children:b?"Go to Users":"Add from User List"})})]})})})}),e.jsxs(de,{className:"p-6",children:[e.jsx(gt,{stats:De,className:"mb-6"}),e.jsx(zt,{departments:S||[],designations:c||[],managers:j||[],onOnboardingComplete:r=>{B(),Y()}}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:a(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Department Distribution"}),e.jsx("div",{className:"space-y-3",children:x.distribution?.by_department?.slice(0,5).map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 rounded-full overflow-hidden",style:{background:"color-mix(in srgb, var(--theme-content3) 40%, transparent)"},children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${r.percentage}%`,background:"linear-gradient(90deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))"}})}),e.jsx("span",{className:"text-xs w-8 opacity-70",style:{color:"var(--theme-foreground)"},children:r.count})]})]},l))})]}),e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:a(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Hiring Trends"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 30 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:x.hiring_trends?.recent_hires?.last_30_days||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 90 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:x.hiring_trends?.recent_hires?.last_90_days||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"This Year"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:x.hiring_trends?.recent_hires?.last_year||0})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Monthly Growth"}),e.jsxs("span",{className:`text-sm font-medium ${(x.hiring_trends?.monthly_growth_rate||0)>=0?"text-green-400":"text-red-400"}`,children:[x.hiring_trends?.monthly_growth_rate||0,"%"]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workforce Health"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Retention Rate"}),e.jsxs("span",{className:"text-sm font-medium text-green-400",children:[x.workforce_health?.retention_rate||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Turnover Rate"}),e.jsxs("span",{className:"text-sm font-medium text-orange-400",children:[x.workforce_health?.turnover_rate||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Active Employees"}),e.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[x.workforce_health?.status_ratio?.active_percentage||0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Attendance Types"}),e.jsx("div",{className:"space-y-3",children:x.distribution?.by_attendance_type?.map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-linear-to-r from-green-500 to-emerald-500 rounded-full",style:{width:`${r.percentage}%`}})}),e.jsx("span",{className:"text-xs text-default-500 w-8",children:r.count})]})]},l))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ze,{label:"Search Employees",placeholder:"Search by name, email, or employee ID...",value:g.search,onChange:r=>_e(r.target.value),startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:"sm",radius:a(),classNames:{input:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},"aria-label":"Search employees"})}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsxs($t,{variant:"bordered",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:a()},children:[e.jsxs(w,{isIconOnly:b,color:_==="table"?"primary":"default",onPress:()=>T("table"),style:{background:_==="table"?"var(--theme-primary)":"transparent",color:_==="table"?"white":"var(--theme-foreground)"},children:[e.jsx(xt,{className:"w-4 h-4"}),!b&&e.jsx("span",{className:"ml-1",children:"Table"})]}),e.jsxs(w,{isIconOnly:b,color:_==="grid"?"primary":"default",onPress:()=>T("grid"),style:{background:_==="grid"?"var(--theme-primary)":"transparent",color:_==="grid"?"white":"var(--theme-foreground)"},children:[e.jsx(ht,{className:"w-4 h-4"}),!b&&e.jsx("span",{className:"ml-1",children:"Grid"})]})]}),e.jsx(w,{isIconOnly:!0,variant:"bordered",onPress:()=>h(!i),style:{background:i?"color-mix(in srgb, var(--theme-primary) 20%, transparent)":"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",color:i?"var(--theme-primary)":"var(--theme-foreground)",borderRadius:a()},children:e.jsx(Tt,{className:"w-4 h-4"})})]})]}),i&&e.jsx(Ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4",children:e.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:a(),backdropFilter:"blur(16px)"},children:[e.jsx(Ne,{label:"Department",placeholder:"All Departments",selectedKeys:g.department!=="all"?[g.department]:[],onSelectionChange:r=>{const l=Array.from(r)[0];ke(l||"all")},variant:"bordered",size:"sm",radius:a(),startContent:e.jsx(ce,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:S?.map(r=>e.jsx(pe,{textValue:r.name,children:r.name},String(r.id)))}),e.jsx(Ne,{label:"Designation",placeholder:"All Designations",selectedKeys:g.designation!=="all"?[g.designation]:[],onSelectionChange:r=>{const l=Array.from(r)[0];Pe(l||"all")},variant:"bordered",size:"sm",radius:a(),isDisabled:g.department==="all",startContent:e.jsx(me,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:ae?.map(r=>e.jsx(pe,{textValue:r.title,children:r.title},String(r.id)))}),e.jsx(Ne,{label:"Attendance Type",placeholder:"All Attendance Types",selectedKeys:g.attendanceType!=="all"?[g.attendanceType]:[],onSelectionChange:r=>{const l=Array.from(r)[0];Fe(l||"all")},variant:"bordered",size:"sm",radius:a(),startContent:e.jsx(we,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:R?.map(r=>e.jsx(pe,{textValue:r.name,children:r.name},String(r.id)))}),e.jsx("div",{className:"flex items-end",children:e.jsx(w,{variant:"flat",size:"sm",className:"w-full",onPress:()=>{E({search:"",department:"all",designation:"all",attendanceType:"all"}),f(r=>({...r,currentPage:1}))},isDisabled:g.search===""&&g.department==="all"&&g.designation==="all"&&g.attendanceType==="all",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",color:"var(--theme-danger)",borderRadius:a()},children:"Clear Filters"})})]})})]}),e.jsxs(oe,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                      var(--theme-content1, #FAFAFA) 20%, 
                      var(--theme-content2, #F4F4F5) 10%, 
                      var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Be,{className:"border-b pb-2",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)"},children:e.jsx(le,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"})]})}),e.jsx(de,{children:e.jsx("div",{className:"max-h-[84vh] overflow-y-auto",children:q?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{size:"lg",color:"primary"}),e.jsx("p",{className:"mt-4 text-default-500",children:"Loading employees data..."})]}):_==="table"?e.jsx(Mt,{allUsers:y,allManagers:j,departments:S,designations:c,attendanceTypes:R,setUsers:N,isMobile:b,isTablet:v,pagination:o,onPageChange:he,onRowsPerPageChange:Se,totalUsers:H,loading:q,updateEmployeeOptimized:Ce,deleteEmployeeOptimized:Re}):e.jsxs("div",{className:"p-4",children:[y.length>0?e.jsx("div",{className:`grid gap-4 ${b?"grid-cols-1":v?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:y.map((r,l)=>e.jsx(Ee,{user:r,index:l},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"w-12 h-12 mx-auto text-default-300 mb-2"}),e.jsx("p",{className:"text-base text-default-500",children:"No employees found"}),e.jsx("p",{className:"text-sm text-default-500",children:"Try adjusting your search or filters"})]}),y.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(o.currentPage-1)*o.perPage+1," to ",Math.min(o.currentPage*o.perPage,o.total)," of ",o.total," employees"]}),e.jsx(Je,{total:Math.ceil(o.total/o.perPage),initialPage:o.currentPage,page:o.currentPage,onChange:he,size:b?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]})]})})})]})]})]})})})})})]})};Lt.layout=A=>e.jsx(ut,{children:A});export{Lt as default};
