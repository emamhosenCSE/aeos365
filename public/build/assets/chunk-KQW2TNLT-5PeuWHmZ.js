import{Y as De,r as n,aq as ye,U as Ie,T as sa,V as na,ar as ia,R as oa,Z as ra,as as Pe,w as K,at as da,y as m,au as ua,a4 as xe,aj as ge,av as ca,S as ba,a0 as fa,a3 as l,a2 as j,ak as Me,a6 as va}from"./app-BgLDHKD5.js";import{$ as Re,u as pa}from"./index-C0LFpLkW.js";import{a as ma,$ as ha,b as Ca,u as $a,F as ya}from"./chunk-ICU6NNET-Cpcb5jR1.js";import{$ as Pa}from"./useLabel-MYEBYnig.js";function xa(e){const o=De(),u=o?.labelPlacement;return n.useMemo(()=>{var c,r;const b=(r=(c=e.labelPlacement)!=null?c:u)!=null?r:"inside";return b==="inside"&&!e.label?"outside":b},[e.labelPlacement,u,e.label])}function ga(e){let{description:o,errorMessage:u,isInvalid:c,validationState:r}=e,{labelProps:b,fieldProps:h}=Pa(e),C=ye([!!o,!!u,c,r]),d=ye([!!o,!!u,c,r]);return h=Ie(h,{"aria-describedby":[C,d,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:b,fieldProps:h,descriptionProps:{id:C},errorMessageProps:{id:d}}}function Ma(e,o){let{inputElementType:u="input",isDisabled:c=!1,isRequired:r=!1,isReadOnly:b=!1,type:h="text",validationBehavior:C="aria"}=e,[d,B]=Re(e.value,e.defaultValue||"",e.onChange),{focusableProps:f}=sa(e,o),O=ma({...e,value:d}),{isInvalid:N,validationErrors:F,validationDetails:g}=O.displayValidation,{labelProps:I,fieldProps:z,descriptionProps:U,errorMessageProps:E}=ga({...e,isInvalid:N,errorMessage:e.errorMessage||F}),Y=na(e,{labelable:!0});const a={type:h,pattern:e.pattern};let[Z]=n.useState(d);var R;return ha(o,(R=e.defaultValue)!==null&&R!==void 0?R:Z,B),Ca(e,O,o),n.useEffect(()=>{if(o.current instanceof ia(o.current).HTMLTextAreaElement){let $=o.current;Object.defineProperty($,"defaultValue",{get:()=>$.value,set:()=>{},configurable:!0})}},[o]),{labelProps:I,inputProps:Ie(Y,u==="input"?a:void 0,{disabled:c,readOnly:b,required:r&&C==="native","aria-required":r&&C==="aria"||void 0,"aria-invalid":N||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:d,onChange:$=>B($.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,form:e.form,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(oa.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...f,...z}),descriptionProps:U,errorMessageProps:E,isInvalid:N,validationErrors:F,validationDetails:g}}function ka(e){var o,u,c,r,b,h,C;const d=De(),{validationBehavior:B}=$a(ya)||{},[f,O]=ra(e,Pe.variantKeys),{ref:N,as:F,type:g,label:I,baseRef:z,wrapperRef:U,description:E,className:Y,classNames:a,autoFocus:Z,startContent:R,endContent:$,onClear:y,onChange:te,validationState:We,validationBehavior:ke=(o=B??d?.validationBehavior)!=null?o:"native",innerWrapperRef:Be,onValueChange:le=()=>{},...se}=f,Oe=n.useCallback(t=>{le(t??"")},[le]),[G,Ne]=n.useState(!1),Ee=F||"div",ne=(c=(u=e.disableAnimation)!=null?u:d?.disableAnimation)!=null?c:!1,i=K(N),Ve=K(z),we=K(U),Le=K(Be),[P,W]=Re(f.value,(r=f.defaultValue)!=null?r:"",Oe),V=g==="file",Se=((C=(h=(b=i?.current)==null?void 0:b.files)==null?void 0:h.length)!=null?C:0)>0,Fe=["date","time","month","week","range"].includes(g),x=!da(P)||Fe||Se,T=x||G,ie=g==="hidden",oe=e.isMultiline,re=m(a?.base,Y,x?"is-filled":""),Te=n.useCallback(()=>{var t;V?i.current.value="":W(""),y?.(),(t=i.current)==null||t.focus()},[W,y,V]);pa(()=>{i.current&&W(i.current.value)},[i.current]);const{labelProps:de,inputProps:M,isInvalid:_e,validationErrors:J,validationDetails:He,descriptionProps:qe,errorMessageProps:ue}=Ma({...e,validationBehavior:ke,autoCapitalize:e.autoCapitalize,value:P,"aria-label":e.label?e["aria-label"]:ua(e["aria-label"],e.placeholder),inputElementType:oe?"textarea":"input",onChange:W},i);V&&(delete M.value,delete M.onChange);const{isFocusVisible:_,isFocused:H,focusProps:ce}=xe({autoFocus:Z,isTextInput:!0}),{isHovered:q,hoverProps:Ae}=ge({isDisabled:!!e?.isDisabled}),{isHovered:w,hoverProps:Ke}=ge({isDisabled:!!e?.isDisabled}),{focusProps:be,isFocusVisible:fe}=xe(),{focusWithinProps:ve}=ca({onFocusWithinChange:Ne}),{pressProps:pe}=ba({isDisabled:!!e?.isDisabled||!!e?.isReadOnly,onPress:Te}),k=We==="invalid"||_e,v=xa({labelPlacement:e.labelPlacement,label:I}),Q=typeof f.errorMessage=="function"?f.errorMessage({isInvalid:k,validationErrors:J,validationDetails:He}):f.errorMessage||J?.join(" "),L=!!y||e.isClearable,me=!!I||!!E||!!Q,D=!!f.placeholder,he=!!I,X=!!E||!!Q,ee=v==="outside-left",ae=v==="outside-top",Ce=v==="outside"||ee||ae,je=v==="inside",A=i.current?(!i.current.value||i.current.value===""||!P||P==="")&&D:!1,p=!!R,ze=Ce?ee||ae||D||v==="outside"&&p:!1,Ue=v==="outside"&&!D&&!p,s=n.useMemo(()=>Pe({...O,isInvalid:k,labelPlacement:v,isClearable:L,disableAnimation:ne}),[fa(O),k,v,L,p,ne]),Ye=n.useCallback((t={})=>({ref:Ve,className:s.base({class:re}),"data-slot":"base","data-filled":l(x||D||p||A||V),"data-filled-within":l(T||D||p||A||V),"data-focus-within":l(G),"data-focus-visible":l(_),"data-readonly":l(e.isReadOnly),"data-focus":l(H),"data-hover":l(q||w),"data-required":l(e.isRequired),"data-invalid":l(k),"data-disabled":l(e.isDisabled),"data-has-elements":l(me),"data-has-helper":l(X),"data-has-label":l(he),"data-has-value":l(!A),"data-hidden":l(ie),...ve,...t}),[s,re,x,H,q,w,k,X,he,me,A,p,G,_,T,D,ve,ie,e.isReadOnly,e.isRequired,e.isDisabled]),Ze=n.useCallback((t={})=>({"data-slot":"label",className:s.label({class:a?.label}),...j(de,Ke,t)}),[s,w,de,a?.label]),$e=n.useCallback(t=>{t.key==="Escape"&&P&&(L||y)&&!e.isReadOnly&&(W(""),y?.())},[P,W,y,L,e.isReadOnly]),Ge=n.useCallback((t={})=>({"data-slot":"input","data-filled":l(x),"data-filled-within":l(T),"data-has-start-content":l(p),"data-has-end-content":l(!!$),"data-type":g,className:s.input({class:m(a?.input,x?"is-filled":"",oe?"pe-0":"",g==="password"?"[&::-ms-reveal]:hidden":"")}),...j(ce,M,va(se,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(M))}),t),"aria-readonly":l(e.isReadOnly),onChange:Me(M.onChange,te),onKeyDown:Me(M.onKeyDown,t.onKeyDown,$e),ref:i}),[s,P,ce,M,se,x,T,p,$,a?.input,e.isReadOnly,e.isRequired,te,$e]),Je=n.useCallback((t={})=>({ref:we,"data-slot":"input-wrapper","data-hover":l(q||w),"data-focus-visible":l(_),"data-focus":l(H),className:s.inputWrapper({class:m(a?.inputWrapper,x?"is-filled":"")}),...j(t,Ae),onClick:S=>{i.current&&S.currentTarget===S.target&&i.current.focus()},style:{cursor:"text",...t.style}}),[s,q,w,_,H,P,a?.inputWrapper]),Qe=n.useCallback((t={})=>({...t,ref:Le,"data-slot":"inner-wrapper",onClick:S=>{i.current&&S.currentTarget===S.target&&i.current.focus()},className:s.innerWrapper({class:m(a?.innerWrapper,t?.className)})}),[s,a?.innerWrapper]),Xe=n.useCallback((t={})=>({...t,"data-slot":"main-wrapper",className:s.mainWrapper({class:m(a?.mainWrapper,t?.className)})}),[s,a?.mainWrapper]),ea=n.useCallback((t={})=>({...t,"data-slot":"helper-wrapper",className:s.helperWrapper({class:m(a?.helperWrapper,t?.className)})}),[s,a?.helperWrapper]),aa=n.useCallback((t={})=>({...t,...qe,"data-slot":"description",className:s.description({class:m(a?.description,t?.className)})}),[s,a?.description]),ta=n.useCallback((t={})=>({...t,...ue,"data-slot":"error-message",className:s.errorMessage({class:m(a?.errorMessage,t?.className)})}),[s,ue,a?.errorMessage]),la=n.useCallback((t={})=>({...t,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":l(fe),className:s.clearButton({class:m(a?.clearButton,t?.className)}),...j(pe,be)}),[s,fe,pe,be,a?.clearButton]);return{Component:Ee,classNames:a,domRef:i,label:I,description:E,startContent:R,endContent:$,labelPlacement:v,isClearable:L,hasHelper:X,hasStartContent:p,isLabelOutside:ze,isOutsideLeft:ee,isOutsideTop:ae,isLabelOutsideAsPlaceholder:Ue,shouldLabelBeOutside:Ce,shouldLabelBeInside:je,hasPlaceholder:D,isInvalid:k,errorMessage:Q,getBaseProps:Ye,getLabelProps:Ze,getInputProps:Ge,getMainWrapperProps:Xe,getInputWrapperProps:Je,getInnerWrapperProps:Qe,getHelperWrapperProps:ea,getDescriptionProps:aa,getErrorMessageProps:ta,getClearButtonProps:la}}export{ga as $,xa as a,ka as u};
