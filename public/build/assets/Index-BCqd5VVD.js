import{r as t,n as Ze,j as e,H as es,c as K,a as V,F as Re,b as v,f as ss,h as rs,m as ts,e as je}from"./app-DLWZL5EI.js";import{u as ye}from"./useMediaQuery-CZ_V8brP.js";import{S as as}from"./StatsCards-Wc45_pXA.js";import{R as os,U as ls}from"./UserRolesTable-BxH3jt0u.js";import{A as is}from"./App-CPiN04Y0.js";import{s as j}from"./toastUtils-CQ8tPw7l.js";import{F as W}from"./UserGroupIcon-DLyCB4U6.js";import{F as re,b as ns}from"./UsersIcon-CpsA-xGl.js";import{F as cs}from"./Cog6ToothIcon-CI3NiAkm.js";import{F as ds}from"./ShieldCheckIcon-BxwQA0uM.js";import{F as ms}from"./PlusIcon-CgcHryUb.js";import{F as we}from"./MagnifyingGlassIcon-C9l2NPQE.js";import{t as us}from"./chunk-WEIB4WXA-BkR_II6X.js";import{i as te}from"./chunk-SQIAVXJX-C5zDfxFa.js";import{c as ps}from"./chunk-C6WKGNND-Dq1nEPC1.js";import{t as hs,a as Ne}from"./chunk-ML27DD5T-C2q6bFa5.js";import{s as Se}from"./chunk-C3QHEOC2-Bmp2Jpe_.js";import{l as F}from"./chunk-Y5DMIIWQ-zhqLBGLU.js";import{m as Ce,a as _e,b as Fe,c as Ae}from"./chunk-TW2E3XVA-dNGvEz5r.js";import{m as De}from"./chunk-5LXTSPS7-CJuDP5FM.js";import"./app-BI-xrU3s.js";import"./chunk-P7ACKWSP-C7P2-EIz.js";import"./TrashIcon-C6DesZfk.js";import"./chunk-F3UDT23P-iuiXDnoX.js";import"./useSelectableItem-Qild1lMf.js";import"./SelectionManager-UhxaObWG.js";import"./keyboard-CSKkBtIV.js";import"./index-B5MKI_DQ.js";import"./index-Dz459_my.js";import"./getScrollParent-B27hviGV.js";import"./chunk-PMMJMDBI-DH4qNxn7.js";import"./useToggleState-C1tJJPv7.js";import"./chunk-ICU6NNET-BuoRM2Mj.js";import"./index-BJ8QHXMy.js";import"./chunk-LGMZDQT5-BbUrfslF.js";import"./VisuallyHidden-Dslt4DE9.js";import"./useHasTabbableChild-DwAon3z_.js";import"./chunk-7F3ZLNJ6-BH294qJ7.js";import"./index-CGn2JJsk.js";import"./chunk-YRZGWF2W-C3idaI1g.js";import"./chunk-NL7EUJG2-cD5brqfz.js";import"./index-CokAva9Y.js";import"./chunk-OH2E76JR-Bg0Or-mv.js";import"./chunk-AUA5GDXN-DgHZKZnK.js";import"./chunk-WQVQ7P2I-BXEU6rr0.js";import"./number-CB4zbwAz.js";import"./EnvelopeIcon-BNQywoLu.js";import"./index-lAyyVki8.js";/* empty css                      */import"./routeUtils-C6MiLID5.js";import"./chunk-CV4BWJDJ-C645uC3W.js";import"./index-DD7PnbC4.js";import"./UserIcon-DiPxEy9e.js";import"./GlobeAltIcon-CFAl4tmE.js";import"./useBranding-C98uB2bk.js";import"./useDialog-LKdJQ55I.js";import"./useLabels-CKC_NELL.js";import"./XMarkIcon-C9tv-sqJ.js";import"./chunk-IHO36JMK-DYeauZfe.js";import"./AcademicCapIcon-Bs9t2qow.js";import"./IdentificationIcon-6E2VOCK1.js";import"./ArrowLeftIcon-a6q7R3tQ.js";import"./ArrowRightIcon-BZNmx9ah.js";import"./BoltIcon-BRTqiOqL.js";import"./BriefcaseIcon-CunjT5yU.js";import"./BuildingOfficeIcon-BJoAl2gF.js";import"./CalendarDaysIcon-BR4QgBq8.js";import"./CalendarIcon-BTj7Nn7B.js";import"./ChartBarIcon-CnSK0enl.js";import"./CheckCircleIcon-CaJShsm_.js";import"./CircleStackIcon-20fpj2M5.js";import"./ClipboardDocumentCheckIcon-Bwahsg1t.js";import"./CogIcon-CQIGGanJ.js";import"./DeviceTabletIcon-CR6eyvHQ.js";import"./CpuChipIcon-Dkmm6hKt.js";import"./CurrencyDollarIcon-DK6JNn4H.js";import"./DevicePhoneMobileIcon-DzKKUXAD.js";import"./DocumentArrowUpIcon-CdnT1l-_.js";import"./PencilIcon-Da-ZoIco.js";import"./DocumentIcon-YVJ_odhG.js";import"./ExclamationCircleIcon-D-5waelr.js";import"./EyeSlashIcon-C7uJqcIF.js";import"./EyeIcon-Ds6DAjR7.js";import"./FunnelIcon-D8WHt0li.js";import"./InformationCircleIcon-2sIUPx4E.js";import"./KeyIcon-Dl6jmBIi.js";import"./LockClosedIcon-DWSbAAT6.js";import"./MapPinIcon-CoSq0ZKP.js";import"./PlusCircleIcon-borTRmVT.js";import"./PrinterIcon-jsVlFWpL.js";import"./RocketLaunchIcon-C1ofXZeY.js";import"./ShoppingCartIcon-DijpYrUE.js";import"./UserCircleIcon-D9Bl7hMN.js";import"./chunk-I3A4XRYQ-CbmreU5k.js";import"./MaintenanceModeBanner-CpiCdC4n.js";import"./Item-hnCJOaQ5.js";import"./index-D3fxkw17.js";import"./useTreeState-CsNDLaZy.js";import"./useMenuTriggerState-CpMESG3a.js";import"./chunk-KQW2TNLT-BxZBj3py.js";import"./useField-CN4URFK6.js";import"./useLabel-BC4q2FsI.js";const fs=o=>Array.isArray(o)?[...o]:[],xs=o=>{const m={roles:fs(o.roles),errors:[]};return m.roles.length===0&&m.errors.push("No roles data available"),m},ke=(o,m)=>{const[q,z]=t.useState(o);return t.useEffect(()=>{const A=setTimeout(()=>{z(o)},m);return()=>{clearTimeout(A)}},[o,m]),q},d={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"},gs=o=>{const m=t.useMemo(()=>xs(o),[o]),q=m.roles;o.can_manage_super_admin;const z=o.title;o.error;const A=m.errors,Ee=o.users||[],ae=o.is_platform_context||!1,[f,Ue]=t.useState(Ee),G=()=>ae?"/roles":"/api/roles",oe=t.useRef(Date.now()),{themeSettings:Me}=Ze();Me?.mode;const l=ye("(max-width: 640px)"),u=ye("(max-width: 768px)"),p=()=>{if(typeof window>"u")return"lg";const r=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius")?.trim()||"12px",a=parseInt(r);return a===0?"none":a<=4?"sm":a<=8?"md":a<=16?"lg":"full"},[Q,Pe]=t.useState(0),[c,B]=t.useState(q),[x,D]=t.useState(!1),[H,y]=t.useState({roles:d.IDLE,users:d.IDLE}),[Ie,le]=t.useState(!1),[bs,ie]=t.useState(!1),[g,ne]=t.useState(null),[vs,ce]=t.useState(null),[Te,k]=t.useState(!1),[w,de]=t.useState(null),[E,me]=t.useState(""),[U,ue]=t.useState(""),[R,pe]=t.useState("all"),[N,he]=t.useState("all"),M=ke(E,300),P=ke(U,300),[I,T]=t.useState(0),[X,J]=t.useState(0),[S,Rs]=t.useState(10),[L,js]=t.useState(10),[ys,C]=t.useState(""),[ws,$]=t.useState(""),[b,O]=t.useState({name:"",description:"",hierarchy_level:10,is_active:!0,guard_name:"web"}),[fe,_]=t.useState({}),[Ns,xe]=t.useState(new Set),Y=t.useMemo(()=>({totalRoles:Array.isArray(c)?c.length:0,totalUsers:Array.isArray(f)?f.length:0}),[c,f]),ge=t.useMemo(()=>{const s=["Super Administrator"];return f.filter(r=>!r.roles?.some(a=>s.includes(a.name))).length},[f]),Le=t.useMemo(()=>[{title:"Total Roles",value:Y.totalRoles,icon:e.jsx(W,{}),color:"text-blue-500",iconBg:"bg-blue-500/20",description:"System roles"},{title:"Total Users",value:Y.totalUsers,icon:e.jsx(re,{}),color:"text-green-500",iconBg:"bg-green-500/20",description:"All users"},{title:"Assignable Users",value:ge,icon:e.jsx(cs,{}),color:"text-purple-500",iconBg:"bg-purple-500/20",description:"Users for role assignment"}],[Y,ge]),Z=t.useMemo(()=>c.filter(s=>{const r=M===""||s.name.toLowerCase().includes(M.toLowerCase())||s.description&&s.description.toLowerCase().includes(M.toLowerCase()),a=R==="all"||R==="active"&&s.is_active!==!1||R==="inactive"&&s.is_active===!1;return r&&a}),[c,M,R]),ee=t.useMemo(()=>{const s=["Super Administrator","platform_super_administrator","tenant_super_administrator"];return f.filter(r=>{if(r.roles?.some(h=>s.includes(h.name))||!1)return!1;const i=P===""||r.name?.toLowerCase().includes(P.toLowerCase())||r.email?.toLowerCase().includes(P.toLowerCase()),n=N==="all"||r.roles&&r.roles.some(h=>h.name===N);return i&&n})},[f,P,N]),$e=t.useMemo(()=>{const s=I*S;return Z.slice(s,s+S)},[Z,I,S]),Oe=t.useMemo(()=>{const s=X*L;return ee.slice(s,s+L)},[ee,X,L]),Ke=t.useMemo(()=>c.map(s=>s.name).sort(),[c]),Ve=s=>!["Super Administrator","platform_super_administrator","tenant_super_administrator"].includes(s.name),We=t.useCallback(s=>{me(s),T(0)},[]),qe=t.useCallback(s=>{ue(s),J(0)},[]),ze=t.useCallback(s=>{pe(s),T(0)},[]),Ge=t.useCallback(s=>{he(s),J(0)},[]),be=t.useCallback((s=null)=>{ne(s),O({name:s?.name||"",description:s?.description||"",hierarchy_level:s?.hierarchy_level||10,is_active:s?.is_active??!0}),le(!0),_({}),C("")},[]),se=t.useCallback(()=>{le(!1),ne(null),_({}),C(""),O({name:"",description:"",hierarchy_level:10,is_active:!0})},[]),ve=t.useCallback(s=>{const r=["Super Administrator","platform_super_administrator","tenant_super_administrator"];return s.roles?.some(a=>r.includes(a.name))||!1},[]),Qe=t.useCallback(s=>{if(ve(s)){j.error("Super Administrator users' roles cannot be modified. This is a protected user.");return}ce(s),ie(!0);const r=s.roles?new Set(s.roles.map(a=>a.id)):new Set;xe(r)},[ve]);t.useCallback(()=>{ie(!1),ce(null),xe(new Set)},[]);const Be=t.useCallback((s,r)=>{Ue(a=>a.map(i=>{if(i.id===s){const n=c.filter(h=>r.includes(h.name));return{...i,roles:n}}return i}))},[c]),He=t.useCallback(s=>{de(s),k(!0)},[]),Xe=async()=>{if(w){D(!0);try{await je.delete(`${G()}/${w.id}`),B(s=>{const r=s.filter(i=>i.id!==w.id),a=Math.ceil(r.length/S);return I>=a&&a>0&&T(a-1),r}),j.success("Role deleted successfully"),$("Role deleted successfully"),k(!1),de(null),oe.current=Date.now()}catch(s){console.error("Error deleting role:",s);const r=s.response?.data?.error||s.response?.data?.message||"Failed to delete role";j.error(r),C(r)}finally{D(!1)}}},Je=async()=>{_({}),C("");const s={};if(b.name.trim()||(s.name="Role name is required"),b.name.length>255&&(s.name="Role name must be less than 255 characters"),b.description&&b.description.length>500&&(s.description="Description must be less than 500 characters"),Object.keys(s).length>0){_(s);return}D(!0),y(r=>({...r,roles:d.LOADING}));try{const r=g?`${G()}/${g.id}`:G(),i=await je[g?"put":"post"](r,b);(i.status===200||i.status===201)&&(g?(B(n=>n.map(h=>h.id===g.id?i.data.role:h)),j.success("Role updated successfully"),$("Role updated successfully")):(B(n=>[...n,i.data.role]),j.success("Role created successfully"),$("Role created successfully")),se(),y(n=>({...n,roles:d.SUCCESS})),setTimeout(()=>{y(n=>({...n,roles:d.IDLE})),$("")},3e3),oe.current=Date.now())}catch(r){if(console.error("Error saving role:",r),y(a=>({...a,roles:d.ERROR})),r.response?.status===422&&r.response.data.errors)_(r.response.data.errors);else{const a=r.response?.data?.error||r.response?.data?.message||"Failed to save role";j.error(a),C(a)}setTimeout(()=>{y(a=>({...a,roles:d.IDLE}))},3e3)}finally{D(!1)}};t.useEffect(()=>{const s=r=>{if(r.key==="/"&&!r.ctrlKey&&!r.metaKey&&!r.altKey){const a=r.target;if(a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable){r.preventDefault();const i=document.querySelector('input[placeholder*="Search"]');i&&i.focus()}}if(r.key==="Escape"&&(E||U)&&(me(""),ue(""),pe("all"),he("all")),(r.ctrlKey||r.metaKey)&&r.key==="k"){r.preventDefault();const a=document.querySelector('input[placeholder*="Search"]');a&&a.focus()}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[E,U,R,N]);const Ye=()=>e.jsxs(e.Fragment,{children:[e.jsx(Ce,{isOpen:Ie,onClose:x?void 0:se,size:"lg",classNames:{base:"border border-divider bg-content1 shadow-lg",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsxs(_e,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-6 h-6"}),g?"Edit Role":"Create New Role",H.roles===d.LOADING&&e.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})]}),e.jsxs(Ae,{children:[H.roles===d.ERROR&&e.jsx("div",{className:"mb-4 p-3 bg-danger/10 border border-danger/20 rounded-lg",children:e.jsx("p",{className:"text-danger text-sm",children:"Failed to save role. Please check the form and try again."})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-1",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(te,{label:"Role Name",placeholder:"Enter role name",value:b.name,onValueChange:s=>O(r=>({...r,name:s})),isInvalid:!!fe.name,errorMessage:fe.name,description:"Unique identifier for the role",isRequired:!0,isDisabled:x,variant:"bordered",radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),e.jsx("div",{className:"col-span-2",children:e.jsx(us,{label:"Description",placeholder:"Optional description of role responsibilities",value:b.description,onValueChange:s=>O(r=>({...r,description:s})),isDisabled:x,variant:"bordered",minRows:2,radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}})})]})]}),e.jsxs(De,{className:"flex gap-3",children:[e.jsx(v,{variant:"light",onPress:se,isDisabled:x,children:"Cancel"}),e.jsx(v,{color:"primary",onPress:Je,isLoading:x,children:g?"Update Role":"Create Role"})]})]})}),e.jsx(Ce,{isOpen:Te,onClose:()=>k(!1),size:"md",classNames:{base:"border border-divider bg-content1 shadow-lg",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsxs(_e,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-6 h-6 text-danger"}),"Confirm Delete"]}),e.jsx(Ae,{children:e.jsxs("p",{className:"text-foreground/90",children:["Are you sure you want to delete ",w?`the role "${w.name}"`:"this item","? This action cannot be undone."]})}),e.jsxs(De,{className:"flex gap-3",children:[e.jsx(v,{variant:"light",onPress:()=>k(!1),children:"Cancel"}),e.jsx(v,{color:"danger",onPress:Xe,isLoading:x,children:"Delete Role"})]})]})})]});return e.jsxs(e.Fragment,{children:[e.jsx(es,{title:z}),A.length>0&&e.jsx("div",{className:"mb-4 p-4",children:e.jsx(K,{className:"bg-warning/10 border border-warning/30",radius:p(),children:e.jsxs(V,{className:"flex flex-row items-start gap-4",children:[e.jsx(Re,{className:"w-6 h-6 text-warning flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-warning mb-2",children:"Data Integrity Issues Detected"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-default-600",children:A.map((s,r)=>e.jsx("li",{children:s},r))}),e.jsx("p",{className:"text-sm text-default-500 italic mt-2",children:"This may indicate a cache or database synchronization issue on the server."})]}),e.jsx(v,{color:"warning",size:"sm",variant:"flat",onPress:()=>{rs.reload({only:["roles","users"]})},startContent:e.jsx(ss,{className:"w-4 h-4"}),children:"Refresh Data"})]})})}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Role Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(ts.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(K,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                        var(--theme-content1, #FAFAFA) 20%, 
                                        var(--theme-content2, #F4F4F5) 10%, 
                                        var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ps,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${!l&&!u?"p-6":l?"p-3":"p-4"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                            ${!l&&!u?"p-3":l?"p-2":"p-2.5"} 
                                                            rounded-xl flex items-center justify-center
                                                        `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(ds,{className:`
                                                                ${!l&&!u?"w-8 h-8":l?"w-5 h-5":"w-6 h-6"}
                                                            `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                                ${!l&&!u?"text-2xl":l?"text-lg":"text-xl"}
                                                                font-bold text-foreground
                                                                ${l||u?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Management"}),e.jsx("p",{className:`
                                                                ${!l&&!u?"text-sm":"text-xs"} 
                                                                text-default-500
                                                                ${l||u?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage roles and assign them to users"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(v,{className:"font-medium",style:{background:"color-mix(in srgb, var(--theme-success) 15%, transparent)",color:"var(--theme-success)",borderRadius:p(),border:"1px solid color-mix(in srgb, var(--theme-success) 30%, transparent)"},startContent:e.jsx(ns,{className:"w-4 h-4"}),children:l?"Export":"Export Data"})})]})})})}),e.jsxs(V,{className:"p-6",children:[e.jsx(as,{stats:Le}),e.jsxs("div",{className:"w-full mt-6",children:[e.jsxs(hs,{selectedKey:Q.toString(),onSelectionChange:s=>Pe(parseInt(s)),"aria-label":"Role management tabs",variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b",cursor:"w-full",tab:"max-w-fit px-0 h-12 text-default-500",tabContent:""},style:{"--tabs-cursor-bg":"var(--theme-primary)"},children:[e.jsx(Ne,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),e.jsx("span",{className:l?"sr-only":"",children:"Roles Management"})]})},"0"),e.jsx(Ne,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{className:l?"sr-only":"",children:"User-Role Assignment"})]})},"1")]}),Q===0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(K,{className:"mb-4",style:{background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(V,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[e.jsx(W,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),"Roles Management"]}),e.jsx(v,{onPress:()=>be(),startContent:e.jsx(ms,{className:"w-4 h-4"}),className:"text-white font-medium",style:{background:"linear-gradient(135deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))",borderRadius:p()},children:"Add Role"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(te,{"aria-label":"Search roles",placeholder:"Search by role name...",value:E,onValueChange:We,className:"flex-1 min-w-0",radius:p(),startContent:e.jsx(we,{className:"w-4 h-4 text-default-400"}),variant:"bordered",classNames:{inputWrapper:"bg-white/10 backdrop-blur-md border-white/20",base:"flex-1"}}),e.jsxs(Se,{"aria-label":"Filter by status",placeholder:"All Status",variant:"bordered",selectedKeys:[R],onSelectionChange:s=>ze(Array.from(s)[0]),className:"w-full sm:w-[140px] sm:flex-shrink-0",radius:p(),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:[e.jsx(F,{value:"all",children:"All Status"},"all"),e.jsx(F,{value:"active",children:"Active"},"active"),e.jsx(F,{value:"inactive",children:"Inactive"},"inactive")]})]})]})}),e.jsx(os,{roles:$e,onEdit:be,onDelete:He,canManageRole:Ve,isMobile:l,isTablet:u,pagination:{currentPage:I+1,perPage:S,total:Z.length},onPageChange:s=>T(s-1),loading:H.roles===d.LOADING})]}),Q===1&&e.jsxs("div",{className:"mt-4",children:[e.jsx(K,{className:"mb-4",style:{background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(V,{className:"p-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[e.jsx(re,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}}),"User-Role Assignment"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(te,{"aria-label":"Search users",placeholder:"Search by user name or email...",value:U,onValueChange:qe,className:"flex-1 min-w-0",radius:p(),startContent:e.jsx(we,{className:"w-4 h-4 text-default-400"}),variant:"bordered",classNames:{inputWrapper:"bg-white/10 backdrop-blur-md border-white/20",base:"flex-1"}}),e.jsxs(Se,{"aria-label":"Filter by role",placeholder:"All Roles",variant:"bordered",selectedKeys:[N],onSelectionChange:s=>Ge(Array.from(s)[0]),className:"w-full sm:w-[160px] sm:flex-shrink-0",radius:p(),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:[e.jsx(F,{value:"all",children:"All Roles"},"all"),Ke.map(s=>e.jsx(F,{value:s,children:s},s))]})]})]})}),e.jsx(ls,{users:Oe,roles:c,onRowClick:Qe,onRoleChange:Be,context:ae?"admin":"tenant",isMobile:l,isTablet:u,pagination:{currentPage:X+1,perPage:L,total:ee.length},onPageChange:s=>J(s-1),loading:x})]})]})]})]})})})})}),Ye()]})};gs.layout=o=>e.jsx(is,{children:o});export{gs as default};
